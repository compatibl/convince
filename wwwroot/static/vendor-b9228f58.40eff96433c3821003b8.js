"use strict";(self.webpackChunkui_react=self.webpackChunkui_react||[]).push([[2251],{92944:(e,t,i)=>{i.d(t,{B:()=>a,L:()=>l});var o=i(23547),n=i(73278),r=i(81170),s=i(70666),d=i(16021);function a(e){const t=new n.Hl;for(const i of e.items){const e=i.type;if("string"===i.kind){const o=new Promise((e=>i.getAsString(e)));t.append(e,(0,n.ZO)(o))}else if("file"===i.kind){const o=i.getAsFile();o&&t.append(e,h(o))}}return t}function h(e){const t=e.path?s.o.parse(e.path):void 0;return(0,n.Ix)(e.name,t,(async()=>new Uint8Array(await e.arrayBuffer())))}const c=Object.freeze([d.Km.EDITORS,d.Km.FILES,o.g.RESOURCES,o.g.INTERNAL_URI_LIST]);function l(e,t=!1){const i=a(e),d=i.get(o.g.INTERNAL_URI_LIST);if(d)i.replace(r.v.uriList,d);else if(t||!i.has(r.v.uriList)){const t=[];for(const i of e.items){const e=i.getAsFile();if(e){const i=e.path;try{i?t.push(s.o.file(i).toString()):t.push(s.o.parse(e.name,!0).toString())}catch(e){}}}t.length&&i.replace(r.v.uriList,(0,n.ZO)(n.Z0.create(t)))}for(const e of c)i.delete(e);return i}},65520:(e,t,i)=>{i.d(t,{CL:()=>n,Pi:()=>s,QI:()=>r});var o=i(96518);function n(e){return!(!e||"function"!=typeof e.getEditorType)&&e.getEditorType()===o.g.ICodeEditor}function r(e){return!(!e||"function"!=typeof e.getEditorType)&&e.getEditorType()===o.g.IDiffEditor}function s(e){return n(e)?e:r(e)?e.getModifiedEditor():function(e){return!!e&&"object"==typeof e&&"function"==typeof e.onDidChangeActiveEditor}(e)&&n(e.activeCodeEditor)?e.activeCodeEditor:null}},29994:(e,t,i)=>{i.d(t,{AL:()=>f,N5:()=>m,Pp:()=>p,YN:()=>h,gy:()=>g,kG:()=>_,rU:()=>c,t7:()=>y,tC:()=>v});var o=i(65321),n=i(93911),r=i(7448),s=i(15393),d=i(5976),a=i(82992);class h{constructor(e,t){this.x=e,this.y=t,this._pageCoordinatesBrand=void 0}toClientCoordinates(e){return new c(this.x-e.scrollX,this.y-e.scrollY)}}class c{constructor(e,t){this.clientX=e,this.clientY=t,this._clientCoordinatesBrand=void 0}toPageCoordinates(e){return new h(this.clientX+e.scrollX,this.clientY+e.scrollY)}}class l{constructor(e,t,i,o){this.x=e,this.y=t,this.width=i,this.height=o,this._editorPagePositionBrand=void 0}}class u{constructor(e,t){this.x=e,this.y=t,this._positionRelativeToEditorBrand=void 0}}function _(e){const t=o.i(e);return new l(t.left,t.top,t.width,t.height)}function p(e,t,i){const o=t.width/e.offsetWidth,n=t.height/e.offsetHeight,r=(i.x-t.x)/o,s=(i.y-t.y)/n;return new u(r,s)}class g extends r.n{constructor(e,t,i){super(o.Jj(i),e),this._editorMouseEventBrand=void 0,this.isFromPointerCapture=t,this.pos=new h(this.posx,this.posy),this.editorPos=_(i),this.relativePos=p(i,this.editorPos,this.pos)}}class m{constructor(e){this._editorViewDomNode=e}_create(e){return new g(e,!1,this._editorViewDomNode)}onContextMenu(e,t){return o.nm(e,"contextmenu",(e=>{t(this._create(e))}))}onMouseUp(e,t){return o.nm(e,"mouseup",(e=>{t(this._create(e))}))}onMouseDown(e,t){return o.nm(e,o.tw.MOUSE_DOWN,(e=>{t(this._create(e))}))}onPointerDown(e,t){return o.nm(e,o.tw.POINTER_DOWN,(e=>{t(this._create(e),e.pointerId)}))}onMouseLeave(e,t){return o.nm(e,o.tw.MOUSE_LEAVE,(e=>{t(this._create(e))}))}onMouseMove(e,t){return o.nm(e,"mousemove",(e=>t(this._create(e))))}}class v{constructor(e){this._editorViewDomNode=e}_create(e){return new g(e,!1,this._editorViewDomNode)}onPointerUp(e,t){return o.nm(e,"pointerup",(e=>{t(this._create(e))}))}onPointerDown(e,t){return o.nm(e,o.tw.POINTER_DOWN,(e=>{t(this._create(e),e.pointerId)}))}onPointerLeave(e,t){return o.nm(e,o.tw.POINTER_LEAVE,(e=>{t(this._create(e))}))}onPointerMove(e,t){return o.nm(e,"pointermove",(e=>t(this._create(e))))}}class f extends d.JT{constructor(e){super(),this._editorViewDomNode=e,this._globalPointerMoveMonitor=this._register(new n.C),this._keydownListener=null}startMonitoring(e,t,i,n,r){this._keydownListener=o.mu(e.ownerDocument,"keydown",(e=>{e.toKeyCodeChord().isModifierKey()||this._globalPointerMoveMonitor.stopMonitoring(!0,e.browserEvent)}),!0),this._globalPointerMoveMonitor.startMonitoring(e,t,i,(e=>{n(new g(e,!0,this._editorViewDomNode))}),(e=>{this._keydownListener.dispose(),r(e)}))}stopMonitoring(){this._globalPointerMoveMonitor.stopMonitoring(!0)}}class y{constructor(e){this._editor=e,this._instanceId=++y._idPool,this._counter=0,this._rules=new Map,this._garbageCollectionScheduler=new s.pY((()=>this.garbageCollect()),1e3)}createClassNameRef(e){const t=this.getOrCreateRule(e);return t.increaseRefCount(),{className:t.className,dispose:()=>{t.decreaseRefCount(),this._garbageCollectionScheduler.schedule()}}}getOrCreateRule(e){const t=this.computeUniqueKey(e);let i=this._rules.get(t);if(!i){const n=this._counter++;i=new w(t,`dyn-rule-${this._instanceId}-${n}`,o.OO(this._editor.getContainerDomNode())?this._editor.getContainerDomNode():void 0,e),this._rules.set(t,i)}return i}computeUniqueKey(e){return JSON.stringify(e)}garbageCollect(){for(const e of this._rules.values())e.hasReferences()||(this._rules.delete(e.key),e.dispose())}}y._idPool=0;class w{constructor(e,t,i,n){this.key=e,this.className=t,this.properties=n,this._referenceCount=0,this._styleElementDisposables=new d.SL,this._styleElement=o.dS(i,void 0,this._styleElementDisposables),this._styleElement.textContent=this.getCssText(this.className,this.properties)}getCssText(e,t){let i=`.${e} {`;for(const e in t){const o=t[e];let n;n="object"==typeof o?(0,a.n_1)(o.id):o;i+=`\n\t${C(e)}: ${n};`}return i+="\n}",i}dispose(){this._styleElementDisposables.dispose(),this._styleElement=void 0}increaseRefCount(){this._referenceCount++}decreaseRefCount(){this._referenceCount--}hasReferences(){return this._referenceCount>0}}function C(e){return e.replace(/(^[A-Z])/,(([e])=>e.toLowerCase())).replace(/([A-Z])/g,(([e])=>`-${e.toLowerCase()}`))}},16830:(e,t,i)=>{i.d(t,{AJ:()=>C,QG:()=>N,Qr:()=>O,R6:()=>b,Sq:()=>A,Uc:()=>o,_K:()=>T,_l:()=>S,fK:()=>x,jY:()=>k,kz:()=>I,mY:()=>w,n_:()=>R,rn:()=>D,sb:()=>P,x1:()=>M});var o,n=i(63580),r=i(70666),s=i(11640),d=i(50187),a=i(73733),h=i(88216),c=i(84144),l=i(94565),u=i(93983),_=i(72065),p=i(49989),g=i(89872),m=i(10829),v=i(98401),f=i(43557),y=i(65321);class w{constructor(e){this.id=e.id,this.precondition=e.precondition,this._kbOpts=e.kbOpts,this._menuOpts=e.menuOpts,this.metadata=e.metadata}register(){if(Array.isArray(this._menuOpts)?this._menuOpts.forEach(this._registerMenuItem,this):this._menuOpts&&this._registerMenuItem(this._menuOpts),this._kbOpts){const e=Array.isArray(this._kbOpts)?this._kbOpts:[this._kbOpts];for(const t of e){let e=t.kbExpr;this.precondition&&(e=e?u.Ao.and(e,this.precondition):this.precondition);const i={id:this.id,weight:t.weight,args:t.args,when:e,primary:t.primary,secondary:t.secondary,win:t.win,linux:t.linux,mac:t.mac};p.W.registerKeybindingRule(i)}}l.P.registerCommand({id:this.id,handler:(e,t)=>this.runCommand(e,t),metadata:this.metadata})}_registerMenuItem(e){c.BH.appendMenuItem(e.menuId,{group:e.group,command:{id:this.id,title:e.title,icon:e.icon,precondition:this.precondition},when:e.when,order:e.order})}}class C extends w{constructor(){super(...arguments),this._implementations=[]}addImplementation(e,t,i,o){return this._implementations.push({priority:e,name:t,implementation:i,when:o}),this._implementations.sort(((e,t)=>t.priority-e.priority)),{dispose:()=>{for(let e=0;e<this._implementations.length;e++)if(this._implementations[e].implementation===i)return void this._implementations.splice(e,1)}}}runCommand(e,t){const i=e.get(f.VZ),o=e.get(u.i6);i.trace(`Executing Command '${this.id}' which has ${this._implementations.length} bound.`);for(const n of this._implementations){if(n.when){const e=o.getContext((0,y.vY)());if(!n.when.evaluate(e))continue}const r=n.implementation(e,t);if(r){if(i.trace(`Command '${this.id}' was handled by '${n.name}'.`),"boolean"==typeof r)return;return r}}i.trace(`The Command '${this.id}' was not handled by any implementation.`)}}class E extends w{constructor(e,t){super(t),this.command=e}runCommand(e,t){return this.command.runCommand(e,t)}}class S extends w{static bindToContribution(e){return class extends S{constructor(e){super(e),this._callback=e.handler}runEditorCommand(t,i,o){const n=e(i);n&&this._callback(n,o)}}}static runEditorCommand(e,t,i,o){const n=e.get(s.$),r=n.getFocusedCodeEditor()||n.getActiveCodeEditor();if(r)return r.invokeWithinContext((e=>{if(e.get(u.i6).contextMatchesRules(null!=i?i:void 0))return o(e,r,t)}))}runCommand(e,t){return S.runEditorCommand(e,t,this.precondition,((e,t,i)=>this.runEditorCommand(e,t,i)))}}class b extends S{static convertOptions(e){let t;function i(t){return t.menuId||(t.menuId=c.eH.EditorContext),t.title||(t.title=e.label),t.when=u.Ao.and(e.precondition,t.when),t}return t=Array.isArray(e.menuOpts)?e.menuOpts:e.menuOpts?[e.menuOpts]:[],Array.isArray(e.contextMenuOpts)?t.push(...e.contextMenuOpts.map(i)):e.contextMenuOpts&&t.push(i(e.contextMenuOpts)),e.menuOpts=t,e}constructor(e){super(b.convertOptions(e)),this.label=e.label,this.alias=e.alias}runEditorCommand(e,t,i){return this.reportTelemetry(e,t),this.run(e,t,i||{})}reportTelemetry(e,t){e.get(m.b).publicLog2("editorActionInvoked",{name:this.label,id:this.id})}}class k extends b{constructor(){super(...arguments),this._implementations=[]}addImplementation(e,t){return this._implementations.push([e,t]),this._implementations.sort(((e,t)=>t[0]-e[0])),{dispose:()=>{for(let e=0;e<this._implementations.length;e++)if(this._implementations[e][1]===t)return void this._implementations.splice(e,1)}}}run(e,t,i){for(const o of this._implementations){const n=o[1](e,t,i);if(n){if("boolean"==typeof n)return;return n}}}}class M extends c.Ke{run(e,...t){const i=e.get(s.$),o=i.getFocusedCodeEditor()||i.getActiveCodeEditor();if(o)return o.invokeWithinContext((e=>{var i,n;const r=e.get(u.i6),s=e.get(f.VZ);if(r.contextMatchesRules(null!==(i=this.desc.precondition)&&void 0!==i?i:void 0))return this.runEditorCommand(e,o,...t);s.debug("[EditorAction2] NOT running command because its precondition is FALSE",this.desc.id,null===(n=this.desc.precondition)||void 0===n?void 0:n.serialize())}))}}function P(e,t){l.P.registerCommand(e,(function(e,...i){const o=e.get(_.TG),[n,s]=i;(0,v.p_)(r.o.isUri(n)),(0,v.p_)(d.L.isIPosition(s));const c=e.get(a.q).getModel(n);if(c){const e=d.L.lift(s);return o.invokeFunction(t,c,e,...i.slice(2))}return e.get(h.S).createModelReference(n).then((e=>new Promise(((n,r)=>{try{n(o.invokeFunction(t,e.object.textEditorModel,d.L.lift(s),i.slice(2)))}catch(e){r(e)}})).finally((()=>{e.dispose()}))))}))}function x(e){return H.INSTANCE.registerEditorCommand(e),e}function O(e){const t=new e;return H.INSTANCE.registerEditorAction(t),t}function D(e){return H.INSTANCE.registerEditorAction(e),e}function N(e){H.INSTANCE.registerEditorAction(e)}function T(e,t,i){H.INSTANCE.registerEditorContribution(e,t,i)}!function(e){e.getEditorCommand=function(e){return H.INSTANCE.getEditorCommand(e)},e.getEditorActions=function(){return H.INSTANCE.getEditorActions()},e.getEditorContributions=function(){return H.INSTANCE.getEditorContributions()},e.getSomeEditorContributions=function(e){return H.INSTANCE.getEditorContributions().filter((t=>e.indexOf(t.id)>=0))},e.getDiffEditorContributions=function(){return H.INSTANCE.getDiffEditorContributions()}}(o||(o={}));class H{constructor(){this.editorContributions=[],this.diffEditorContributions=[],this.editorActions=[],this.editorCommands=Object.create(null)}registerEditorContribution(e,t,i){this.editorContributions.push({id:e,ctor:t,instantiation:i})}getEditorContributions(){return this.editorContributions.slice(0)}getDiffEditorContributions(){return this.diffEditorContributions.slice(0)}registerEditorAction(e){e.register(),this.editorActions.push(e)}getEditorActions(){return this.editorActions}registerEditorCommand(e){e.register(),this.editorCommands[e.id]=e}getEditorCommand(e){return this.editorCommands[e]||null}}function L(e){return e.register(),e}H.INSTANCE=new H,g.B.add("editor.contributions",H.INSTANCE);const R=L(new C({id:"undo",precondition:void 0,kbOpts:{weight:0,primary:2104},menuOpts:[{menuId:c.eH.MenubarEditMenu,group:"1_do",title:n.NC({key:"miUndo",comment:["&& denotes a mnemonic"]},"&&Undo"),order:1},{menuId:c.eH.CommandPalette,group:"",title:n.NC("undo","Undo"),order:1}]}));L(new E(R,{id:"default:undo",precondition:void 0}));const I=L(new C({id:"redo",precondition:void 0,kbOpts:{weight:0,primary:2103,secondary:[3128],mac:{primary:3128}},menuOpts:[{menuId:c.eH.MenubarEditMenu,group:"1_do",title:n.NC({key:"miRedo",comment:["&& denotes a mnemonic"]},"&&Redo"),order:2},{menuId:c.eH.CommandPalette,group:"",title:n.NC("redo","Redo"),order:1}]}));L(new E(I,{id:"default:redo",precondition:void 0}));const A=L(new C({id:"editor.action.selectAll",precondition:void 0,kbOpts:{weight:0,kbExpr:null,primary:2079},menuOpts:[{menuId:c.eH.MenubarSelectionMenu,group:"1_basic",title:n.NC({key:"miSelectAll",comment:["&& denotes a mnemonic"]},"&&Select All"),order:1},{menuId:c.eH.CommandPalette,group:"",title:n.NC("selectAll","Select All"),order:1}]}))},56639:(e,t,i)=>{i.d(t,{b:()=>n});var o=i(21070);function n(e){return r.get(e)}class r{static get(e){let t=r._map.get(e);if(!t){t=new r(e),r._map.set(e,t);const i=e.onDidDispose((()=>{r._map.delete(e),i.dispose()}))}return t}constructor(e){this.editor=e,this.model=(0,o.rD)(this.editor.onDidChangeModel,(()=>this.editor.getModel()))}}r._map=new Map},5420:(e,t,i)=>{i.d(t,{i:()=>h});var o=i(4669),n=i(5976),r=i(91741),s=i(97781),d=function(e,t,i,o){var n,r=arguments.length,s=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,o);else for(var d=e.length-1;d>=0;d--)(n=e[d])&&(s=(r<3?n(s):r>3?n(t,i,s):n(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},a=function(e,t){return function(i,o){t(i,o,e)}};let h=class extends n.JT{constructor(e){super(),this._themeService=e,this._onWillCreateCodeEditor=this._register(new o.Q5),this._onCodeEditorAdd=this._register(new o.Q5),this.onCodeEditorAdd=this._onCodeEditorAdd.event,this._onCodeEditorRemove=this._register(new o.Q5),this.onCodeEditorRemove=this._onCodeEditorRemove.event,this._onWillCreateDiffEditor=this._register(new o.Q5),this._onDiffEditorAdd=this._register(new o.Q5),this.onDiffEditorAdd=this._onDiffEditorAdd.event,this._onDiffEditorRemove=this._register(new o.Q5),this.onDiffEditorRemove=this._onDiffEditorRemove.event,this._decorationOptionProviders=new Map,this._codeEditorOpenHandlers=new r.S,this._modelProperties=new Map,this._codeEditors=Object.create(null),this._diffEditors=Object.create(null),this._globalStyleSheet=null}willCreateCodeEditor(){this._onWillCreateCodeEditor.fire()}addCodeEditor(e){this._codeEditors[e.getId()]=e,this._onCodeEditorAdd.fire(e)}removeCodeEditor(e){delete this._codeEditors[e.getId()]&&this._onCodeEditorRemove.fire(e)}listCodeEditors(){return Object.keys(this._codeEditors).map((e=>this._codeEditors[e]))}willCreateDiffEditor(){this._onWillCreateDiffEditor.fire()}addDiffEditor(e){this._diffEditors[e.getId()]=e,this._onDiffEditorAdd.fire(e)}listDiffEditors(){return Object.keys(this._diffEditors).map((e=>this._diffEditors[e]))}getFocusedCodeEditor(){let e=null;const t=this.listCodeEditors();for(const i of t){if(i.hasTextFocus())return i;i.hasWidgetFocus()&&(e=i)}return e}removeDecorationType(e){const t=this._decorationOptionProviders.get(e);t&&(t.refCount--,t.refCount<=0&&(this._decorationOptionProviders.delete(e),t.dispose(),this.listCodeEditors().forEach((t=>t.removeDecorationsByType(e)))))}setModelProperty(e,t,i){const o=e.toString();let n;this._modelProperties.has(o)?n=this._modelProperties.get(o):(n=new Map,this._modelProperties.set(o,n)),n.set(t,i)}getModelProperty(e,t){const i=e.toString();if(this._modelProperties.has(i)){return this._modelProperties.get(i).get(t)}}async openCodeEditor(e,t,i){for(const o of this._codeEditorOpenHandlers){const n=await o(e,t,i);if(null!==n)return n}return null}registerCodeEditorOpenHandler(e){const t=this._codeEditorOpenHandlers.unshift(e);return(0,n.OF)(t)}};h=d([a(0,s.XE)],h)},66007:(e,t,i)=>{i.d(t,{Gl:()=>a,fo:()=>d,vu:()=>s});var o=i(72065),n=i(70666),r=i(98401);const s=(0,o.yh)("IWorkspaceEditService");class d{constructor(e){this.metadata=e}static convert(e){return e.edits.map((e=>{if(a.is(e))return a.lift(e);if(h.is(e))return h.lift(e);throw new Error("Unsupported edit")}))}}class a extends d{static is(e){return e instanceof a||(0,r.Kn)(e)&&n.o.isUri(e.resource)&&(0,r.Kn)(e.textEdit)}static lift(e){return e instanceof a?e:new a(e.resource,e.textEdit,e.versionId,e.metadata)}constructor(e,t,i=void 0,o){super(o),this.resource=e,this.textEdit=t,this.versionId=i}}class h extends d{static is(e){return e instanceof h||(0,r.Kn)(e)&&(Boolean(e.newResource)||Boolean(e.oldResource))}static lift(e){return e instanceof h?e:new h(e.oldResource,e.newResource,e.options,e.metadata)}constructor(e,t,i={},o){super(o),this.oldResource=e,this.newResource=t,this.options=i}}},11640:(e,t,i)=>{i.d(t,{$:()=>o});const o=(0,i(72065).yh)("codeEditorService")},13807:(e,t,i)=>{i.d(t,{Q8:()=>T,eu:()=>M});var o=i(15393),n=i(5976),r=i(18352),s=i(80699),d=i(24314),a=i(51381),h=i(61199),c=i(73733),l=i(71765),u=i(9488),_=i(43557),p=i(84013),g=i(17301),m=i(71922),v=i(60652),f=i(54648),y=i(45463),w=i(48906),C=i(65321),E=function(e,t,i,o){var n,r=arguments.length,s=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,o);else for(var d=e.length-1;d>=0;d--)(n=e[d])&&(s=(r<3?n(s):r>3?n(t,i,s):n(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},S=function(e,t){return function(i,o){t(i,o,e)}};const b=3e5;function k(e,t){const i=e.getModel(t);return!!i&&!i.isTooLargeForSyncing()}let M=class extends n.JT{constructor(e,t,i,o,n){super(),this._modelService=e,this._workerManager=this._register(new x(this._modelService,o)),this._logService=i,this._register(n.linkProvider.register({language:"*",hasAccessToAllModels:!0},{provideLinks:(e,t)=>k(this._modelService,e.uri)?this._workerManager.withWorker().then((t=>t.computeLinks(e.uri))).then((e=>e&&{links:e})):Promise.resolve({links:[]})})),this._register(n.completionProvider.register("*",new P(this._workerManager,t,this._modelService,o)))}dispose(){super.dispose()}canComputeUnicodeHighlights(e){return k(this._modelService,e)}computedUnicodeHighlights(e,t,i){return this._workerManager.withWorker().then((o=>o.computedUnicodeHighlights(e,t,i)))}async computeDiff(e,t,i,o){const n=await this._workerManager.withWorker().then((n=>n.computeDiff(e,t,i,o)));if(!n)return null;return{identical:n.identical,quitEarly:n.quitEarly,changes:r(n.changes),moves:n.moves.map((e=>new v.y(new f.f0(new y.z(e[0],e[1]),new y.z(e[2],e[3])),r(e[4]))))};function r(e){return e.map((e=>{var t;return new f.gB(new y.z(e[0],e[1]),new y.z(e[2],e[3]),null===(t=e[4])||void 0===t?void 0:t.map((e=>new f.iy(new d.e(e[0],e[1],e[2],e[3]),new d.e(e[4],e[5],e[6],e[7])))))}))}}computeMoreMinimalEdits(e,t,i=!1){if((0,u.Of)(t)){if(!k(this._modelService,e))return Promise.resolve(t);const n=p.G.create(),r=this._workerManager.withWorker().then((o=>o.computeMoreMinimalEdits(e,t,i)));return r.finally((()=>this._logService.trace("FORMAT#computeMoreMinimalEdits",e.toString(!0),n.elapsed()))),Promise.race([r,(0,o.Vs)(1e3).then((()=>t))])}return Promise.resolve(void 0)}canNavigateValueSet(e){return k(this._modelService,e)}navigateValueSet(e,t,i){return this._workerManager.withWorker().then((o=>o.navigateValueSet(e,t,i)))}canComputeWordRanges(e){return k(this._modelService,e)}computeWordRanges(e,t){return this._workerManager.withWorker().then((i=>i.computeWordRanges(e,t)))}findSectionHeaders(e,t){return this._workerManager.withWorker().then((i=>i.findSectionHeaders(e,t)))}};M=E([S(0,c.q),S(1,l.V),S(2,_.VZ),S(3,a.c_),S(4,m.p)],M);class P{constructor(e,t,i,o){this.languageConfigurationService=o,this._debugDisplayName="wordbasedCompletions",this._workerManager=e,this._configurationService=t,this._modelService=i}async provideCompletionItems(e,t){const i=this._configurationService.getValue(e.uri,t,"editor");if("off"===i.wordBasedSuggestions)return;const o=[];if("currentDocument"===i.wordBasedSuggestions)k(this._modelService,e.uri)&&o.push(e.uri);else for(const t of this._modelService.getModels())k(this._modelService,t.uri)&&(t===e?o.unshift(t.uri):"allDocuments"!==i.wordBasedSuggestions&&t.getLanguageId()!==e.getLanguageId()||o.push(t.uri));if(0===o.length)return;const n=this.languageConfigurationService.getLanguageConfiguration(e.getLanguageId()).getWordDefinition(),r=e.getWordAtPosition(t),s=r?new d.e(t.lineNumber,r.startColumn,t.lineNumber,r.endColumn):d.e.fromPositions(t),a=s.setEndPosition(t.lineNumber,t.column),h=await this._workerManager.withWorker(),c=await h.textualSuggest(o,null==r?void 0:r.word,n);return c?{duration:c.duration,suggestions:c.words.map((e=>({kind:18,label:e,insertText:e,range:{insert:a,replace:s}})))}:void 0}}class x extends n.JT{constructor(e,t){super(),this.languageConfigurationService=t,this._modelService=e,this._editorWorkerClient=null,this._lastWorkerUsedTime=(new Date).getTime();this._register(new C.ne).cancelAndSet((()=>this._checkStopIdleWorker()),Math.round(15e4),w.E),this._register(this._modelService.onModelRemoved((e=>this._checkStopEmptyWorker())))}dispose(){this._editorWorkerClient&&(this._editorWorkerClient.dispose(),this._editorWorkerClient=null),super.dispose()}_checkStopEmptyWorker(){if(!this._editorWorkerClient)return;0===this._modelService.getModels().length&&(this._editorWorkerClient.dispose(),this._editorWorkerClient=null)}_checkStopIdleWorker(){if(!this._editorWorkerClient)return;(new Date).getTime()-this._lastWorkerUsedTime>b&&(this._editorWorkerClient.dispose(),this._editorWorkerClient=null)}withWorker(){return this._lastWorkerUsedTime=(new Date).getTime(),this._editorWorkerClient||(this._editorWorkerClient=new T(this._modelService,!1,"editorWorkerService",this.languageConfigurationService)),Promise.resolve(this._editorWorkerClient)}}class O extends n.JT{constructor(e,t,i){if(super(),this._syncedModels=Object.create(null),this._syncedModelsLastUsedTime=Object.create(null),this._proxy=e,this._modelService=t,!i){const e=new o.zh;e.cancelAndSet((()=>this._checkStopModelSync()),Math.round(3e4)),this._register(e)}}dispose(){for(const e in this._syncedModels)(0,n.B9)(this._syncedModels[e]);this._syncedModels=Object.create(null),this._syncedModelsLastUsedTime=Object.create(null),super.dispose()}ensureSyncedResources(e,t){for(const i of e){const e=i.toString();this._syncedModels[e]||this._beginModelSync(i,t),this._syncedModels[e]&&(this._syncedModelsLastUsedTime[e]=(new Date).getTime())}}_checkStopModelSync(){const e=(new Date).getTime(),t=[];for(const i in this._syncedModelsLastUsedTime){e-this._syncedModelsLastUsedTime[i]>6e4&&t.push(i)}for(const e of t)this._stopModelSync(e)}_beginModelSync(e,t){const i=this._modelService.getModel(e);if(!i)return;if(!t&&i.isTooLargeForSyncing())return;const o=e.toString();this._proxy.acceptNewModel({url:i.uri.toString(),lines:i.getLinesContent(),EOL:i.getEOL(),versionId:i.getVersionId()});const r=new n.SL;r.add(i.onDidChangeContent((e=>{this._proxy.acceptModelChanged(o.toString(),e)}))),r.add(i.onWillDispose((()=>{this._stopModelSync(o)}))),r.add((0,n.OF)((()=>{this._proxy.acceptRemovedModel(o)}))),this._syncedModels[o]=r}_stopModelSync(e){const t=this._syncedModels[e];delete this._syncedModels[e],delete this._syncedModelsLastUsedTime[e],(0,n.B9)(t)}}class D{constructor(e){this._instance=e,this._proxyObj=Promise.resolve(this._instance)}dispose(){this._instance.dispose()}getProxyObject(){return this._proxyObj}}class N{constructor(e){this._workerClient=e}fhr(e,t){return this._workerClient.fhr(e,t)}}class T extends n.JT{constructor(e,t,i,o){super(),this.languageConfigurationService=o,this._disposed=!1,this._modelService=e,this._keepIdleModels=t,this._workerFactory=new s.H(i),this._worker=null,this._modelManager=null}fhr(e,t){throw new Error("Not implemented!")}_getOrCreateWorker(){if(!this._worker)try{this._worker=this._register(new r.PB(this._workerFactory,"vs/editor/common/services/editorSimpleWorker",new N(this)))}catch(e){(0,r.HZ)(e),this._worker=new D(new h.k(new N(this),null))}return this._worker}_getProxy(){return this._getOrCreateWorker().getProxyObject().then(void 0,(e=>((0,r.HZ)(e),this._worker=new D(new h.k(new N(this),null)),this._getOrCreateWorker().getProxyObject())))}_getOrCreateModelManager(e){return this._modelManager||(this._modelManager=this._register(new O(e,this._modelService,this._keepIdleModels))),this._modelManager}async _withSyncedResources(e,t=!1){return this._disposed?Promise.reject((0,g.F0)()):this._getProxy().then((i=>(this._getOrCreateModelManager(i).ensureSyncedResources(e,t),i)))}computedUnicodeHighlights(e,t,i){return this._withSyncedResources([e]).then((o=>o.computeUnicodeHighlights(e.toString(),t,i)))}computeDiff(e,t,i,o){return this._withSyncedResources([e,t],!0).then((n=>n.computeDiff(e.toString(),t.toString(),i,o)))}computeMoreMinimalEdits(e,t,i){return this._withSyncedResources([e]).then((o=>o.computeMoreMinimalEdits(e.toString(),t,i)))}computeLinks(e){return this._withSyncedResources([e]).then((t=>t.computeLinks(e.toString())))}computeDefaultDocumentColors(e){return this._withSyncedResources([e]).then((t=>t.computeDefaultDocumentColors(e.toString())))}async textualSuggest(e,t,i){const o=await this._withSyncedResources(e),n=i.source,r=i.flags;return o.textualSuggest(e.map((e=>e.toString())),t,n,r)}computeWordRanges(e,t){return this._withSyncedResources([e]).then((i=>{const o=this._modelService.getModel(e);if(!o)return Promise.resolve(null);const n=this.languageConfigurationService.getLanguageConfiguration(o.getLanguageId()).getWordDefinition(),r=n.source,s=n.flags;return i.computeWordRanges(e.toString(),t,r,s)}))}navigateValueSet(e,t,i){return this._withSyncedResources([e]).then((o=>{const n=this._modelService.getModel(e);if(!n)return null;const r=this.languageConfigurationService.getLanguageConfiguration(n.getLanguageId()).getWordDefinition(),s=r.source,d=r.flags;return o.navigateValueSet(e.toString(),t,i,s,d)}))}findSectionHeaders(e,t){return this._withSyncedResources([e]).then((i=>i.findSectionHeaders(e.toString(),t)))}dispose(){super.dispose(),this._disposed=!0}}},63146:(e,t,i)=>{var o=i(65026),n=i(97781),r=i(82992),s=i(31543),d=i(5606),a=i(72065),h=i(5976),c=i(4669),l=i(65321),u=i(91847),_=i(33108),p=i(64141),g=i(30986),m=i(93794),v=i(50988),f=i(72545),y=i(59365),w=i(63580),C=i(1432),E=i(31106),S=i(85152),b=function(e,t,i,o){var n,r=arguments.length,s=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,o);else for(var d=e.length-1;d>=0;d--)(n=e[d])&&(s=(r<3?n(s):r>3?n(t,i,s):n(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},k=function(e,t){return function(i,o){t(i,o,e)}};const M=l.$;let P=class extends m.${get _targetWindow(){return l.Jj(this._target.targetElements[0])}get _targetDocumentElement(){return l.Jj(this._target.targetElements[0]).document.documentElement}get isDisposed(){return this._isDisposed}get isMouseIn(){return this._lockMouseTracker.isMouseIn}get domNode(){return this._hover.containerDomNode}get onDispose(){return this._onDispose.event}get onRequestLayout(){return this._onRequestLayout.event}get anchor(){return 2===this._hoverPosition?0:1}get x(){return this._x}get y(){return this._y}get isLocked(){return this._isLocked}set isLocked(e){this._isLocked!==e&&(this._isLocked=e,this._hoverContainer.classList.toggle("locked",this._isLocked))}constructor(e,t,i,o,n,r){var s,d,a,u,_,m,v,E;super(),this._keybindingService=t,this._configurationService=i,this._openerService=o,this._instantiationService=n,this._accessibilityService=r,this._messageListeners=new h.SL,this._isDisposed=!1,this._forcePosition=!1,this._x=0,this._y=0,this._isLocked=!1,this._enableFocusTraps=!1,this._addedFocusTrap=!1,this._onDispose=this._register(new c.Q5),this._onRequestLayout=this._register(new c.Q5),this._linkHandler=e.linkHandler||(t=>(0,f.N)(this._openerService,t,(0,y.Fr)(e.content)?e.content.isTrusted:void 0)),this._target="targetElements"in e.target?e.target:new O(e.target),this._hoverPointer=(null===(s=e.appearance)||void 0===s?void 0:s.showPointer)?M("div.workbench-hover-pointer"):void 0,this._hover=this._register(new g.c8),this._hover.containerDomNode.classList.add("workbench-hover","fadeIn"),(null===(d=e.appearance)||void 0===d?void 0:d.compact)&&this._hover.containerDomNode.classList.add("workbench-hover","compact"),(null===(a=e.appearance)||void 0===a?void 0:a.skipFadeInAnimation)&&this._hover.containerDomNode.classList.add("skip-fade-in"),e.additionalClasses&&this._hover.containerDomNode.classList.add(...e.additionalClasses),(null===(u=e.position)||void 0===u?void 0:u.forcePosition)&&(this._forcePosition=!0),e.trapFocus&&(this._enableFocusTraps=!0),this._hoverPosition=null!==(m=null===(_=e.position)||void 0===_?void 0:_.hoverPosition)&&void 0!==m?m:3,this.onmousedown(this._hover.containerDomNode,(e=>e.stopPropagation())),this.onkeydown(this._hover.containerDomNode,(e=>{e.equals(9)&&this.dispose()})),this._register(l.nm(this._targetWindow,"blur",(()=>this.dispose())));const S=M("div.hover-row.markdown-hover"),b=M("div.hover-contents");if("string"==typeof e.content)b.textContent=e.content,b.style.whiteSpace="pre-wrap";else if(l.Re(e.content))b.appendChild(e.content),b.classList.add("html-hover-contents");else{const t=e.content,i=this._instantiationService.createInstance(f.$,{codeBlockFontFamily:this._configurationService.getValue("editor").fontFamily||p.hL.fontFamily}),{element:o}=i.render(t,{actionHandler:{callback:e=>this._linkHandler(e),disposables:this._messageListeners},asyncRenderCallback:()=>{b.classList.add("code-hover-contents"),this.layout(),this._onRequestLayout.fire()}});b.appendChild(o)}if(S.appendChild(b),this._hover.contentsDomNode.appendChild(S),e.actions&&e.actions.length>0){const t=M("div.hover-row.status-bar"),i=M("div.actions");e.actions.forEach((e=>{const t=this._keybindingService.lookupKeybinding(e.commandId),o=t?t.getLabel():null;g.Sr.render(i,{label:e.label,commandId:e.commandId,run:t=>{e.run(t),this.dispose()},iconClass:e.iconClass},o)})),t.appendChild(i),this._hover.containerDomNode.appendChild(t)}let k;if(this._hoverContainer=M("div.workbench-hover-container"),this._hoverPointer&&this._hoverContainer.appendChild(this._hoverPointer),this._hoverContainer.appendChild(this._hover.containerDomNode),k=!(e.actions&&e.actions.length>0)&&(void 0===(null===(v=e.persistence)||void 0===v?void 0:v.hideOnHover)?"string"==typeof e.content||(0,y.Fr)(e.content)&&!e.content.value.includes("](")&&!e.content.value.includes("</a>"):e.persistence.hideOnHover),k&&(null===(E=e.appearance)||void 0===E?void 0:E.showHoverHint)){const e=M("div.hover-row.status-bar"),t=M("div.info");t.textContent=(0,w.NC)("hoverhint","Hold {0} key to mouse over",C.dz?"Option":"Alt"),e.appendChild(t),this._hover.containerDomNode.appendChild(e)}const P=[...this._target.targetElements];k||P.push(this._hoverContainer);const D=this._register(new x(P));if(this._register(D.onMouseOut((()=>{this._isLocked||this.dispose()}))),k){const e=[...this._target.targetElements,this._hoverContainer];this._lockMouseTracker=this._register(new x(e)),this._register(this._lockMouseTracker.onMouseOut((()=>{this._isLocked||this.dispose()})))}else this._lockMouseTracker=D}addFocusTrap(){if(!this._enableFocusTraps||this._addedFocusTrap)return;this._addedFocusTrap=!0;const e=this._hover.containerDomNode,t=this.findLastFocusableChild(this._hover.containerDomNode);if(t){const i=l.Ce(this._hoverContainer,M("div")),o=l.R3(this._hoverContainer,M("div"));i.tabIndex=0,o.tabIndex=0,this._register(l.nm(o,"focus",(t=>{e.focus(),t.preventDefault()}))),this._register(l.nm(i,"focus",(e=>{t.focus(),e.preventDefault()})))}}findLastFocusableChild(e){if(e.hasChildNodes())for(let t=0;t<e.childNodes.length;t++){const i=e.childNodes.item(e.childNodes.length-t-1);if(i.nodeType===i.ELEMENT_NODE){const e=i;if("number"==typeof e.tabIndex&&e.tabIndex>=0)return e}const o=this.findLastFocusableChild(i);if(o)return o}}render(e){var t;e.appendChild(this._hoverContainer);const i=this._hoverContainer.contains(this._hoverContainer.ownerDocument.activeElement)&&(0,g.uX)(!0===this._configurationService.getValue("accessibility.verbosity.hover")&&this._accessibilityService.isScreenReaderOptimized(),null===(t=this._keybindingService.lookupKeybinding("editor.action.accessibleView"))||void 0===t?void 0:t.getAriaLabel());i&&(0,S.i7)(i),this.layout(),this.addFocusTrap()}layout(){this._hover.containerDomNode.classList.remove("right-aligned"),this._hover.contentsDomNode.style.maxHeight="";const e=this._target.targetElements.map((e=>(e=>{const t=l.I8(e),i=e.getBoundingClientRect();return{top:i.top*t,bottom:i.bottom*t,right:i.right*t,left:i.left*t}})(e))),{top:t,right:i,bottom:o,left:n}=e[0],r=i-n,s=o-t,d={top:t,right:i,bottom:o,left:n,width:r,height:s,center:{x:n+r/2,y:t+s/2}};if(this.adjustHorizontalHoverPosition(d),this.adjustVerticalHoverPosition(d),this.adjustHoverMaxHeight(d),this._hoverContainer.style.padding="",this._hoverContainer.style.margin="",this._hoverPointer){switch(this._hoverPosition){case 1:d.left+=3,d.right+=3,this._hoverContainer.style.paddingLeft="3px",this._hoverContainer.style.marginLeft="-3px";break;case 0:d.left-=3,d.right-=3,this._hoverContainer.style.paddingRight="3px",this._hoverContainer.style.marginRight="-3px";break;case 2:d.top+=3,d.bottom+=3,this._hoverContainer.style.paddingTop="3px",this._hoverContainer.style.marginTop="-3px";break;case 3:d.top-=3,d.bottom-=3,this._hoverContainer.style.paddingBottom="3px",this._hoverContainer.style.marginBottom="-3px"}d.center.x=d.left+r/2,d.center.y=d.top+s/2}this.computeXCordinate(d),this.computeYCordinate(d),this._hoverPointer&&(this._hoverPointer.classList.remove("top"),this._hoverPointer.classList.remove("left"),this._hoverPointer.classList.remove("right"),this._hoverPointer.classList.remove("bottom"),this.setHoverPointerPosition(d)),this._hover.onContentsChanged()}computeXCordinate(e){const t=this._hover.containerDomNode.clientWidth+2;void 0!==this._target.x?this._x=this._target.x:1===this._hoverPosition?this._x=e.right:0===this._hoverPosition?this._x=e.left-t:(this._hoverPointer?this._x=e.center.x-this._hover.containerDomNode.clientWidth/2:this._x=e.left,this._x+t>=this._targetDocumentElement.clientWidth&&(this._hover.containerDomNode.classList.add("right-aligned"),this._x=Math.max(this._targetDocumentElement.clientWidth-t-2,this._targetDocumentElement.clientLeft))),this._x<this._targetDocumentElement.clientLeft&&(this._x=e.left+2)}computeYCordinate(e){void 0!==this._target.y?this._y=this._target.y:3===this._hoverPosition?this._y=e.top:2===this._hoverPosition?this._y=e.bottom-2:this._hoverPointer?this._y=e.center.y+this._hover.containerDomNode.clientHeight/2:this._y=e.bottom,this._y>this._targetWindow.innerHeight&&(this._y=e.bottom)}adjustHorizontalHoverPosition(e){if(void 0!==this._target.x)return;const t=this._hoverPointer?3:0;if(this._forcePosition){const i=t+2;1===this._hoverPosition?this._hover.containerDomNode.style.maxWidth=this._targetDocumentElement.clientWidth-e.right-i+"px":0===this._hoverPosition&&(this._hover.containerDomNode.style.maxWidth=e.left-i+"px")}else if(1===this._hoverPosition){if(this._targetDocumentElement.clientWidth-e.right<this._hover.containerDomNode.clientWidth+t){e.left>=this._hover.containerDomNode.clientWidth+t?this._hoverPosition=0:this._hoverPosition=2}}else if(0===this._hoverPosition){if(e.left<this._hover.containerDomNode.clientWidth+t){this._targetDocumentElement.clientWidth-e.right>=this._hover.containerDomNode.clientWidth+t?this._hoverPosition=1:this._hoverPosition=2}e.left-this._hover.containerDomNode.clientWidth-t<=this._targetDocumentElement.clientLeft&&(this._hoverPosition=1)}}adjustVerticalHoverPosition(e){if(void 0!==this._target.y||this._forcePosition)return;const t=this._hoverPointer?3:0;3===this._hoverPosition?e.top-this._hover.containerDomNode.clientHeight-t<0&&(this._hoverPosition=2):2===this._hoverPosition&&e.bottom+this._hover.containerDomNode.clientHeight+t>this._targetWindow.innerHeight&&(this._hoverPosition=3)}adjustHoverMaxHeight(e){let t=this._targetWindow.innerHeight/2;if(this._forcePosition){const i=2+(this._hoverPointer?3:0);3===this._hoverPosition?t=Math.min(t,e.top-i):2===this._hoverPosition&&(t=Math.min(t,this._targetWindow.innerHeight-e.bottom-i))}if(this._hover.containerDomNode.style.maxHeight=`${t}px`,this._hover.contentsDomNode.clientHeight<this._hover.contentsDomNode.scrollHeight){const e=`${this._hover.scrollbar.options.verticalScrollbarSize}px`;this._hover.contentsDomNode.style.paddingRight!==e&&(this._hover.contentsDomNode.style.paddingRight=e)}}setHoverPointerPosition(e){if(this._hoverPointer)switch(this._hoverPosition){case 0:case 1:{this._hoverPointer.classList.add(0===this._hoverPosition?"right":"left");const t=this._hover.containerDomNode.clientHeight;t>e.height?this._hoverPointer.style.top=e.center.y-(this._y-t)-3+"px":this._hoverPointer.style.top=Math.round(t/2)-3+"px";break}case 3:case 2:{this._hoverPointer.classList.add(3===this._hoverPosition?"bottom":"top");const t=this._hover.containerDomNode.clientWidth;let i=Math.round(t/2)-3;const o=this._x+i;(o<e.left||o>e.right)&&(i=e.center.x-this._x-3),this._hoverPointer.style.left=`${i}px`;break}}}focus(){this._hover.containerDomNode.focus()}dispose(){this._isDisposed||(this._onDispose.fire(),this._hoverContainer.remove(),this._messageListeners.dispose(),this._target.dispose(),super.dispose()),this._isDisposed=!0}};P=b([k(1,u.d),k(2,_.Ui),k(3,v.v),k(4,a.TG),k(5,E.F)],P);class x extends m.${get onMouseOut(){return this._onMouseOut.event}get isMouseIn(){return this._isMouseIn}constructor(e){super(),this._elements=e,this._isMouseIn=!0,this._onMouseOut=this._register(new c.Q5),this._elements.forEach((e=>this.onmouseover(e,(()=>this._onTargetMouseOver(e))))),this._elements.forEach((e=>this.onmouseleave(e,(()=>this._onTargetMouseLeave(e)))))}_onTargetMouseOver(e){this._isMouseIn=!0,this._clearEvaluateMouseStateTimeout(e)}_onTargetMouseLeave(e){this._isMouseIn=!1,this._evaluateMouseState(e)}_evaluateMouseState(e){this._clearEvaluateMouseStateTimeout(e),this._mouseTimeout=l.Jj(e).setTimeout((()=>this._fireIfMouseOutside()),0)}_clearEvaluateMouseStateTimeout(e){this._mouseTimeout&&(l.Jj(e).clearTimeout(this._mouseTimeout),this._mouseTimeout=void 0)}_fireIfMouseOutside(){this._isMouseIn||this._onMouseOut.fire()}}class O{constructor(e){this._element=e,this.targetElements=[this._element]}dispose(){}}var D=i(36513),N=i(34277),T=i(48906),H=i(44995),L=i(71050),R=i(98401);class I{constructor(e,t,i){this.hoverDelegate=e,this.target=t,this.fadeInAnimation=i}async update(e,t,i){var o;if(this._cancellationTokenSource&&(this._cancellationTokenSource.dispose(!0),this._cancellationTokenSource=void 0),this.isDisposed)return;let n;if(void 0===e||(0,R.HD)(e)||(0,l.Re)(e))n=e;else if((0,R.mf)(e.markdown)){this._hoverWidget||this.show((0,w.NC)("iconLabel.loading","Loading..."),t,i),this._cancellationTokenSource=new L.AU;const o=this._cancellationTokenSource.token;if(n=await e.markdown(o),void 0===n&&(n=e.markdownNotSupportedFallback),this.isDisposed||o.isCancellationRequested)return}else n=null!==(o=e.markdown)&&void 0!==o?o:e.markdownNotSupportedFallback;this.show(n,t,i)}show(e,t,i){const o=this._hoverWidget;if(this.hasContent(e)){const n={content:e,target:this.target,appearance:{showPointer:"element"===this.hoverDelegate.placement,skipFadeInAnimation:!this.fadeInAnimation||!!o},position:{hoverPosition:2},...i};this._hoverWidget=this.hoverDelegate.showHover(n,t)}null==o||o.dispose()}hasContent(e){return!!e&&(!(0,y.Fr)(e)||!!e.value)}get isDisposed(){var e;return null===(e=this._hoverWidget)||void 0===e?void 0:e.isDisposed}dispose(){var e,t;null===(e=this._hoverWidget)||void 0===e||e.dispose(),null===(t=this._cancellationTokenSource)||void 0===t||t.dispose(!0),this._cancellationTokenSource=void 0}}var A=i(15393),W=function(e,t,i,o){var n,r=arguments.length,s=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,o);else for(var d=e.length-1;d>=0;d--)(n=e[d])&&(s=(r<3?n(s):r>3?n(t,i,s):n(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},F=function(e,t){return function(i,o){t(i,o,e)}};let U=class extends h.JT{constructor(e,t,i,o,n){super(),this._instantiationService=e,this._keybindingService=i,this._layoutService=o,this._accessibilityService=n,this._existingHovers=new Map,t.onDidShowContextMenu((()=>this.hideHover())),this._contextViewHandler=this._register(new H.a(this._layoutService))}showHover(e,t,i){var o,n,r,s;if(j(this._currentHoverOptions)===j(e))return;if(this._currentHover&&(null===(n=null===(o=this._currentHoverOptions)||void 0===o?void 0:o.persistence)||void 0===n?void 0:n.sticky))return;this._currentHoverOptions=e,this._lastHoverOptions=e;const d=e.trapFocus||this._accessibilityService.isScreenReaderOptimized(),a=(0,l.vY)();i||(d&&a?a.classList.contains("monaco-hover")||(this._lastFocusedElementBeforeOpen=a):this._lastFocusedElementBeforeOpen=void 0);const c=new h.SL,u=this._instantiationService.createInstance(P,e);if((null===(r=e.persistence)||void 0===r?void 0:r.sticky)&&(u.isLocked=!0),u.onDispose((()=>{var t,i;(null===(t=this._currentHover)||void 0===t?void 0:t.domNode)&&(0,l.b5)(this._currentHover.domNode)&&(null===(i=this._lastFocusedElementBeforeOpen)||void 0===i||i.focus()),this._currentHoverOptions===e&&(this._currentHoverOptions=void 0),c.dispose()}),void 0,c),!e.container){const t=(0,l.Re)(e.target)?e.target:e.target.targetElements[0];e.container=this._layoutService.getContainer((0,l.Jj)(t))}if(this._contextViewHandler.showContextView(new V(u,t),e.container),u.onRequestLayout((()=>this._contextViewHandler.layout()),void 0,c),null===(s=e.persistence)||void 0===s?void 0:s.sticky)c.add((0,l.nm)((0,l.Jj)(e.container).document,l.tw.MOUSE_DOWN,(e=>{(0,l.jg)(e.target,u.domNode)||this.doHideHover()})));else{if("targetElements"in e.target)for(const t of e.target.targetElements)c.add((0,l.nm)(t,l.tw.CLICK,(()=>this.hideHover())));else c.add((0,l.nm)(e.target,l.tw.CLICK,(()=>this.hideHover())));const t=(0,l.vY)();if(t){const i=(0,l.Jj)(t).document;c.add((0,l.nm)(t,l.tw.KEY_DOWN,(t=>{var i;return this._keyDown(t,u,!!(null===(i=e.persistence)||void 0===i?void 0:i.hideOnKeyDown))}))),c.add((0,l.nm)(i,l.tw.KEY_DOWN,(t=>{var i;return this._keyDown(t,u,!!(null===(i=e.persistence)||void 0===i?void 0:i.hideOnKeyDown))}))),c.add((0,l.nm)(t,l.tw.KEY_UP,(e=>this._keyUp(e,u)))),c.add((0,l.nm)(i,l.tw.KEY_UP,(e=>this._keyUp(e,u))))}}if("IntersectionObserver"in T.E){const t=new IntersectionObserver((e=>this._intersectionChange(e,u)),{threshold:0}),i="targetElements"in e.target?e.target.targetElements[0]:e.target;t.observe(i),c.add((0,h.OF)((()=>t.disconnect())))}return this._currentHover=u,u}hideHover(){var e;!(null===(e=this._currentHover)||void 0===e?void 0:e.isLocked)&&this._currentHoverOptions&&this.doHideHover()}doHideHover(){this._currentHover=void 0,this._currentHoverOptions=void 0,this._contextViewHandler.hideContextView()}_intersectionChange(e,t){e[e.length-1].isIntersecting||t.dispose()}showAndFocusLastHover(){this._lastHoverOptions&&this.showHover(this._lastHoverOptions,!0,!0)}_keyDown(e,t,i){var o,n;if("Alt"===e.key)return void(t.isLocked=!0);const r=new D.y(e);this._keybindingService.resolveKeyboardEvent(r).getSingleModifierDispatchChords().some((e=>!!e))||0!==this._keybindingService.softDispatch(r,r.target).kind||!i||(null===(o=this._currentHoverOptions)||void 0===o?void 0:o.trapFocus)&&"Tab"===e.key||(this.hideHover(),null===(n=this._lastFocusedElementBeforeOpen)||void 0===n||n.focus())}_keyUp(e,t){var i;"Alt"===e.key&&(t.isLocked=!1,t.isMouseIn||(this.hideHover(),null===(i=this._lastFocusedElementBeforeOpen)||void 0===i||i.focus()))}setupUpdatableHover(e,t,i,o){let n,r;t.setAttribute("custom-hover","true"),""!==t.title&&(t.title="");const s=(t,i)=>{var o;const s=void 0!==r;t&&(null==r||r.dispose(),r=void 0),i&&(null==n||n.dispose(),n=void 0),s&&(null===(o=e.onDidHideHover)||void 0===o||o.call(e),r=void 0)},d=(n,s,d,a)=>new A._F((async()=>{r&&!r.isDisposed||(r=new I(e,d||t,n>0),await r.update("function"==typeof i?i():i,s,{...o,trapFocus:a}))}),n);let a=!1;const c=(0,l.nm)(t,l.tw.MOUSE_DOWN,(()=>{a=!0,s(!0,!0)}),!0),u=(0,l.nm)(t,l.tw.MOUSE_UP,(()=>{a=!1}),!0),_=(0,l.nm)(t,l.tw.MOUSE_LEAVE,(e=>{a=!1,s(!1,e.fromElement===t)}),!0),p=(0,l.nm)(t,l.tw.MOUSE_OVER,(i=>{if(n)return;const o=new h.SL,r={targetElements:[t],dispose:()=>{}};if(void 0===e.placement||"mouse"===e.placement){const e=e=>{r.x=e.x+10,(0,l.Re)(e.target)&&B(e.target,t)!==t&&s(!0,!0)};o.add((0,l.nm)(t,l.tw.MOUSE_MOVE,e,!0))}n=o,(0,l.Re)(i.target)&&B(i.target,t)!==t||o.add(d(e.delay,!1,r))}),!0),g=()=>{if(a||n)return;const i={targetElements:[t],dispose:()=>{}},o=new h.SL;o.add((0,l.nm)(t,l.tw.BLUR,(()=>s(!0,!0)),!0)),o.add(d(e.delay,!1,i)),n=o};let m;const v=t.tagName.toLowerCase();"input"!==v&&"textarea"!==v&&(m=(0,l.nm)(t,l.tw.FOCUS,g,!0));const f={show:e=>{s(!1,!0),d(0,e,void 0,e)},hide:()=>{s(!0,!0)},update:async(e,t)=>{i=e,await(null==r?void 0:r.update(i,void 0,t))},dispose:()=>{this._existingHovers.delete(t),p.dispose(),_.dispose(),c.dispose(),u.dispose(),null==m||m.dispose(),s(!0,!0)}};return this._existingHovers.set(t,f),f}triggerUpdatableHover(e){const t=this._existingHovers.get(e);t&&t.show(!0)}dispose(){this._existingHovers.forEach((e=>e.dispose())),super.dispose()}};function j(e){var t;if(void 0!==e)return null!==(t=null==e?void 0:e.id)&&void 0!==t?t:e}U=W([F(0,a.TG),F(1,d.i),F(2,u.d),F(3,N.F),F(4,E.F)],U);class V{get anchorPosition(){return this._hover.anchor}constructor(e,t=!1){this._hover=e,this._focus=t,this.layer=1}render(e){return this._hover.render(e),this._focus&&this._hover.focus(),this._hover}getAnchor(){return{x:this._hover.x,y:this._hover.y}}layout(){this._hover.layout()}}function B(e,t){for(t=null!=t?t:(0,l.Jj)(e).document.body;!e.hasAttribute("custom-hover")&&e!==t;)e=e.parentElement;return e}(0,o.z)(s.Bs,U,1),(0,n.Ic)(((e,t)=>{const i=e.getColor(r.CNo);i&&(t.addRule(`.monaco-workbench .workbench-hover .hover-row:not(:first-child):not(:empty) { border-top: 1px solid ${i.transparent(.5)}; }`),t.addRule(`.monaco-workbench .workbench-hover hr { border-top: 1px solid ${i.transparent(.5)}; }`))}))},33085:(e,t,i)=>{var o=i(36357),n=i(16830),r=function(e,t,i,o){var n,r=arguments.length,s=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,o);else for(var d=e.length-1;d>=0;d--)(n=e[d])&&(s=(r<3?n(s):r>3?n(t,i,s):n(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},s=function(e,t){return function(i,o){t(i,o,e)}};let d=class{constructor(e,t){}dispose(){}};d.ID="editor.contrib.markerDecorations",d=r([s(1,o.i)],d),(0,n._K)(d.ID,d,0)},42351:(e,t,i)=>{i.d(t,{B:()=>w});var o=i(65321),n=i(48906),r=i(71050),s=i(91741),d=i(43702),a=i(23897),h=i(66663),c=i(95935),l=i(70666),u=i(11640),_=i(94565),p=i(22844),g=i(50988),m=function(e,t,i,o){var n,r=arguments.length,s=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,o);else for(var d=e.length-1;d>=0;d--)(n=e[d])&&(s=(r<3?n(s):r>3?n(t,i,s):n(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},v=function(e,t){return function(i,o){t(i,o,e)}};let f=class{constructor(e){this._commandService=e}async open(e,t){if(!(0,h.xn)(e,h.lg.command))return!1;if(!(null==t?void 0:t.allowCommands))return!0;if("string"==typeof e&&(e=l.o.parse(e)),Array.isArray(t.allowCommands)&&!t.allowCommands.includes(e.path))return!0;let i=[];try{i=(0,a.Qc)(decodeURIComponent(e.query))}catch(t){try{i=(0,a.Qc)(e.query)}catch(e){}}return Array.isArray(i)||(i=[i]),await this._commandService.executeCommand(e.path,...i),!0}};f=m([v(0,_.H)],f);let y=class{constructor(e){this._editorService=e}async open(e,t){"string"==typeof e&&(e=l.o.parse(e));const{selection:i,uri:o}=(0,g.x)(e);return(e=o).scheme===h.lg.file&&(e=(0,c.AH)(e)),await this._editorService.openCodeEditor({resource:e,options:{selection:i,source:(null==t?void 0:t.fromUserGesture)?p.v.USER:p.v.API,...null==t?void 0:t.editorOptions}},this._editorService.getFocusedCodeEditor(),null==t?void 0:t.openToSide),!0}};y=m([v(0,u.$)],y);let w=class{constructor(e,t){this._openers=new s.S,this._validators=new s.S,this._resolvers=new s.S,this._resolvedUriTargets=new d.Y9((e=>e.with({path:null,fragment:null,query:null}).toString())),this._externalOpeners=new s.S,this._defaultExternalOpener={openExternal:async e=>((0,h.Gs)(e,h.lg.http,h.lg.https)?o.V3(e):n.E.location.href=e,!0)},this._openers.push({open:async(e,t)=>!(!(null==t?void 0:t.openExternal)&&!(0,h.Gs)(e,h.lg.mailto,h.lg.http,h.lg.https,h.lg.vsls))&&(await this._doOpenExternal(e,t),!0)}),this._openers.push(new f(t)),this._openers.push(new y(e))}registerOpener(e){return{dispose:this._openers.unshift(e)}}async open(e,t){var i;const o="string"==typeof e?l.o.parse(e):e,n=null!==(i=this._resolvedUriTargets.get(o))&&void 0!==i?i:e;for(const e of this._validators)if(!await e.shouldOpen(n,t))return!1;for(const i of this._openers){if(await i.open(e,t))return!0}return!1}async resolveExternalUri(e,t){for(const i of this._resolvers)try{const o=await i.resolveExternalUri(e,t);if(o)return this._resolvedUriTargets.has(o.resolved)||this._resolvedUriTargets.set(o.resolved,e),o}catch(e){}throw new Error("Could not resolve external URI: "+e.toString())}async _doOpenExternal(e,t){const i="string"==typeof e?l.o.parse(e):e;let o,n;try{o=(await this.resolveExternalUri(i,t)).resolved}catch(e){o=i}if(n="string"==typeof e&&i.toString()===o.toString()?e:encodeURI(o.toString(!0)),null==t?void 0:t.allowContributedOpeners){const e="string"==typeof(null==t?void 0:t.allowContributedOpeners)?null==t?void 0:t.allowContributedOpeners:void 0;for(const t of this._externalOpeners){if(await t.openExternal(n,{sourceUri:i,preferredOpenerId:e},r.Ts.None))return!0}}return this._defaultExternalOpener.openExternal(n,{sourceUri:i},r.Ts.None)}dispose(){this._validators.clear()}};w=m([v(0,u.$),v(1,_.H)],w)},44175:(e,t,i)=>{i.d(t,{j:()=>r});var o=i(36248),n=i(13807);function r(e,t,i){return new s(e,t,i)}class s extends n.Q8{constructor(e,t,i){super(e,i.keepIdleModels||!1,i.label,t),this._foreignModuleId=i.moduleId,this._foreignModuleCreateData=i.createData||null,this._foreignModuleHost=i.host||null,this._foreignProxy=null}fhr(e,t){if(!this._foreignModuleHost||"function"!=typeof this._foreignModuleHost[e])return Promise.reject(new Error("Missing method "+e+" or missing main thread foreign host."));try{return Promise.resolve(this._foreignModuleHost[e].apply(this._foreignModuleHost,t))}catch(e){return Promise.reject(e)}}_getForeignProxy(){return this._foreignProxy||(this._foreignProxy=this._getProxy().then((e=>{const t=this._foreignModuleHost?(0,o.$E)(this._foreignModuleHost):[];return e.loadForeignModule(this._foreignModuleId,this._foreignModuleCreateData,t).then((t=>{this._foreignModuleCreateData=null;const i=(t,i)=>e.fmr(t,i),o=(e,t)=>function(){const i=Array.prototype.slice.call(arguments,0);return t(e,i)},n={};for(const e of t)n[e]=o(e,i);return n}))}))),this._foreignProxy}getProxy(){return this._getForeignProxy()}withSyncedResources(e){return this._withSyncedResources(e).then((e=>this.getProxy()))}}},43407:(e,t,i)=>{i.d(t,{Z:()=>o});class o{static capture(e){if(0===e.getScrollTop()||e.hasPendingScrollAnimation())return new o(e.getScrollTop(),e.getContentHeight(),null,0,null);let t=null,i=0;const n=e.getVisibleRanges();if(n.length>0){t=n[0].getStartPosition();const o=e.getTopForPosition(t.lineNumber,t.column);i=e.getScrollTop()-o}return new o(e.getScrollTop(),e.getContentHeight(),t,i,e.getPosition())}constructor(e,t,i,o,n){this._initialScrollTop=e,this._initialContentHeight=t,this._visiblePosition=i,this._visiblePositionScrollDelta=o,this._cursorPosition=n}restore(e){if((this._initialContentHeight!==e.getContentHeight()||this._initialScrollTop!==e.getScrollTop())&&this._visiblePosition){const t=e.getTopForPosition(this._visiblePosition.lineNumber,this._visiblePosition.column);e.setScrollTop(t+this._visiblePositionScrollDelta)}}restoreRelativeVerticalPositionOfCursor(e){if(this._initialContentHeight===e.getContentHeight()&&this._initialScrollTop===e.getScrollTop())return;const t=e.getPosition();if(!this._cursorPosition||!t)return;const i=e.getTopForLineNumber(t.lineNumber)-e.getTopForLineNumber(this._cursorPosition.lineNumber);e.setScrollTop(e.getScrollTop()+i,1)}}}}]);