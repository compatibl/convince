"use strict";(self.webpackChunkui_react=self.webpackChunkui_react||[]).push([[5668],{44125:(e,t,o)=>{var i=o(16830),n=o(82334),r=o(63580);class s extends i.R6{constructor(){super({id:"editor.action.fontZoomIn",label:r.NC("EditorFontZoomIn.label","Increase Editor Font Size"),alias:"Increase Editor Font Size",precondition:void 0})}run(e,t){n.C.setZoomLevel(n.C.getZoomLevel()+1)}}class a extends i.R6{constructor(){super({id:"editor.action.fontZoomOut",label:r.NC("EditorFontZoomOut.label","Decrease Editor Font Size"),alias:"Decrease Editor Font Size",precondition:void 0})}run(e,t){n.C.setZoomLevel(n.C.getZoomLevel()-1)}}class d extends i.R6{constructor(){super({id:"editor.action.fontZoomReset",label:r.NC("EditorFontZoomReset.label","Reset Editor Font Size"),alias:"Reset Editor Font Size",precondition:void 0})}run(e,t){n.C.setZoomLevel(0)}}(0,i.Qr)(s),(0,i.Qr)(a),(0,i.Qr)(d)},52399:(e,t,o)=>{o.d(t,{Qq:()=>R,Qs:()=>O,x$:()=>b,xC:()=>y});var i=o(9488),n=o(71050),r=o(17301),s=o(53725),a=o(91741),d=o(98401),c=o(70666),l=o(16467),u=o(65520),g=o(50187),p=o(24314),m=o(3860),h=o(85215),f=o(88216),v=o(35120),_=o(94565),C=o(90553),F=o(72065),E=o(71922),M=o(43557),w=o(38832);function x(e,t,o){const i=[],n=new C.o,r=e.ordered(o);for(const e of r)i.push(e),e.extensionId&&n.add(e.extensionId);const s=t.ordered(o);for(const e of s){if(e.extensionId){if(n.has(e.extensionId))continue;n.add(e.extensionId)}i.push({displayName:e.displayName,extensionId:e.extensionId,provideDocumentFormattingEdits:(t,o,i)=>e.provideDocumentRangeFormattingEdits(t,t.getFullModelRange(),o,i)})}return i}class y{static setFormatterSelector(e){return{dispose:y._selectors.unshift(e)}}static async select(e,t,o,i){if(0===e.length)return;const n=s.$.first(y._selectors);return n?await n(e,t,o,i):void 0}}async function b(e,t,o,i,n,r,s){const a=e.get(F.TG),{documentRangeFormattingEditProvider:d}=e.get(E.p),c=(0,u.CL)(t)?t.getModel():t,l=d.ordered(c),g=await y.select(l,c,i,2);g&&(n.report(g),await a.invokeFunction(D,g,t,o,r,s))}async function D(e,t,o,n,r,s){var a,d;const c=e.get(h.p),g=e.get(M.VZ),f=e.get(w.IV);let _,C;(0,u.CL)(o)?(_=o.getModel(),C=new l.Dl(o,5,void 0,r)):(_=o,C=new l.YQ(o,r));const F=[];let E=0;for(const e of(0,i._2)(n).sort(p.e.compareRangesUsingStarts))E>0&&p.e.areIntersectingOrTouching(F[E-1],e)?F[E-1]=p.e.fromPositions(F[E-1].getStartPosition(),e.getEndPosition()):E=F.push(e);const x=async e=>{var o,i;g.trace("[format][provideDocumentRangeFormattingEdits] (request)",null===(o=t.extensionId)||void 0===o?void 0:o.value,e);const n=await t.provideDocumentRangeFormattingEdits(_,e,_.getFormattingOptions(),C.token)||[];return g.trace("[format][provideDocumentRangeFormattingEdits] (response)",null===(i=t.extensionId)||void 0===i?void 0:i.value,n),n},y=(e,t)=>{if(!e.length||!t.length)return!1;const o=e.reduce(((e,t)=>p.e.plusRange(e,t.range)),e[0].range);if(!t.some((e=>p.e.intersectRanges(o,e.range))))return!1;for(const o of e)for(const e of t)if(p.e.intersectRanges(o.range,e.range))return!0;return!1},b=[],D=[];try{if("function"==typeof t.provideDocumentRangesFormattingEdits){g.trace("[format][provideDocumentRangeFormattingEdits] (request)",null===(a=t.extensionId)||void 0===a?void 0:a.value,F);const e=await t.provideDocumentRangesFormattingEdits(_,F,_.getFormattingOptions(),C.token)||[];g.trace("[format][provideDocumentRangeFormattingEdits] (response)",null===(d=t.extensionId)||void 0===d?void 0:d.value,e),D.push(e)}else{for(const e of F){if(C.token.isCancellationRequested)return!0;D.push(await x(e))}for(let e=0;e<F.length;++e)for(let t=e+1;t<F.length;++t){if(C.token.isCancellationRequested)return!0;if(y(D[e],D[t])){const o=p.e.plusRange(F[e],F[t]),i=await x(o);F.splice(t,1),F.splice(e,1),F.push(o),D.splice(t,1),D.splice(e,1),D.push(i),e=0,t=0}}}for(const e of D){if(C.token.isCancellationRequested)return!0;const t=await c.computeMoreMinimalEdits(_.uri,e);t&&b.push(...t)}}finally{C.dispose()}if(0===b.length)return!1;if((0,u.CL)(o))v.V.execute(o,b,!0),o.revealPositionInCenterIfOutsideViewport(o.getPosition(),1);else{const[{range:e}]=b,t=new m.Y(e.startLineNumber,e.startColumn,e.endLineNumber,e.endColumn);_.pushEditOperations([t],b.map((e=>({text:e.text,range:p.e.lift(e.range),forceMoveMarkers:!0}))),(e=>{for(const{range:o}of e)if(p.e.areIntersectingOrTouching(o,t))return[new m.Y(o.startLineNumber,o.startColumn,o.endLineNumber,o.endColumn)];return null}))}return f.playSignal(w.iP.format,{userGesture:s}),!0}async function R(e,t,o,i,n,r){const s=e.get(F.TG),a=e.get(E.p),d=(0,u.CL)(t)?t.getModel():t,c=x(a.documentFormattingEditProvider,a.documentRangeFormattingEditProvider,d),l=await y.select(c,d,o,1);l&&(i.report(l),await s.invokeFunction(S,l,t,o,n,r))}async function S(e,t,o,i,n,r){const s=e.get(h.p),a=e.get(w.IV);let d,c,g;(0,u.CL)(o)?(d=o.getModel(),c=new l.Dl(o,5,void 0,n)):(d=o,c=new l.YQ(o,n));try{const e=await t.provideDocumentFormattingEdits(d,d.getFormattingOptions(),c.token);if(g=await s.computeMoreMinimalEdits(d.uri,e),c.token.isCancellationRequested)return!0}finally{c.dispose()}if(!g||0===g.length)return!1;if((0,u.CL)(o))v.V.execute(o,g,2!==i),2!==i&&o.revealPositionInCenterIfOutsideViewport(o.getPosition(),1);else{const[{range:e}]=g,t=new m.Y(e.startLineNumber,e.startColumn,e.endLineNumber,e.endColumn);d.pushEditOperations([t],g.map((e=>({text:e.text,range:p.e.lift(e.range),forceMoveMarkers:!0}))),(e=>{for(const{range:o}of e)if(p.e.areIntersectingOrTouching(o,t))return[new m.Y(o.startLineNumber,o.startColumn,o.endLineNumber,o.endColumn)];return null}))}return a.playSignal(w.iP.format,{userGesture:r}),!0}function O(e,t,o,i,n,s,a){const d=t.onTypeFormattingEditProvider.ordered(o);return 0===d.length||d[0].autoFormatTriggerCharacters.indexOf(n)<0?Promise.resolve(void 0):Promise.resolve(d[0].provideOnTypeFormattingEdits(o,i,n,s,a)).catch(r.Cp).then((t=>e.computeMoreMinimalEdits(o.uri,t)))}y._selectors=new a.S,_.P.registerCommand("_executeFormatRangeProvider",(async function(e,...t){const[o,s,a]=t;(0,d.p_)(c.o.isUri(o)),(0,d.p_)(p.e.isIRange(s));const l=e.get(f.S),u=e.get(h.p),g=e.get(E.p),m=await l.createModelReference(o);try{return async function(e,t,o,n,s,a){const d=t.documentRangeFormattingEditProvider.ordered(o);for(const t of d){const d=await Promise.resolve(t.provideDocumentRangeFormattingEdits(o,n,s,a)).catch(r.Cp);if((0,i.Of)(d))return await e.computeMoreMinimalEdits(o.uri,d)}}(u,g,m.object.textEditorModel,p.e.lift(s),a,n.Ts.None)}finally{m.dispose()}})),_.P.registerCommand("_executeFormatDocumentProvider",(async function(e,...t){const[o,s]=t;(0,d.p_)(c.o.isUri(o));const a=e.get(f.S),l=e.get(h.p),u=e.get(E.p),g=await a.createModelReference(o);try{return async function(e,t,o,n,s){const a=x(t.documentFormattingEditProvider,t.documentRangeFormattingEditProvider,o);for(const t of a){const a=await Promise.resolve(t.provideDocumentFormattingEdits(o,n,s)).catch(r.Cp);if((0,i.Of)(a))return await e.computeMoreMinimalEdits(o.uri,a)}}(l,u,g.object.textEditorModel,s,n.Ts.None)}finally{g.dispose()}})),_.P.registerCommand("_executeFormatOnTypeProvider",(async function(e,...t){const[o,i,r,s]=t;(0,d.p_)(c.o.isUri(o)),(0,d.p_)(g.L.isIPosition(i)),(0,d.p_)("string"==typeof r);const a=e.get(f.S),l=e.get(h.p),u=e.get(E.p),p=await a.createModelReference(o);try{return O(l,u,p.object.textEditorModel,g.L.lift(i),r,s,n.Ts.None)}finally{p.dispose()}}))},61097:(e,t,o)=>{var i=o(9488),n=o(71050),r=o(17301),s=o(22258),a=o(5976),d=o(16830),c=o(11640),l=o(44906),u=o(24314),g=o(29102),p=o(85215),m=o(71922),h=o(52399),f=o(35120),v=o(63580),_=o(38832),C=o(94565),F=o(93983),E=o(72065),M=o(90535),w=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},x=function(e,t){return function(o,i){t(o,i,e)}};let y=class{constructor(e,t,o,i){this._editor=e,this._languageFeaturesService=t,this._workerService=o,this._accessibilitySignalService=i,this._disposables=new a.SL,this._sessionDisposables=new a.SL,this._disposables.add(t.onTypeFormattingEditProvider.onDidChange(this._update,this)),this._disposables.add(e.onDidChangeModel((()=>this._update()))),this._disposables.add(e.onDidChangeModelLanguage((()=>this._update()))),this._disposables.add(e.onDidChangeConfiguration((e=>{e.hasChanged(56)&&this._update()}))),this._update()}dispose(){this._disposables.dispose(),this._sessionDisposables.dispose()}_update(){if(this._sessionDisposables.clear(),!this._editor.getOption(56))return;if(!this._editor.hasModel())return;const e=this._editor.getModel(),[t]=this._languageFeaturesService.onTypeFormattingEditProvider.ordered(e);if(!t||!t.autoFormatTriggerCharacters)return;const o=new l.q;for(const e of t.autoFormatTriggerCharacters)o.add(e.charCodeAt(0));this._sessionDisposables.add(this._editor.onDidType((e=>{const t=e.charCodeAt(e.length-1);o.has(t)&&this._trigger(String.fromCharCode(t))})))}_trigger(e){if(!this._editor.hasModel())return;if(this._editor.getSelections().length>1||!this._editor.getSelection().isEmpty())return;const t=this._editor.getModel(),o=this._editor.getPosition(),r=new n.AU,s=this._editor.onDidChangeModelContent((e=>{if(e.isFlush)return r.cancel(),void s.dispose();for(let t=0,i=e.changes.length;t<i;t++){if(e.changes[t].range.endLineNumber<=o.lineNumber)return r.cancel(),void s.dispose()}}));(0,h.Qs)(this._workerService,this._languageFeaturesService,t,o,e,t.getFormattingOptions(),r.token).then((e=>{r.token.isCancellationRequested||(0,i.Of)(e)&&(this._accessibilitySignalService.playSignal(_.iP.format,{userGesture:!1}),f.V.execute(this._editor,e,!0))})).finally((()=>{s.dispose()}))}};y.ID="editor.contrib.autoFormat",y=w([x(1,m.p),x(2,p.p),x(3,_.IV)],y);let b=class{constructor(e,t,o){this.editor=e,this._languageFeaturesService=t,this._instantiationService=o,this._callOnDispose=new a.SL,this._callOnModel=new a.SL,this._callOnDispose.add(e.onDidChangeConfiguration((()=>this._update()))),this._callOnDispose.add(e.onDidChangeModel((()=>this._update()))),this._callOnDispose.add(e.onDidChangeModelLanguage((()=>this._update()))),this._callOnDispose.add(t.documentRangeFormattingEditProvider.onDidChange(this._update,this))}dispose(){this._callOnDispose.dispose(),this._callOnModel.dispose()}_update(){this._callOnModel.clear(),this.editor.getOption(55)&&this.editor.hasModel()&&this._languageFeaturesService.documentRangeFormattingEditProvider.has(this.editor.getModel())&&this._callOnModel.add(this.editor.onDidPaste((({range:e})=>this._trigger(e))))}_trigger(e){this.editor.hasModel()&&(this.editor.getSelections().length>1||this._instantiationService.invokeFunction(h.x$,this.editor,e,2,M.Ex.None,n.Ts.None,!1).catch(r.dL))}};b.ID="editor.contrib.formatOnPaste",b=w([x(1,m.p),x(2,E.TG)],b);class D extends d.R6{constructor(){super({id:"editor.action.formatDocument",label:v.NC("formatDocument.label","Format Document"),alias:"Format Document",precondition:F.Ao.and(g.u.notInCompositeEditor,g.u.writable,g.u.hasDocumentFormattingProvider),kbOpts:{kbExpr:g.u.editorTextFocus,primary:1572,linux:{primary:3111},weight:100},contextMenuOpts:{group:"1_modification",order:1.3}})}async run(e,t){if(t.hasModel()){const o=e.get(E.TG),i=e.get(M.ek);await i.showWhile(o.invokeFunction(h.Qq,t,1,M.Ex.None,n.Ts.None,!0),250)}}}class R extends d.R6{constructor(){super({id:"editor.action.formatSelection",label:v.NC("formatSelection.label","Format Selection"),alias:"Format Selection",precondition:F.Ao.and(g.u.writable,g.u.hasDocumentSelectionFormattingProvider),kbOpts:{kbExpr:g.u.editorTextFocus,primary:(0,s.gx)(2089,2084),weight:100},contextMenuOpts:{when:g.u.hasNonEmptySelection,group:"1_modification",order:1.31}})}async run(e,t){if(!t.hasModel())return;const o=e.get(E.TG),i=t.getModel(),r=t.getSelections().map((e=>e.isEmpty()?new u.e(e.startLineNumber,1,e.startLineNumber,i.getLineMaxColumn(e.startLineNumber)):e)),s=e.get(M.ek);await s.showWhile(o.invokeFunction(h.x$,t,r,1,M.Ex.None,n.Ts.None,!0),250)}}(0,d._K)(y.ID,y,2),(0,d._K)(b.ID,b,2),(0,d.Qr)(D),(0,d.Qr)(R),C.P.registerCommand("editor.action.format",(async e=>{const t=e.get(c.$).getFocusedCodeEditor();if(!t||!t.hasModel())return;const o=e.get(C.H);t.getSelection().isEmpty()?await o.executeCommand("editor.action.formatDocument"):await o.executeCommand("editor.action.formatSelection")}))},35120:(e,t,o)=>{o.d(t,{V:()=>s});var i=o(69386),n=o(24314),r=o(43407);class s{static _handleEolEdits(e,t){let o;const i=[];for(const e of t)"number"==typeof e.eol&&(o=e.eol),e.range&&"string"==typeof e.text&&i.push(e);return"number"==typeof o&&e.hasModel()&&e.getModel().pushEOL(o),i}static _isFullModelReplaceEdit(e,t){if(!e.hasModel())return!1;const o=e.getModel(),i=o.validateRange(t.range);return o.getFullModelRange().equalsRange(i)}static execute(e,t,o){o&&e.pushUndoStop();const a=r.Z.capture(e),d=s._handleEolEdits(e,t);1===d.length&&s._isFullModelReplaceEdit(e,d[0])?e.executeEdits("formatEditsCommand",d.map((e=>i.h.replace(n.e.lift(e.range),e.text)))):e.executeEdits("formatEditsCommand",d.map((e=>i.h.replaceMove(n.e.lift(e.range),e.text)))),o&&e.pushUndoStop(),a.restoreRelativeVerticalPositionOfCursor(e)}}}}]);