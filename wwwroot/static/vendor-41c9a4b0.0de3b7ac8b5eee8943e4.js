"use strict";(self.webpackChunkui_react=self.webpackChunkui_react||[]).push([[3896],{50461:(t,e,i)=>{i.d(e,{O:()=>n});var s=i(5976);class n extends s.JT{constructor(){super(),this._shouldRender=!0}shouldRender(){return this._shouldRender}forceShouldRender(){this._shouldRender=!0}setShouldRender(){this._shouldRender=!0}onDidRender(){this._shouldRender=!1}onCompositionStart(t){return!1}onCompositionEnd(t){return!1}onConfigurationChanged(t){return!1}onCursorStateChanged(t){return!1}onDecorationsChanged(t){return!1}onFlushed(t){return!1}onFocusChanged(t){return!1}onLanguageConfigurationChanged(t){return!1}onLineMappingChanged(t){return!1}onLinesChanged(t){return!1}onLinesDeleted(t){return!1}onLinesInserted(t){return!1}onRevealRangeRequest(t){return!1}onScrollChanged(t){return!1}onThemeChanged(t){return!1}onTokensChanged(t){return!1}onTokensColorsChanged(t){return!1}onZonesChanged(t){return!1}handleEvents(t){let e=!1;for(let i=0,s=t.length;i<s;i++){const s=t[i];switch(s.type){case 0:this.onCompositionStart(s)&&(e=!0);break;case 1:this.onCompositionEnd(s)&&(e=!0);break;case 2:this.onConfigurationChanged(s)&&(e=!0);break;case 3:this.onCursorStateChanged(s)&&(e=!0);break;case 4:this.onDecorationsChanged(s)&&(e=!0);break;case 5:this.onFlushed(s)&&(e=!0);break;case 6:this.onFocusChanged(s)&&(e=!0);break;case 7:this.onLanguageConfigurationChanged(s)&&(e=!0);break;case 8:this.onLineMappingChanged(s)&&(e=!0);break;case 9:this.onLinesChanged(s)&&(e=!0);break;case 10:this.onLinesDeleted(s)&&(e=!0);break;case 11:this.onLinesInserted(s)&&(e=!0);break;case 12:this.onRevealRangeRequest(s)&&(e=!0);break;case 13:this.onScrollChanged(s)&&(e=!0);break;case 15:this.onTokensChanged(s)&&(e=!0);break;case 14:this.onThemeChanged(s)&&(e=!0);break;case 16:this.onTokensColorsChanged(s)&&(e=!0);break;case 17:this.onZonesChanged(s)&&(e=!0)}}e&&(this._shouldRender=!0)}}},95599:(t,e,i)=>{i.d(e,{Ay:()=>m,CL:()=>a,H9:()=>C,Hf:()=>_,IN:()=>n,Ic:()=>b,JP:()=>s,K9:()=>p,Qb:()=>f,SJ:()=>l,_0:()=>c,d8:()=>d,e$:()=>o,il:()=>u,uc:()=>L,vA:()=>h,vk:()=>g,x4:()=>r});class s{constructor(){this.type=0}}class n{constructor(){this.type=1}}class r{constructor(t){this.type=2,this._source=t}hasChanged(t){return this._source.hasChanged(t)}}class o{constructor(t,e,i){this.selections=t,this.modelSelections=e,this.reason=i,this.type=3}}class h{constructor(t){this.type=4,t?(this.affectsMinimap=t.affectsMinimap,this.affectsOverviewRuler=t.affectsOverviewRuler,this.affectsGlyphMargin=t.affectsGlyphMargin,this.affectsLineNumber=t.affectsLineNumber):(this.affectsMinimap=!0,this.affectsOverviewRuler=!0,this.affectsGlyphMargin=!0,this.affectsLineNumber=!0)}}class a{constructor(){this.type=5}}class l{constructor(t){this.type=6,this.isFocused=t}}class c{constructor(){this.type=7}}class d{constructor(){this.type=8}}class u{constructor(t,e){this.fromLineNumber=t,this.count=e,this.type=9}}class g{constructor(t,e){this.type=10,this.fromLineNumber=t,this.toLineNumber=e}}class p{constructor(t,e){this.type=11,this.fromLineNumber=t,this.toLineNumber=e}}class f{constructor(t,e,i,s,n,r,o){this.source=t,this.minimalReveal=e,this.range=i,this.selections=s,this.verticalType=n,this.revealHorizontal=r,this.scrollType=o,this.type=12}}class m{constructor(t){this.type=13,this.scrollWidth=t.scrollWidth,this.scrollLeft=t.scrollLeft,this.scrollHeight=t.scrollHeight,this.scrollTop=t.scrollTop,this.scrollWidthChanged=t.scrollWidthChanged,this.scrollLeftChanged=t.scrollLeftChanged,this.scrollHeightChanged=t.scrollHeightChanged,this.scrollTopChanged=t.scrollTopChanged}}class _{constructor(t){this.theme=t,this.type=14}}class C{constructor(t){this.type=15,this.ranges=t}}class L{constructor(){this.type=16}}class b{constructor(){this.type=17}}},92550:(t,e,i)=>{i.d(e,{Kp:()=>n,k:()=>h});var s=i(97295);class n{constructor(t,e,i,s){this.startColumn=t,this.endColumn=e,this.className=i,this.type=s,this._lineDecorationBrand=void 0}static _equals(t,e){return t.startColumn===e.startColumn&&t.endColumn===e.endColumn&&t.className===e.className&&t.type===e.type}static equalsArr(t,e){const i=t.length;if(i!==e.length)return!1;for(let s=0;s<i;s++)if(!n._equals(t[s],e[s]))return!1;return!0}static extractWrapped(t,e,i){if(0===t.length)return t;const s=e+1,r=i+1,o=i-e,h=[];let a=0;for(const e of t)e.endColumn<=s||e.startColumn>=r||(h[a++]=new n(Math.max(1,e.startColumn-s+1),Math.min(o+1,e.endColumn-s+1),e.className,e.type));return h}static filter(t,e,i,s){if(0===t.length)return[];const r=[];let o=0;for(let h=0,a=t.length;h<a;h++){const a=t[h],l=a.range;if(l.endLineNumber<e||l.startLineNumber>e)continue;if(l.isEmpty()&&(0===a.type||3===a.type))continue;const c=l.startLineNumber===e?l.startColumn:i,d=l.endLineNumber===e?l.endColumn:s;r[o++]=new n(c,d,a.inlineClassName,a.type)}return r}static _typeCompare(t,e){const i=[2,0,1,3];return i[t]-i[e]}static compare(t,e){if(t.startColumn!==e.startColumn)return t.startColumn-e.startColumn;if(t.endColumn!==e.endColumn)return t.endColumn-e.endColumn;const i=n._typeCompare(t.type,e.type);return 0!==i?i:t.className!==e.className?t.className<e.className?-1:1:0}}class r{constructor(t,e,i,s){this.startOffset=t,this.endOffset=e,this.className=i,this.metadata=s}}class o{constructor(){this.stopOffsets=[],this.classNames=[],this.metadata=[],this.count=0}static _metadata(t){let e=0;for(let i=0,s=t.length;i<s;i++)e|=t[i];return e}consumeLowerThan(t,e,i){for(;this.count>0&&this.stopOffsets[0]<t;){let t=0;for(;t+1<this.count&&this.stopOffsets[t]===this.stopOffsets[t+1];)t++;i.push(new r(e,this.stopOffsets[t],this.classNames.join(" "),o._metadata(this.metadata))),e=this.stopOffsets[t]+1,this.stopOffsets.splice(0,t+1),this.classNames.splice(0,t+1),this.metadata.splice(0,t+1),this.count-=t+1}return this.count>0&&e<t&&(i.push(new r(e,t-1,this.classNames.join(" "),o._metadata(this.metadata))),e=t),e}insert(t,e,i){if(0===this.count||this.stopOffsets[this.count-1]<=t)this.stopOffsets.push(t),this.classNames.push(e),this.metadata.push(i);else for(let s=0;s<this.count;s++)if(this.stopOffsets[s]>=t){this.stopOffsets.splice(s,0,t),this.classNames.splice(s,0,e),this.metadata.splice(s,0,i);break}this.count++}}class h{static normalize(t,e){if(0===e.length)return[];const i=[],n=new o;let r=0;for(let o=0,h=e.length;o<h;o++){const h=e[o];let a=h.startColumn,l=h.endColumn;const c=h.className,d=1===h.type?2:2===h.type?4:0;if(a>1){const e=t.charCodeAt(a-2);s.ZG(e)&&a--}if(l>1){const e=t.charCodeAt(l-2);s.ZG(e)&&l--}const u=a-1,g=l-2;r=n.consumeLowerThan(u,r,i),0===n.count&&(r=u),n.insert(g,c,d)}return n.consumeLowerThan(1073741824,r,i),i}}},58005:(t,e,i)=>{i.d(e,{L:()=>p});var s=i(4669),n=i(5976),r=i(76633),o=i(97295);class h{constructor(){this._hasPending=!1,this._inserts=[],this._changes=[],this._removes=[]}insert(t){this._hasPending=!0,this._inserts.push(t)}change(t){this._hasPending=!0,this._changes.push(t)}remove(t){this._hasPending=!0,this._removes.push(t)}mustCommit(){return this._hasPending}commit(t){if(!this._hasPending)return;const e=this._inserts,i=this._changes,s=this._removes;this._hasPending=!1,this._inserts=[],this._changes=[],this._removes=[],t._commitPendingChanges(e,i,s)}}class a{constructor(t,e,i,s,n){this.id=t,this.afterLineNumber=e,this.ordinal=i,this.height=s,this.minWidth=n,this.prefixSum=0}}class l{constructor(t,e,i,s){this._instanceId=o.PJ(++l.INSTANCE_COUNT),this._pendingChanges=new h,this._lastWhitespaceId=0,this._arr=[],this._prefixSumValidIndex=-1,this._minWidth=-1,this._lineCount=t,this._lineHeight=e,this._paddingTop=i,this._paddingBottom=s}static findInsertionIndex(t,e,i){let s=0,n=t.length;for(;s<n;){const r=s+n>>>1;e===t[r].afterLineNumber?i<t[r].ordinal?n=r:s=r+1:e<t[r].afterLineNumber?n=r:s=r+1}return s}setLineHeight(t){this._checkPendingChanges(),this._lineHeight=t}setPadding(t,e){this._paddingTop=t,this._paddingBottom=e}onFlushed(t){this._checkPendingChanges(),this._lineCount=t}changeWhitespace(t){let e=!1;try{t({insertWhitespace:(t,i,s,n)=>{e=!0,t|=0,i|=0,s|=0,n|=0;const r=this._instanceId+ ++this._lastWhitespaceId;return this._pendingChanges.insert(new a(r,t,i,s,n)),r},changeOneWhitespace:(t,i,s)=>{e=!0,i|=0,s|=0,this._pendingChanges.change({id:t,newAfterLineNumber:i,newHeight:s})},removeWhitespace:t=>{e=!0,this._pendingChanges.remove({id:t})}})}finally{this._pendingChanges.commit(this)}return e}_commitPendingChanges(t,e,i){if((t.length>0||i.length>0)&&(this._minWidth=-1),t.length+e.length+i.length<=1){for(const e of t)this._insertWhitespace(e);for(const t of e)this._changeOneWhitespace(t.id,t.newAfterLineNumber,t.newHeight);for(const t of i){const e=this._findWhitespaceIndex(t.id);-1!==e&&this._removeWhitespace(e)}return}const s=new Set;for(const t of i)s.add(t.id);const n=new Map;for(const t of e)n.set(t.id,t);const r=t=>{const e=[];for(const i of t)if(!s.has(i.id)){if(n.has(i.id)){const t=n.get(i.id);i.afterLineNumber=t.newAfterLineNumber,i.height=t.newHeight}e.push(i)}return e},o=r(this._arr).concat(r(t));o.sort(((t,e)=>t.afterLineNumber===e.afterLineNumber?t.ordinal-e.ordinal:t.afterLineNumber-e.afterLineNumber)),this._arr=o,this._prefixSumValidIndex=-1}_checkPendingChanges(){this._pendingChanges.mustCommit()&&this._pendingChanges.commit(this)}_insertWhitespace(t){const e=l.findInsertionIndex(this._arr,t.afterLineNumber,t.ordinal);this._arr.splice(e,0,t),this._prefixSumValidIndex=Math.min(this._prefixSumValidIndex,e-1)}_findWhitespaceIndex(t){const e=this._arr;for(let i=0,s=e.length;i<s;i++)if(e[i].id===t)return i;return-1}_changeOneWhitespace(t,e,i){const s=this._findWhitespaceIndex(t);if(-1!==s&&(this._arr[s].height!==i&&(this._arr[s].height=i,this._prefixSumValidIndex=Math.min(this._prefixSumValidIndex,s-1)),this._arr[s].afterLineNumber!==e)){const t=this._arr[s];this._removeWhitespace(s),t.afterLineNumber=e,this._insertWhitespace(t)}}_removeWhitespace(t){this._arr.splice(t,1),this._prefixSumValidIndex=Math.min(this._prefixSumValidIndex,t-1)}onLinesDeleted(t,e){this._checkPendingChanges(),t|=0,e|=0,this._lineCount-=e-t+1;for(let i=0,s=this._arr.length;i<s;i++){const s=this._arr[i].afterLineNumber;t<=s&&s<=e?this._arr[i].afterLineNumber=t-1:s>e&&(this._arr[i].afterLineNumber-=e-t+1)}}onLinesInserted(t,e){this._checkPendingChanges(),t|=0,e|=0,this._lineCount+=e-t+1;for(let i=0,s=this._arr.length;i<s;i++){t<=this._arr[i].afterLineNumber&&(this._arr[i].afterLineNumber+=e-t+1)}}getWhitespacesTotalHeight(){return this._checkPendingChanges(),0===this._arr.length?0:this.getWhitespacesAccumulatedHeight(this._arr.length-1)}getWhitespacesAccumulatedHeight(t){this._checkPendingChanges(),t|=0;let e=Math.max(0,this._prefixSumValidIndex+1);0===e&&(this._arr[0].prefixSum=this._arr[0].height,e++);for(let i=e;i<=t;i++)this._arr[i].prefixSum=this._arr[i-1].prefixSum+this._arr[i].height;return this._prefixSumValidIndex=Math.max(this._prefixSumValidIndex,t),this._arr[t].prefixSum}getLinesTotalHeight(){this._checkPendingChanges();return this._lineHeight*this._lineCount+this.getWhitespacesTotalHeight()+this._paddingTop+this._paddingBottom}getWhitespaceAccumulatedHeightBeforeLineNumber(t){this._checkPendingChanges(),t|=0;const e=this._findLastWhitespaceBeforeLineNumber(t);return-1===e?0:this.getWhitespacesAccumulatedHeight(e)}_findLastWhitespaceBeforeLineNumber(t){t|=0;const e=this._arr;let i=0,s=e.length-1;for(;i<=s;){const n=i+((s-i|0)/2|0)|0;if(e[n].afterLineNumber<t){if(n+1>=e.length||e[n+1].afterLineNumber>=t)return n;i=n+1|0}else s=n-1|0}return-1}_findFirstWhitespaceAfterLineNumber(t){t|=0;const e=this._findLastWhitespaceBeforeLineNumber(t)+1;return e<this._arr.length?e:-1}getFirstWhitespaceIndexAfterLineNumber(t){return this._checkPendingChanges(),t|=0,this._findFirstWhitespaceAfterLineNumber(t)}getVerticalOffsetForLineNumber(t,e=!1){let i;this._checkPendingChanges(),i=(t|=0)>1?this._lineHeight*(t-1):0;return i+this.getWhitespaceAccumulatedHeightBeforeLineNumber(t-(e?1:0))+this._paddingTop}getVerticalOffsetAfterLineNumber(t,e=!1){this._checkPendingChanges(),t|=0;return this._lineHeight*t+this.getWhitespaceAccumulatedHeightBeforeLineNumber(t+(e?1:0))+this._paddingTop}getWhitespaceMinWidth(){if(this._checkPendingChanges(),-1===this._minWidth){let t=0;for(let e=0,i=this._arr.length;e<i;e++)t=Math.max(t,this._arr[e].minWidth);this._minWidth=t}return this._minWidth}isAfterLines(t){this._checkPendingChanges();return t>this.getLinesTotalHeight()}isInTopPadding(t){return 0!==this._paddingTop&&(this._checkPendingChanges(),t<this._paddingTop)}isInBottomPadding(t){if(0===this._paddingBottom)return!1;this._checkPendingChanges();return t>=this.getLinesTotalHeight()-this._paddingBottom}getLineNumberAtOrAfterVerticalOffset(t){if(this._checkPendingChanges(),(t|=0)<0)return 1;const e=0|this._lineCount,i=this._lineHeight;let s=1,n=e;for(;s<n;){const e=(s+n)/2|0,r=0|this.getVerticalOffsetForLineNumber(e);if(t>=r+i)s=e+1;else{if(t>=r)return e;n=e}}return s>e?e:s}getLinesViewportData(t,e){this._checkPendingChanges(),t|=0,e|=0;const i=this._lineHeight,s=0|this.getLineNumberAtOrAfterVerticalOffset(t),n=0|this.getVerticalOffsetForLineNumber(s);let r=0|this._lineCount,o=0|this.getFirstWhitespaceIndexAfterLineNumber(s);const h=0|this.getWhitespacesCount();let a,l;-1===o?(o=h,l=r+1,a=0):(l=0|this.getAfterLineNumberForWhitespaceIndex(o),a=0|this.getHeightForWhitespaceIndex(o));let c=n,d=c;const u=5e5;let g=0;n>=u&&(g=Math.floor(n/u)*u,g=Math.floor(g/i)*i,d-=g);const p=[],f=t+(e-t)/2;let m=-1;for(let t=s;t<=r;t++){if(-1===m){(c<=f&&f<c+i||c>f)&&(m=t)}for(c+=i,p[t-s]=d,d+=i;l===t;)d+=a,c+=a,o++,o>=h?l=r+1:(l=0|this.getAfterLineNumberForWhitespaceIndex(o),a=0|this.getHeightForWhitespaceIndex(o));if(c>=e){r=t;break}}-1===m&&(m=r);const _=0|this.getVerticalOffsetForLineNumber(r);let C=s,L=r;return C<L&&n<t&&C++,C<L&&_+i>e&&L--,{bigNumbersDelta:g,startLineNumber:s,endLineNumber:r,relativeVerticalOffset:p,centeredLineNumber:m,completelyVisibleStartLineNumber:C,completelyVisibleEndLineNumber:L,lineHeight:this._lineHeight}}getVerticalOffsetForWhitespaceIndex(t){this._checkPendingChanges(),t|=0;const e=this.getAfterLineNumberForWhitespaceIndex(t);let i,s;return i=e>=1?this._lineHeight*e:0,s=t>0?this.getWhitespacesAccumulatedHeight(t-1):0,i+s+this._paddingTop}getWhitespaceIndexAtOrAfterVerticallOffset(t){this._checkPendingChanges(),t|=0;let e=0,i=this.getWhitespacesCount()-1;if(i<0)return-1;if(t>=this.getVerticalOffsetForWhitespaceIndex(i)+this.getHeightForWhitespaceIndex(i))return-1;for(;e<i;){const s=Math.floor((e+i)/2),n=this.getVerticalOffsetForWhitespaceIndex(s);if(t>=n+this.getHeightForWhitespaceIndex(s))e=s+1;else{if(t>=n)return s;i=s}}return e}getWhitespaceAtVerticalOffset(t){this._checkPendingChanges(),t|=0;const e=this.getWhitespaceIndexAtOrAfterVerticallOffset(t);if(e<0)return null;if(e>=this.getWhitespacesCount())return null;const i=this.getVerticalOffsetForWhitespaceIndex(e);if(i>t)return null;const s=this.getHeightForWhitespaceIndex(e);return{id:this.getIdForWhitespaceIndex(e),afterLineNumber:this.getAfterLineNumberForWhitespaceIndex(e),verticalOffset:i,height:s}}getWhitespaceViewportData(t,e){this._checkPendingChanges(),t|=0,e|=0;const i=this.getWhitespaceIndexAtOrAfterVerticallOffset(t),s=this.getWhitespacesCount()-1;if(i<0)return[];const n=[];for(let t=i;t<=s;t++){const i=this.getVerticalOffsetForWhitespaceIndex(t),s=this.getHeightForWhitespaceIndex(t);if(i>=e)break;n.push({id:this.getIdForWhitespaceIndex(t),afterLineNumber:this.getAfterLineNumberForWhitespaceIndex(t),verticalOffset:i,height:s})}return n}getWhitespaces(){return this._checkPendingChanges(),this._arr.slice(0)}getWhitespacesCount(){return this._checkPendingChanges(),this._arr.length}getIdForWhitespaceIndex(t){return this._checkPendingChanges(),t|=0,this._arr[t].id}getAfterLineNumberForWhitespaceIndex(t){return this._checkPendingChanges(),t|=0,this._arr[t].afterLineNumber}getHeightForWhitespaceIndex(t){return this._checkPendingChanges(),t|=0,this._arr[t].height}}l.INSTANCE_COUNT=0;var c=i(1118),d=i(87260);class u{constructor(t,e,i,s){(t|=0)<0&&(t=0),(e|=0)<0&&(e=0),(i|=0)<0&&(i=0),(s|=0)<0&&(s=0),this.width=t,this.contentWidth=e,this.scrollWidth=Math.max(t,e),this.height=i,this.contentHeight=s,this.scrollHeight=Math.max(i,s)}equals(t){return this.width===t.width&&this.contentWidth===t.contentWidth&&this.height===t.height&&this.contentHeight===t.contentHeight}}class g extends n.JT{constructor(t,e){super(),this._onDidContentSizeChange=this._register(new s.Q5),this.onDidContentSizeChange=this._onDidContentSizeChange.event,this._dimensions=new u(0,0,0,0),this._scrollable=this._register(new r.Rm({forceIntegerValues:!0,smoothScrollDuration:t,scheduleAtNextAnimationFrame:e})),this.onDidScroll=this._scrollable.onScroll}getScrollable(){return this._scrollable}setSmoothScrollDuration(t){this._scrollable.setSmoothScrollDuration(t)}validateScrollPosition(t){return this._scrollable.validateScrollPosition(t)}getScrollDimensions(){return this._dimensions}setScrollDimensions(t){if(this._dimensions.equals(t))return;const e=this._dimensions;this._dimensions=t,this._scrollable.setScrollDimensions({width:t.width,scrollWidth:t.scrollWidth,height:t.height,scrollHeight:t.scrollHeight},!0);const i=e.contentWidth!==t.contentWidth,s=e.contentHeight!==t.contentHeight;(i||s)&&this._onDidContentSizeChange.fire(new d.zf(e.contentWidth,e.contentHeight,t.contentWidth,t.contentHeight))}getFutureScrollPosition(){return this._scrollable.getFutureScrollPosition()}getCurrentScrollPosition(){return this._scrollable.getCurrentScrollPosition()}setScrollPositionNow(t){this._scrollable.setScrollPositionNow(t)}setScrollPositionSmooth(t){this._scrollable.setScrollPositionSmooth(t)}hasPendingScrollAnimation(){return this._scrollable.hasPendingScrollAnimation()}}class p extends n.JT{constructor(t,e,i){super(),this._configuration=t;const s=this._configuration.options,n=s.get(145),r=s.get(84);this._linesLayout=new l(e,s.get(67),r.top,r.bottom),this._maxLineWidth=0,this._overlayWidgetsMinWidth=0,this._scrollable=this._register(new g(0,i)),this._configureSmoothScrollDuration(),this._scrollable.setScrollDimensions(new u(n.contentWidth,0,n.height,0)),this.onDidScroll=this._scrollable.onDidScroll,this.onDidContentSizeChange=this._scrollable.onDidContentSizeChange,this._updateHeight()}dispose(){super.dispose()}getScrollable(){return this._scrollable.getScrollable()}onHeightMaybeChanged(){this._updateHeight()}_configureSmoothScrollDuration(){this._scrollable.setSmoothScrollDuration(this._configuration.options.get(114)?125:0)}onConfigurationChanged(t){const e=this._configuration.options;if(t.hasChanged(67)&&this._linesLayout.setLineHeight(e.get(67)),t.hasChanged(84)){const t=e.get(84);this._linesLayout.setPadding(t.top,t.bottom)}if(t.hasChanged(145)){const t=e.get(145),i=t.contentWidth,s=t.height,n=this._scrollable.getScrollDimensions(),r=n.contentWidth;this._scrollable.setScrollDimensions(new u(i,n.contentWidth,s,this._getContentHeight(i,s,r)))}else this._updateHeight();t.hasChanged(114)&&this._configureSmoothScrollDuration()}onFlushed(t){this._linesLayout.onFlushed(t)}onLinesDeleted(t,e){this._linesLayout.onLinesDeleted(t,e)}onLinesInserted(t,e){this._linesLayout.onLinesInserted(t,e)}_getHorizontalScrollbarHeight(t,e){const i=this._configuration.options.get(103);return 2===i.horizontal||t>=e?0:i.horizontalScrollbarSize}_getContentHeight(t,e,i){const s=this._configuration.options;let n=this._linesLayout.getLinesTotalHeight();return s.get(105)?n+=Math.max(0,e-s.get(67)-s.get(84).bottom):s.get(103).ignoreHorizontalScrollbarInContentHeight||(n+=this._getHorizontalScrollbarHeight(t,i)),n}_updateHeight(){const t=this._scrollable.getScrollDimensions(),e=t.width,i=t.height,s=t.contentWidth;this._scrollable.setScrollDimensions(new u(e,t.contentWidth,i,this._getContentHeight(e,i,s)))}getCurrentViewport(){const t=this._scrollable.getScrollDimensions(),e=this._scrollable.getCurrentScrollPosition();return new c.l_(e.scrollTop,e.scrollLeft,t.width,t.height)}getFutureViewport(){const t=this._scrollable.getScrollDimensions(),e=this._scrollable.getFutureScrollPosition();return new c.l_(e.scrollTop,e.scrollLeft,t.width,t.height)}_computeContentWidth(){const t=this._configuration.options,e=this._maxLineWidth,i=t.get(146),s=t.get(50),n=t.get(145);if(i.isViewportWrapping){const i=t.get(73);return e>n.contentWidth+s.typicalHalfwidthCharacterWidth&&i.enabled&&"right"===i.side?e+n.verticalScrollbarWidth:e}{const i=t.get(104)*s.typicalHalfwidthCharacterWidth,r=this._linesLayout.getWhitespaceMinWidth();return Math.max(e+i+n.verticalScrollbarWidth,r,this._overlayWidgetsMinWidth)}}setMaxLineWidth(t){this._maxLineWidth=t,this._updateContentWidth()}setOverlayWidgetsMinWidth(t){this._overlayWidgetsMinWidth=t,this._updateContentWidth()}_updateContentWidth(){const t=this._scrollable.getScrollDimensions();this._scrollable.setScrollDimensions(new u(t.width,this._computeContentWidth(),t.height,t.contentHeight)),this._updateHeight()}saveState(){const t=this._scrollable.getFutureScrollPosition(),e=t.scrollTop,i=this._linesLayout.getLineNumberAtOrAfterVerticalOffset(e);return{scrollTop:e,scrollTopWithoutViewZones:e-this._linesLayout.getWhitespaceAccumulatedHeightBeforeLineNumber(i),scrollLeft:t.scrollLeft}}changeWhitespace(t){const e=this._linesLayout.changeWhitespace(t);return e&&this.onHeightMaybeChanged(),e}getVerticalOffsetForLineNumber(t,e=!1){return this._linesLayout.getVerticalOffsetForLineNumber(t,e)}getVerticalOffsetAfterLineNumber(t,e=!1){return this._linesLayout.getVerticalOffsetAfterLineNumber(t,e)}isAfterLines(t){return this._linesLayout.isAfterLines(t)}isInTopPadding(t){return this._linesLayout.isInTopPadding(t)}isInBottomPadding(t){return this._linesLayout.isInBottomPadding(t)}getLineNumberAtVerticalOffset(t){return this._linesLayout.getLineNumberAtOrAfterVerticalOffset(t)}getWhitespaceAtVerticalOffset(t){return this._linesLayout.getWhitespaceAtVerticalOffset(t)}getLinesViewportData(){const t=this.getCurrentViewport();return this._linesLayout.getLinesViewportData(t.top,t.top+t.height)}getLinesViewportDataAtScrollTop(t){const e=this._scrollable.getScrollDimensions();return t+e.height>e.scrollHeight&&(t=e.scrollHeight-e.height),t<0&&(t=0),this._linesLayout.getLinesViewportData(t,t+e.height)}getWhitespaceViewportData(){const t=this.getCurrentViewport();return this._linesLayout.getWhitespaceViewportData(t.top,t.top+t.height)}getWhitespaces(){return this._linesLayout.getWhitespaces()}getContentWidth(){return this._scrollable.getScrollDimensions().contentWidth}getScrollWidth(){return this._scrollable.getScrollDimensions().scrollWidth}getContentHeight(){return this._scrollable.getScrollDimensions().contentHeight}getScrollHeight(){return this._scrollable.getScrollDimensions().scrollHeight}getCurrentScrollLeft(){return this._scrollable.getCurrentScrollPosition().scrollLeft}getCurrentScrollTop(){return this._scrollable.getCurrentScrollPosition().scrollTop}validateScrollPosition(t){return this._scrollable.validateScrollPosition(t)}setScrollPosition(t,e){1===e?this._scrollable.setScrollPositionNow(t):this._scrollable.setScrollPositionSmooth(t)}hasPendingScrollAnimation(){return this._scrollable.hasPendingScrollAnimation()}deltaScrollNow(t,e){const i=this._scrollable.getCurrentScrollPosition();this._scrollable.setScrollPositionNow({scrollLeft:i.scrollLeft+t,scrollTop:i.scrollTop+e})}}},91557:(t,e,i)=>{i.d(e,{Nd:()=>c,zG:()=>a,IJ:()=>l,d1:()=>g,tF:()=>f});var s=i(63580),n=i(97295),r=i(50072),o=i(92550);class h{constructor(t,e,i,s){this.endIndex=t,this.type=e,this.metadata=i,this.containsRTL=s,this._linePartBrand=void 0}isWhitespace(){return!!(1&this.metadata)}isPseudoAfter(){return!!(4&this.metadata)}}class a{constructor(t,e){this.startOffset=t,this.endOffset=e}equals(t){return this.startOffset===t.startOffset&&this.endOffset===t.endOffset}}class l{constructor(t,e,i,s,n,r,h,a,l,c,d,u,g,p,f,m,_,C,L){this.useMonospaceOptimizations=t,this.canUseHalfwidthRightwardsArrow=e,this.lineContent=i,this.continuesWithWrappedLine=s,this.isBasicASCII=n,this.containsRTL=r,this.fauxIndentLength=h,this.lineTokens=a,this.lineDecorations=l.sort(o.Kp.compare),this.tabSize=c,this.startVisibleColumn=d,this.spaceWidth=u,this.stopRenderingLineAfter=f,this.renderWhitespace="all"===m?4:"boundary"===m?1:"selection"===m?2:"trailing"===m?3:0,this.renderControlCharacters=_,this.fontLigatures=C,this.selectionsOnLine=L&&L.sort(((t,e)=>t.startOffset<e.startOffset?-1:1));Math.abs(p-u)<Math.abs(g-u)?(this.renderSpaceWidth=p,this.renderSpaceCharCode=11825):(this.renderSpaceWidth=g,this.renderSpaceCharCode=183)}sameSelection(t){if(null===this.selectionsOnLine)return null===t;if(null===t)return!1;if(t.length!==this.selectionsOnLine.length)return!1;for(let e=0;e<this.selectionsOnLine.length;e++)if(!this.selectionsOnLine[e].equals(t[e]))return!1;return!0}equals(t){return this.useMonospaceOptimizations===t.useMonospaceOptimizations&&this.canUseHalfwidthRightwardsArrow===t.canUseHalfwidthRightwardsArrow&&this.lineContent===t.lineContent&&this.continuesWithWrappedLine===t.continuesWithWrappedLine&&this.isBasicASCII===t.isBasicASCII&&this.containsRTL===t.containsRTL&&this.fauxIndentLength===t.fauxIndentLength&&this.tabSize===t.tabSize&&this.startVisibleColumn===t.startVisibleColumn&&this.spaceWidth===t.spaceWidth&&this.renderSpaceWidth===t.renderSpaceWidth&&this.renderSpaceCharCode===t.renderSpaceCharCode&&this.stopRenderingLineAfter===t.stopRenderingLineAfter&&this.renderWhitespace===t.renderWhitespace&&this.renderControlCharacters===t.renderControlCharacters&&this.fontLigatures===t.fontLigatures&&o.Kp.equalsArr(this.lineDecorations,t.lineDecorations)&&this.lineTokens.equals(t.lineTokens)&&this.sameSelection(t.selectionsOnLine)}}class c{constructor(t,e){this.partIndex=t,this.charIndex=e}}class d{static getPartIndex(t){return(4294901760&t)>>>16}static getCharIndex(t){return(65535&t)>>>0}constructor(t,e){this.length=t,this._data=new Uint32Array(this.length),this._horizontalOffset=new Uint32Array(this.length)}setColumnInfo(t,e,i,s){const n=(e<<16|i)>>>0;this._data[t-1]=n,this._horizontalOffset[t-1]=s}getHorizontalOffset(t){return 0===this._horizontalOffset.length?0:this._horizontalOffset[t-1]}charOffsetToPartData(t){return 0===this.length?0:t<0?this._data[0]:t>=this.length?this._data[this.length-1]:this._data[t]}getDomPosition(t){const e=this.charOffsetToPartData(t-1),i=d.getPartIndex(e),s=d.getCharIndex(e);return new c(i,s)}getColumn(t,e){return this.partDataToCharOffset(t.partIndex,e,t.charIndex)+1}partDataToCharOffset(t,e,i){if(0===this.length)return 0;const s=(t<<16|i)>>>0;let n=0,r=this.length-1;for(;n+1<r;){const t=n+r>>>1,e=this._data[t];if(e===s)return t;e>s?r=t:n=t}if(n===r)return n;const o=this._data[n],h=this._data[r];if(o===s)return n;if(h===s)return r;const a=d.getPartIndex(o),l=d.getCharIndex(o);let c;c=a!==d.getPartIndex(h)?e:d.getCharIndex(h);return i-l<=c-i?n:r}}class u{constructor(t,e,i){this._renderLineOutputBrand=void 0,this.characterMapping=t,this.containsRTL=e,this.containsForeignElements=i}}function g(t,e){if(0===t.lineContent.length){if(t.lineDecorations.length>0){e.appendString("<span>");let i=0,s=0,n=0;for(const r of t.lineDecorations)1!==r.type&&2!==r.type||(e.appendString('<span class="'),e.appendString(r.className),e.appendString('"></span>'),1===r.type&&(n|=1,i++),2===r.type&&(n|=2,s++));e.appendString("</span>");const r=new d(1,i+s);return r.setColumnInfo(1,i,0,0),new u(r,!1,n)}return e.appendString("<span><span></span></span>"),new u(new d(0,0),!1,0)}return function(t,e){const i=t.fontIsMonospace,r=t.canUseHalfwidthRightwardsArrow,o=t.containsForeignElements,h=t.lineContent,a=t.len,l=t.isOverflowing,c=t.overflowingCharCount,g=t.parts,p=t.fauxIndentLength,f=t.tabSize,m=t.startVisibleColumn,L=t.containsRTL,b=t.spaceWidth,S=t.renderSpaceCharCode,W=t.renderWhitespace,w=t.renderControlCharacters,v=new d(a+1,g.length);let N=!1,I=0,O=m,H=0,x=0,k=0;L?e.appendString('<span dir="ltr">'):e.appendString("<span>");for(let t=0,s=g.length;t<s;t++){const s=g[t],l=s.endIndex,c=s.type,d=s.containsRTL,u=0!==W&&s.isWhitespace(),m=u&&!i&&("mtkw"===c||!o),L=I===l&&s.isPseudoAfter();if(H=0,e.appendString("<span "),d&&e.appendString('style="unicode-bidi:isolate" '),e.appendString('class="'),e.appendString(m?"mtkz":c),e.appendASCIICharCode(34),u){let i=0;{let t=I,e=O;for(;t<l;t++){const s=0|(9===h.charCodeAt(t)?f-e%f:1);i+=s,t>=p&&(e+=s)}}for(m&&(e.appendString(' style="width:'),e.appendString(String(b*i)),e.appendString('px"')),e.appendASCIICharCode(62);I<l;I++){v.setColumnInfo(I+1,t-k,H,x),k=0;let i,s;if(9===h.charCodeAt(I)){i=f-O%f|0,s=i,!r||s>1?e.appendCharCode(8594):e.appendCharCode(65515);for(let t=2;t<=s;t++)e.appendCharCode(160)}else i=2,s=1,e.appendCharCode(S),e.appendCharCode(8204);H+=i,x+=s,I>=p&&(O+=s)}}else for(e.appendASCIICharCode(62);I<l;I++){v.setColumnInfo(I+1,t-k,H,x),k=0;const i=h.charCodeAt(I);let s=1,r=1;switch(i){case 9:s=f-O%f,r=s;for(let t=1;t<=s;t++)e.appendCharCode(160);break;case 32:e.appendCharCode(160);break;case 60:e.appendString("&lt;");break;case 62:e.appendString("&gt;");break;case 38:e.appendString("&amp;");break;case 0:w?e.appendCharCode(9216):e.appendString("&#00;");break;case 65279:case 8232:case 8233:case 133:e.appendCharCode(65533);break;default:n.K7(i)&&r++,w&&i<32?e.appendCharCode(9216+i):w&&127===i?e.appendCharCode(9249):w&&_(i)?(e.appendString("[U+"),e.appendString(C(i)),e.appendString("]"),s=8,r=s):e.appendCharCode(i)}H+=s,x+=r,I>=p&&(O+=r)}L?k++:k=0,I>=a&&!N&&s.isPseudoAfter()&&(N=!0,v.setColumnInfo(I+1,t,H,x)),e.appendString("</span>")}N||v.setColumnInfo(a+1,g.length-1,H,x);l&&(e.appendString('<span class="mtkoverflow">'),e.appendString(s.NC("showMore","Show more ({0})",function(t){if(t<1024)return s.NC("overflow.chars","{0} chars",t);if(t<1048576)return`${(t/1024).toFixed(1)} KB`;return`${(t/1024/1024).toFixed(1)} MB`}(c))),e.appendString("</span>"));return e.appendString("</span>"),new u(v,L,o)}(function(t){const e=t.lineContent;let i,s,r;-1!==t.stopRenderingLineAfter&&t.stopRenderingLineAfter<e.length?(i=!0,s=e.length-t.stopRenderingLineAfter,r=t.stopRenderingLineAfter):(i=!1,s=0,r=e.length);let a=function(t,e,i,s,r){const o=[];let a=0;s>0&&(o[a++]=new h(s,"",0,!1));let l=s;for(let c=0,d=i.getCount();c<d;c++){const d=i.getEndOffset(c);if(d<=s)continue;const u=i.getClassName(c);if(d>=r){const i=!!e&&n.Ut(t.substring(l,r));o[a++]=new h(r,u,0,i);break}const g=!!e&&n.Ut(t.substring(l,d));o[a++]=new h(d,u,0,g),l=d}return o}(e,t.containsRTL,t.lineTokens,t.fauxIndentLength,r);t.renderControlCharacters&&!t.isBasicASCII&&(a=function(t,e){const i=[];let s=new h(0,"",0,!1),n=0;for(const r of e){const e=r.endIndex;for(;n<e;n++){_(t.charCodeAt(n))&&(n>s.endIndex&&(s=new h(n,r.type,r.metadata,r.containsRTL),i.push(s)),s=new h(n+1,"mtkcontrol",r.metadata,!1),i.push(s))}n>s.endIndex&&(s=new h(e,r.type,r.metadata,r.containsRTL),i.push(s))}return i}(e,a));(4===t.renderWhitespace||1===t.renderWhitespace||2===t.renderWhitespace&&t.selectionsOnLine||3===t.renderWhitespace&&!t.continuesWithWrappedLine)&&(a=function(t,e,i,s){const r=t.continuesWithWrappedLine,o=t.fauxIndentLength,a=t.tabSize,l=t.startVisibleColumn,c=t.useMonospaceOptimizations,d=t.selectionsOnLine,u=1===t.renderWhitespace,g=3===t.renderWhitespace,p=t.renderSpaceWidth!==t.spaceWidth,f=[];let m=0,_=0,C=s[_].type,L=s[_].containsRTL,b=s[_].endIndex;const S=s.length;let W,w=!1,v=n.LC(e);-1===v?(w=!0,v=i,W=i):W=n.ow(e);let N=!1,I=0,O=d&&d[I],H=l%a;for(let t=o;t<i;t++){const r=e.charCodeAt(t);let l;if(O&&t>=O.endOffset&&(I++,O=d&&d[I]),t<v||t>W)l=!0;else if(9===r)l=!0;else if(32===r)if(u)if(N)l=!0;else{const s=t+1<i?e.charCodeAt(t+1):0;l=32===s||9===s}else l=!0;else l=!1;if(l&&d&&(l=!!O&&O.startOffset<=t&&O.endOffset>t),l&&g&&(l=w||t>W),l&&L&&t>=v&&t<=W&&(l=!1),N){if(!l||!c&&H>=a){if(p){for(let e=(m>0?f[m-1].endIndex:o)+1;e<=t;e++)f[m++]=new h(e,"mtkw",1,!1)}else f[m++]=new h(t,"mtkw",1,!1);H%=a}}else(t===b||l&&t>o)&&(f[m++]=new h(t,C,0,L),H%=a);for(9===r?H=a:n.K7(r)?H+=2:H++,N=l;t===b&&(_++,_<S);)C=s[_].type,L=s[_].containsRTL,b=s[_].endIndex}let x=!1;if(N)if(r&&u){const t=i>0?e.charCodeAt(i-1):0,s=i>1?e.charCodeAt(i-2):0;32===t&&32!==s&&9!==s||(x=!0)}else x=!0;if(x)if(p){for(let t=(m>0?f[m-1].endIndex:o)+1;t<=i;t++)f[m++]=new h(t,"mtkw",1,!1)}else f[m++]=new h(i,"mtkw",1,!1);else f[m++]=new h(i,C,0,L);return f}(t,e,r,a));let l=0;if(t.lineDecorations.length>0){for(let e=0,i=t.lineDecorations.length;e<i;e++){const i=t.lineDecorations[e];3===i.type||1===i.type?l|=1:2===i.type&&(l|=2)}a=function(t,e,i,s){s.sort(o.Kp.compare);const n=o.k.normalize(t,s),r=n.length;let a=0;const l=[];let c=0,d=0;for(let t=0,e=i.length;t<e;t++){const e=i[t],s=e.endIndex,o=e.type,u=e.metadata,g=e.containsRTL;for(;a<r&&n[a].startOffset<s;){const t=n[a];if(t.startOffset>d&&(d=t.startOffset,l[c++]=new h(d,o,u,g)),!(t.endOffset+1<=s)){d=s,l[c++]=new h(d,o+" "+t.className,u|t.metadata,g);break}d=t.endOffset+1,l[c++]=new h(d,o+" "+t.className,u|t.metadata,g),a++}s>d&&(d=s,l[c++]=new h(d,o,u,g))}const u=i[i.length-1].endIndex;if(a<r&&n[a].startOffset===u)for(;a<r&&n[a].startOffset===u;){const t=n[a];l[c++]=new h(d,t.className,t.metadata,!1),a++}return l}(e,0,a,t.lineDecorations)}t.containsRTL||(a=function(t,e,i){let s=0;const n=[];let r=0;if(i)for(let i=0,o=e.length;i<o;i++){const o=e[i],a=o.endIndex;if(s+50<a){const e=o.type,i=o.metadata,l=o.containsRTL;let c=-1,d=s;for(let o=s;o<a;o++)32===t.charCodeAt(o)&&(c=o),-1!==c&&o-d>=50&&(n[r++]=new h(c+1,e,i,l),d=c+1,c=-1);d!==a&&(n[r++]=new h(a,e,i,l))}else n[r++]=o;s=a}else for(let t=0,i=e.length;t<i;t++){const i=e[t],o=i.endIndex,a=o-s;if(a>50){const t=i.type,e=i.metadata,l=i.containsRTL,c=Math.ceil(a/50);for(let i=1;i<c;i++){const o=s+50*i;n[r++]=new h(o,t,e,l)}n[r++]=new h(o,t,e,l)}else n[r++]=i;s=o}return n}(e,a,!t.isBasicASCII||t.fontLigatures));return new m(t.useMonospaceOptimizations,t.canUseHalfwidthRightwardsArrow,e,r,i,s,a,l,t.fauxIndentLength,t.tabSize,t.startVisibleColumn,t.containsRTL,t.spaceWidth,t.renderSpaceCharCode,t.renderWhitespace,t.renderControlCharacters)}(t),e)}class p{constructor(t,e,i,s){this.characterMapping=t,this.html=e,this.containsRTL=i,this.containsForeignElements=s}}function f(t){const e=new r.HT(1e4),i=g(t,e);return new p(i.characterMapping,e.build(),i.containsRTL,i.containsForeignElements)}class m{constructor(t,e,i,s,n,r,o,h,a,l,c,d,u,g,p,f){this.fontIsMonospace=t,this.canUseHalfwidthRightwardsArrow=e,this.lineContent=i,this.len=s,this.isOverflowing=n,this.overflowingCharCount=r,this.parts=o,this.containsForeignElements=h,this.fauxIndentLength=a,this.tabSize=l,this.startVisibleColumn=c,this.containsRTL=d,this.spaceWidth=u,this.renderSpaceCharCode=g,this.renderWhitespace=p,this.renderControlCharacters=f}}function _(t){return t<32?9!==t:127===t||(t>=8234&&t<=8238||t>=8294&&t<=8297||t>=8206&&t<=8207||1564===t)}function C(t){return t.toString(16).toUpperCase().padStart(4,"0")}},63664:(t,e,i)=>{i.d(e,{x:()=>n});var s=i(24314);class n{constructor(t,e,i,n){this.selections=t,this.startLineNumber=0|e.startLineNumber,this.endLineNumber=0|e.endLineNumber,this.relativeVerticalOffset=e.relativeVerticalOffset,this.bigNumbersDelta=0|e.bigNumbersDelta,this.lineHeight=0|e.lineHeight,this.whitespaceViewportData=i,this._model=n,this.visibleRange=new s.e(e.startLineNumber,this._model.getLineMinColumn(e.startLineNumber),e.endLineNumber,this._model.getLineMaxColumn(e.endLineNumber))}getViewLineRenderingData(t){return this._model.getViewportViewLineRenderingData(this.visibleRange,t)}getDecorationsInViewport(){return this._model.getDecorationsInViewport(this.visibleRange)}}},87260:(t,e,i)=>{i.d(e,{$X:()=>L,H6:()=>u,Ic:()=>c,Ki:()=>g,P2:()=>_,Pb:()=>p,Pt:()=>l,Sh:()=>d,ZX:()=>f,Zw:()=>a,iH:()=>m,nu:()=>r,q2:()=>C,zf:()=>h});var s=i(4669),n=i(5976);class r extends n.JT{constructor(){super(),this._onEvent=this._register(new s.Q5),this.onEvent=this._onEvent.event,this._eventHandlers=[],this._viewEventQueue=null,this._isConsumingViewEventQueue=!1,this._collector=null,this._collectorCnt=0,this._outgoingEvents=[]}emitOutgoingEvent(t){this._addOutgoingEvent(t),this._emitOutgoingEvents()}_addOutgoingEvent(t){for(let e=0,i=this._outgoingEvents.length;e<i;e++){const i=this._outgoingEvents[e].kind===t.kind?this._outgoingEvents[e].attemptToMerge(t):null;if(i)return void(this._outgoingEvents[e]=i)}this._outgoingEvents.push(t)}_emitOutgoingEvents(){for(;this._outgoingEvents.length>0;){if(this._collector||this._isConsumingViewEventQueue)return;const t=this._outgoingEvents.shift();t.isNoOp()||this._onEvent.fire(t)}}addViewEventHandler(t){for(let t=0,e=this._eventHandlers.length;t<e;t++)this._eventHandlers[t];this._eventHandlers.push(t)}removeViewEventHandler(t){for(let e=0;e<this._eventHandlers.length;e++)if(this._eventHandlers[e]===t){this._eventHandlers.splice(e,1);break}}beginEmitViewEvents(){return this._collectorCnt++,1===this._collectorCnt&&(this._collector=new o),this._collector}endEmitViewEvents(){if(this._collectorCnt--,0===this._collectorCnt){const t=this._collector.outgoingEvents,e=this._collector.viewEvents;this._collector=null;for(const e of t)this._addOutgoingEvent(e);e.length>0&&this._emitMany(e)}this._emitOutgoingEvents()}emitSingleViewEvent(t){try{this.beginEmitViewEvents().emitViewEvent(t)}finally{this.endEmitViewEvents()}}_emitMany(t){this._viewEventQueue?this._viewEventQueue=this._viewEventQueue.concat(t):this._viewEventQueue=t,this._isConsumingViewEventQueue||this._consumeViewEventQueue()}_consumeViewEventQueue(){try{this._isConsumingViewEventQueue=!0,this._doConsumeQueue()}finally{this._isConsumingViewEventQueue=!1}}_doConsumeQueue(){for(;this._viewEventQueue;){const t=this._viewEventQueue;this._viewEventQueue=null;const e=this._eventHandlers.slice(0);for(const i of e)i.handleEvents(t)}}}class o{constructor(){this.viewEvents=[],this.outgoingEvents=[]}emitViewEvent(t){this.viewEvents.push(t)}emitOutgoingEvent(t){this.outgoingEvents.push(t)}}class h{constructor(t,e,i,s){this.kind=0,this._oldContentWidth=t,this._oldContentHeight=e,this.contentWidth=i,this.contentHeight=s,this.contentWidthChanged=this._oldContentWidth!==this.contentWidth,this.contentHeightChanged=this._oldContentHeight!==this.contentHeight}isNoOp(){return!this.contentWidthChanged&&!this.contentHeightChanged}attemptToMerge(t){return t.kind!==this.kind?null:new h(this._oldContentWidth,this._oldContentHeight,t.contentWidth,t.contentHeight)}}class a{constructor(t,e){this.kind=1,this.oldHasFocus=t,this.hasFocus=e}isNoOp(){return this.oldHasFocus===this.hasFocus}attemptToMerge(t){return t.kind!==this.kind?null:new a(this.oldHasFocus,t.hasFocus)}}class l{constructor(t,e,i,s,n,r,o,h){this.kind=2,this._oldScrollWidth=t,this._oldScrollLeft=e,this._oldScrollHeight=i,this._oldScrollTop=s,this.scrollWidth=n,this.scrollLeft=r,this.scrollHeight=o,this.scrollTop=h,this.scrollWidthChanged=this._oldScrollWidth!==this.scrollWidth,this.scrollLeftChanged=this._oldScrollLeft!==this.scrollLeft,this.scrollHeightChanged=this._oldScrollHeight!==this.scrollHeight,this.scrollTopChanged=this._oldScrollTop!==this.scrollTop}isNoOp(){return!(this.scrollWidthChanged||this.scrollLeftChanged||this.scrollHeightChanged||this.scrollTopChanged)}attemptToMerge(t){return t.kind!==this.kind?null:new l(this._oldScrollWidth,this._oldScrollLeft,this._oldScrollHeight,this._oldScrollTop,t.scrollWidth,t.scrollLeft,t.scrollHeight,t.scrollTop)}}class c{constructor(){this.kind=3}isNoOp(){return!1}attemptToMerge(t){return t.kind!==this.kind?null:this}}class d{constructor(){this.kind=4}isNoOp(){return!1}attemptToMerge(t){return t.kind!==this.kind?null:this}}class u{constructor(t,e,i,s,n,r,o){this.kind=6,this.oldSelections=t,this.selections=e,this.oldModelVersionId=i,this.modelVersionId=s,this.source=n,this.reason=r,this.reachedMaxCursorCount=o}static _selectionsAreEqual(t,e){if(!t&&!e)return!0;if(!t||!e)return!1;const i=t.length;if(i!==e.length)return!1;for(let s=0;s<i;s++)if(!t[s].equalsSelection(e[s]))return!1;return!0}isNoOp(){return u._selectionsAreEqual(this.oldSelections,this.selections)&&this.oldModelVersionId===this.modelVersionId}attemptToMerge(t){return t.kind!==this.kind?null:new u(this.oldSelections,t.selections,this.oldModelVersionId,t.modelVersionId,t.source,t.reason,this.reachedMaxCursorCount||t.reachedMaxCursorCount)}}class g{constructor(){this.kind=5}isNoOp(){return!1}attemptToMerge(t){return t.kind!==this.kind?null:this}}class p{constructor(t){this.event=t,this.kind=7}isNoOp(){return!1}attemptToMerge(t){return null}}class f{constructor(t){this.event=t,this.kind=8}isNoOp(){return!1}attemptToMerge(t){return null}}class m{constructor(t){this.event=t,this.kind=9}isNoOp(){return!1}attemptToMerge(t){return null}}class _{constructor(t){this.event=t,this.kind=10}isNoOp(){return!1}attemptToMerge(t){return null}}class C{constructor(t){this.event=t,this.kind=11}isNoOp(){return!1}attemptToMerge(t){return null}}class L{constructor(t){this.event=t,this.kind=12}isNoOp(){return!1}attemptToMerge(t){return null}}},59496:(t,e,i)=>{i.d(e,{H:()=>r});var s=i(84973);const n=s.U.Right;class r{constructor(t){this.persist=0,this._requiredLanes=1,this.lanes=new Uint8Array(Math.ceil((t+1)*n/8))}reset(t){const e=Math.ceil((t+1)*n/8);this.lanes.length<e?this.lanes=new Uint8Array(e):this.lanes.fill(0),this._requiredLanes=1}get requiredLanes(){return this._requiredLanes}push(t,e,i){i&&(this.persist|=1<<t-1);for(let i=e.startLineNumber;i<=e.endLineNumber;i++){const e=n*i+(t-1);this.lanes[e>>>3]|=1<<e%8,this._requiredLanes=Math.max(this._requiredLanes,this.countAtLine(i))}}getLanesAtLine(t){const e=[];let i=n*t;for(let t=0;t<n;t++)(this.persist&1<<t||this.lanes[i>>>3]&1<<i%8)&&e.push(t+1),i++;return e.length?e:[s.U.Center]}countAtLine(t){let e=n*t,i=0;for(let t=0;t<n;t++)(this.persist&1<<t||this.lanes[e>>>3]&1<<e%8)&&i++,e++;return i}}}}]);