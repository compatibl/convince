"use strict";(self.webpackChunkui_react=self.webpackChunkui_react||[]).push([[7850],{9848:(e,t,i)=>{i.d(t,{H:()=>L});var o=i(63580),n=i(16268),r=i(38626),s=i(1432),a=i(97295),c=i(52136),l=i(35715),u=i(15887),d=i(86130),h=i(97270),p=i(66527),m=i(64141),g=i(24929),C=i(50187),_=i(24314),S=i(3860),v=i(96542),x=i(71204),f=i(41264),w=i(77173),b=i(91847),y=i(72065),A=function(e,t,i,o){var n,r=arguments.length,s=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,o);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,i,s):n(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},E=function(e,t){return function(i,o){t(i,o,e)}};class P{constructor(e,t,i,o,n){this._context=e,this.modelLineNumber=t,this.distanceToModelLineStart=i,this.widthOfHiddenLineTextBefore=o,this.distanceToModelLineEnd=n,this._visibleTextAreaBrand=void 0,this.startPosition=null,this.endPosition=null,this.visibleTextareaStart=null,this.visibleTextareaEnd=null,this._previousPresentation=null}prepareRender(e){const t=new C.L(this.modelLineNumber,this.distanceToModelLineStart+1),i=new C.L(this.modelLineNumber,this._context.viewModel.model.getLineMaxColumn(this.modelLineNumber)-this.distanceToModelLineEnd);this.startPosition=this._context.viewModel.coordinatesConverter.convertModelPositionToViewPosition(t),this.endPosition=this._context.viewModel.coordinatesConverter.convertModelPositionToViewPosition(i),this.startPosition.lineNumber===this.endPosition.lineNumber?(this.visibleTextareaStart=e.visibleRangeForPosition(this.startPosition),this.visibleTextareaEnd=e.visibleRangeForPosition(this.endPosition)):(this.visibleTextareaStart=null,this.visibleTextareaEnd=null)}definePresentation(e){return this._previousPresentation||(this._previousPresentation=e||{foreground:1,italic:!1,bold:!1,underline:!1,strikethrough:!1}),this._previousPresentation}}const T=n.vU;let L=class extends d.E{constructor(e,t,i,a,h){super(e),this._keybindingService=a,this._instantiationService=h,this._primaryCursorPosition=new C.L(1,1),this._primaryCursorVisibleRange=null,this._viewController=t,this._visibleRangeProvider=i,this._scrollLeft=0,this._scrollTop=0;const p=this._context.configuration.options,m=p.get(145);this._setAccessibilityOptions(p),this._contentLeft=m.contentLeft,this._contentWidth=m.contentWidth,this._contentHeight=m.height,this._fontInfo=p.get(50),this._lineHeight=p.get(67),this._emptySelectionClipboard=p.get(37),this._copyWithSyntaxHighlighting=p.get(25),this._visibleTextArea=null,this._selections=[new S.Y(1,1,1,1)],this._modelSelections=[new S.Y(1,1,1,1)],this._lastRenderPosition=null,this.textArea=(0,r.X)(document.createElement("textarea")),d.K.write(this.textArea,7),this.textArea.setClassName(`inputarea ${v.S}`),this.textArea.setAttribute("wrap",this._textAreaWrapping&&!this._visibleTextArea?"on":"off");const{tabSize:g}=this._context.viewModel.model.getOptions();this.textArea.domNode.style.tabSize=g*this._fontInfo.spaceWidth+"px",this.textArea.setAttribute("autocorrect","off"),this.textArea.setAttribute("autocapitalize","off"),this.textArea.setAttribute("autocomplete","off"),this.textArea.setAttribute("spellcheck","false"),this.textArea.setAttribute("aria-label",this._getAriaLabel(p)),this.textArea.setAttribute("aria-required",p.get(5)?"true":"false"),this.textArea.setAttribute("tabindex",String(p.get(124))),this.textArea.setAttribute("role","textbox"),this.textArea.setAttribute("aria-roledescription",o.NC("editor","editor")),this.textArea.setAttribute("aria-multiline","true"),this.textArea.setAttribute("aria-autocomplete",p.get(91)?"none":"both"),this._ensureReadOnlyAttribute(),this.textAreaCover=(0,r.X)(document.createElement("div")),this.textAreaCover.setPosition("absolute");const x={getLineCount:()=>this._context.viewModel.getLineCount(),getLineMaxColumn:e=>this._context.viewModel.getLineMaxColumn(e),getValueInRange:(e,t)=>this._context.viewModel.getValueInRange(e,t),getValueLengthInRange:(e,t)=>this._context.viewModel.getValueLengthInRange(e,t),modifyPosition:(e,t)=>this._context.viewModel.modifyPosition(e,t)},f={getDataToCopy:()=>{const e=this._context.viewModel.getPlainTextToCopy(this._modelSelections,this._emptySelectionClipboard,s.ED),t=this._context.viewModel.model.getEOL(),i=this._emptySelectionClipboard&&1===this._modelSelections.length&&this._modelSelections[0].isEmpty(),o=Array.isArray(e)?e:null,n=Array.isArray(e)?e.join(t):e;let r,a=null;if(l.RA.forceCopyWithSyntaxHighlighting||this._copyWithSyntaxHighlighting&&n.length<65536){const e=this._context.viewModel.getRichTextToCopy(this._modelSelections,this._emptySelectionClipboard);e&&(r=e.html,a=e.mode)}return{isFromEmptySelection:i,multicursorText:o,text:n,html:r,mode:a}},getScreenReaderContent:()=>{if(1===this._accessibilitySupport){const e=this._selections[0];if(s.dz&&e.isEmpty()){const t=e.getStartPosition();let i=this._getWordBeforePosition(t);if(0===i.length&&(i=this._getCharacterBeforePosition(t)),i.length>0)return new u.un(i,i.length,i.length,_.e.fromPositions(t),0)}const t=500;if(s.dz&&!e.isEmpty()&&x.getValueLengthInRange(e,0)<t){const t=x.getValueInRange(e,0);return new u.un(t,0,t.length,e,0)}if(n.G6&&!e.isEmpty()){const e="vscode-placeholder";return new u.un(e,0,e.length,null,void 0)}return u.un.EMPTY}if(n.Dt){const e=this._selections[0];if(e.isEmpty()){const t=e.getStartPosition(),[i,o]=this._getAndroidWordAtPosition(t);if(i.length>0)return new u.un(i,o,o,_.e.fromPositions(t),0)}return u.un.EMPTY}return u.ee.fromEditorSelection(x,this._selections[0],this._accessibilityPageSize,0===this._accessibilitySupport)},deduceModelPosition:(e,t,i)=>this._context.viewModel.deduceModelPositionRelativeToViewPosition(e,t,i)},b=this._register(new l.Tj(this.textArea.domNode));this._textAreaInput=this._register(this._instantiationService.createInstance(l.Fz,f,b,s.OS,{isAndroid:n.Dt,isChrome:n.i7,isFirefox:n.vU,isSafari:n.G6})),this._register(this._textAreaInput.onKeyDown((e=>{this._viewController.emitKeyDown(e)}))),this._register(this._textAreaInput.onKeyUp((e=>{this._viewController.emitKeyUp(e)}))),this._register(this._textAreaInput.onPaste((e=>{let t=!1,i=null,o=null;e.metadata&&(t=this._emptySelectionClipboard&&!!e.metadata.isFromEmptySelection,i=void 0!==e.metadata.multicursorText?e.metadata.multicursorText:null,o=e.metadata.mode),this._viewController.paste(e.text,t,i,o)}))),this._register(this._textAreaInput.onCut((()=>{this._viewController.cut()}))),this._register(this._textAreaInput.onType((e=>{e.replacePrevCharCnt||e.replaceNextCharCnt||e.positionDelta?(u.al,this._viewController.compositionType(e.text,e.replacePrevCharCnt,e.replaceNextCharCnt,e.positionDelta)):(u.al,this._viewController.type(e.text))}))),this._register(this._textAreaInput.onSelectionChangeRequest((e=>{this._viewController.setSelection(e)}))),this._register(this._textAreaInput.onCompositionStart((e=>{const t=this.textArea.domNode,i=this._modelSelections[0],{distanceToModelLineStart:o,widthOfHiddenTextBefore:n}=(()=>{const e=t.value.substring(0,Math.min(t.selectionStart,t.selectionEnd)),o=e.lastIndexOf("\n"),n=e.substring(o+1),r=n.lastIndexOf("\t"),s=n.length-r-1,a=i.getStartPosition(),l=Math.min(a.column-1,s),u=a.column-1-l,d=n.substring(0,n.length-l),{tabSize:h}=this._context.viewModel.model.getOptions(),p=function(e,t,i,o){if(0===t.length)return 0;const n=e.createElement("div");n.style.position="absolute",n.style.top="-50000px",n.style.width="50000px";const r=e.createElement("span");(0,c.N)(r,i),r.style.whiteSpace="pre",r.style.tabSize=o*i.spaceWidth+"px",r.append(t),n.appendChild(r),e.body.appendChild(n);const s=r.offsetWidth;return e.body.removeChild(n),s}(this.textArea.domNode.ownerDocument,d,this._fontInfo,h);return{distanceToModelLineStart:u,widthOfHiddenTextBefore:p}})(),{distanceToModelLineEnd:r}=(()=>{const e=t.value.substring(Math.max(t.selectionStart,t.selectionEnd)),o=e.indexOf("\n"),n=-1===o?e:e.substring(0,o),r=n.indexOf("\t"),s=-1===r?n.length:n.length-r-1,a=i.getEndPosition(),c=Math.min(this._context.viewModel.model.getLineMaxColumn(a.lineNumber)-a.column,s);return{distanceToModelLineEnd:this._context.viewModel.model.getLineMaxColumn(a.lineNumber)-a.column-c}})();this._context.viewModel.revealRange("keyboard",!0,_.e.fromPositions(this._selections[0].getStartPosition()),0,1),this._visibleTextArea=new P(this._context,i.startLineNumber,o,n,r),this.textArea.setAttribute("wrap",this._textAreaWrapping&&!this._visibleTextArea?"on":"off"),this._visibleTextArea.prepareRender(this._visibleRangeProvider),this._render(),this.textArea.setClassName(`inputarea ${v.S} ime-input`),this._viewController.compositionStart(),this._context.viewModel.onCompositionStart()}))),this._register(this._textAreaInput.onCompositionUpdate((e=>{this._visibleTextArea&&(this._visibleTextArea.prepareRender(this._visibleRangeProvider),this._render())}))),this._register(this._textAreaInput.onCompositionEnd((()=>{this._visibleTextArea=null,this.textArea.setAttribute("wrap",this._textAreaWrapping&&!this._visibleTextArea?"on":"off"),this._render(),this.textArea.setClassName(`inputarea ${v.S}`),this._viewController.compositionEnd(),this._context.viewModel.onCompositionEnd()}))),this._register(this._textAreaInput.onFocus((()=>{this._context.viewModel.setHasFocus(!0)}))),this._register(this._textAreaInput.onBlur((()=>{this._context.viewModel.setHasFocus(!1)}))),this._register(w.F.onDidChange((()=>{this._ensureReadOnlyAttribute()})))}writeScreenReaderContent(e){this._textAreaInput.writeNativeTextAreaContent(e)}dispose(){super.dispose()}_getAndroidWordAtPosition(e){const t=this._context.viewModel.getLineContent(e.lineNumber),i=(0,g.u)('`~!@#$%^&*()-=+[{]}\\|;:",.<>/?',[]);let o=!0,n=e.column,r=!0,s=e.column,a=0;for(;a<50&&(o||r);){if(o&&n<=1&&(o=!1),o){const e=t.charCodeAt(n-2);0!==i.get(e)?o=!1:n--}if(r&&s>t.length&&(r=!1),r){const e=t.charCodeAt(s-1);0!==i.get(e)?r=!1:s++}a++}return[t.substring(n-1,s-1),e.column-n]}_getWordBeforePosition(e){const t=this._context.viewModel.getLineContent(e.lineNumber),i=(0,g.u)(this._context.configuration.options.get(131),[]);let o=e.column,n=0;for(;o>1;){const r=t.charCodeAt(o-2);if(0!==i.get(r)||n>50)return t.substring(o-1,e.column-1);n++,o--}return t.substring(0,e.column-1)}_getCharacterBeforePosition(e){if(e.column>1){const t=this._context.viewModel.getLineContent(e.lineNumber).charAt(e.column-2);if(!a.ZG(t.charCodeAt(0)))return t}return""}_getAriaLabel(e){var t,i,n;if(1===e.get(2)){const e=null===(t=this._keybindingService.lookupKeybinding("editor.action.toggleScreenReaderAccessibilityMode"))||void 0===t?void 0:t.getAriaLabel(),r=null===(i=this._keybindingService.lookupKeybinding("workbench.action.showCommands"))||void 0===i?void 0:i.getAriaLabel(),s=null===(n=this._keybindingService.lookupKeybinding("workbench.action.openGlobalKeybindings"))||void 0===n?void 0:n.getAriaLabel(),a=o.NC("accessibilityModeOff","The editor is not accessible at this time.");return e?o.NC("accessibilityOffAriaLabel","{0} To enable screen reader optimized mode, use {1}",a,e):r?o.NC("accessibilityOffAriaLabelNoKb","{0} To enable screen reader optimized mode, open the quick pick with {1} and run the command Toggle Screen Reader Accessibility Mode, which is currently not triggerable via keyboard.",a,r):s?o.NC("accessibilityOffAriaLabelNoKbs","{0} Please assign a keybinding for the command Toggle Screen Reader Accessibility Mode by accessing the keybindings editor with {1} and run it.",a,s):a}return e.get(4)}_setAccessibilityOptions(e){this._accessibilitySupport=e.get(2);const t=e.get(3);2===this._accessibilitySupport&&t===m.BH.accessibilityPageSize.defaultValue?this._accessibilityPageSize=500:this._accessibilityPageSize=t;const i=e.get(145).wrappingColumn;if(-1!==i&&1!==this._accessibilitySupport){const t=e.get(50);this._textAreaWrapping=!0,this._textAreaWidth=Math.round(i*t.typicalHalfwidthCharacterWidth)}else this._textAreaWrapping=!1,this._textAreaWidth=T?0:1}onConfigurationChanged(e){const t=this._context.configuration.options,i=t.get(145);this._setAccessibilityOptions(t),this._contentLeft=i.contentLeft,this._contentWidth=i.contentWidth,this._contentHeight=i.height,this._fontInfo=t.get(50),this._lineHeight=t.get(67),this._emptySelectionClipboard=t.get(37),this._copyWithSyntaxHighlighting=t.get(25),this.textArea.setAttribute("wrap",this._textAreaWrapping&&!this._visibleTextArea?"on":"off");const{tabSize:o}=this._context.viewModel.model.getOptions();return this.textArea.domNode.style.tabSize=o*this._fontInfo.spaceWidth+"px",this.textArea.setAttribute("aria-label",this._getAriaLabel(t)),this.textArea.setAttribute("aria-required",t.get(5)?"true":"false"),this.textArea.setAttribute("tabindex",String(t.get(124))),(e.hasChanged(34)||e.hasChanged(91))&&this._ensureReadOnlyAttribute(),e.hasChanged(2)&&this._textAreaInput.writeNativeTextAreaContent("strategy changed"),!0}onCursorStateChanged(e){return this._selections=e.selections.slice(0),this._modelSelections=e.modelSelections.slice(0),this._textAreaInput.writeNativeTextAreaContent("selection changed"),!0}onDecorationsChanged(e){return!0}onFlushed(e){return!0}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return this._scrollLeft=e.scrollLeft,this._scrollTop=e.scrollTop,!0}onZonesChanged(e){return!0}isFocused(){return this._textAreaInput.isFocused()}focusTextArea(){this._textAreaInput.focusTextArea()}getLastRenderData(){return this._lastRenderPosition}setAriaOptions(e){e.activeDescendant?(this.textArea.setAttribute("aria-haspopup","true"),this.textArea.setAttribute("aria-autocomplete","list"),this.textArea.setAttribute("aria-activedescendant",e.activeDescendant)):(this.textArea.setAttribute("aria-haspopup","false"),this.textArea.setAttribute("aria-autocomplete","both"),this.textArea.removeAttribute("aria-activedescendant")),e.role&&this.textArea.setAttribute("role",e.role)}_ensureReadOnlyAttribute(){const e=this._context.configuration.options;!w.F.enabled||e.get(34)&&e.get(91)?this.textArea.setAttribute("readonly","true"):this.textArea.removeAttribute("readonly")}prepareRender(e){var t;this._primaryCursorPosition=new C.L(this._selections[0].positionLineNumber,this._selections[0].positionColumn),this._primaryCursorVisibleRange=e.visibleRangeForPosition(this._primaryCursorPosition),null===(t=this._visibleTextArea)||void 0===t||t.prepareRender(e)}render(e){this._textAreaInput.writeNativeTextAreaContent("render"),this._render()}_render(){var e;if(this._visibleTextArea){const e=this._visibleTextArea.visibleTextareaStart,t=this._visibleTextArea.visibleTextareaEnd,i=this._visibleTextArea.startPosition,o=this._visibleTextArea.endPosition;if(i&&o&&e&&t&&t.left>=this._scrollLeft&&e.left<=this._scrollLeft+this._contentWidth){const n=this._context.viewLayout.getVerticalOffsetForLineNumber(this._primaryCursorPosition.lineNumber)-this._scrollTop,r=this._newlinecount(this.textArea.domNode.value.substr(0,this.textArea.domNode.selectionStart));let s=this._visibleTextArea.widthOfHiddenLineTextBefore,a=this._contentLeft+e.left-this._scrollLeft,c=t.left-e.left+1;if(a<this._contentLeft){const e=this._contentLeft-a;a+=e,s+=e,c-=e}c>this._contentWidth&&(c=this._contentWidth);const l=this._context.viewModel.getViewLineData(i.lineNumber),u=l.tokens.findTokenIndexAtOffset(i.column-1),d=u===l.tokens.findTokenIndexAtOffset(o.column-1),h=this._visibleTextArea.definePresentation(d?l.tokens.getPresentation(u):null);this.textArea.domNode.scrollTop=r*this._lineHeight,this.textArea.domNode.scrollLeft=s,this._doRender({lastRenderPosition:null,top:n,left:a,width:c,height:this._lineHeight,useCover:!1,color:(x.RW.getColorMap()||[])[h.foreground],italic:h.italic,bold:h.bold,underline:h.underline,strikethrough:h.strikethrough})}return}if(!this._primaryCursorVisibleRange)return void this._renderAtTopLeft();const t=this._contentLeft+this._primaryCursorVisibleRange.left-this._scrollLeft;if(t<this._contentLeft||t>this._contentLeft+this._contentWidth)return void this._renderAtTopLeft();const i=this._context.viewLayout.getVerticalOffsetForLineNumber(this._selections[0].positionLineNumber)-this._scrollTop;if(i<0||i>this._contentHeight)this._renderAtTopLeft();else if(s.dz||2===this._accessibilitySupport){this._doRender({lastRenderPosition:this._primaryCursorPosition,top:i,left:this._textAreaWrapping?this._contentLeft:t,width:this._textAreaWidth,height:this._lineHeight,useCover:!1}),this.textArea.domNode.scrollLeft=this._primaryCursorVisibleRange.left;const o=null!==(e=this._textAreaInput.textAreaState.newlineCountBeforeSelection)&&void 0!==e?e:this._newlinecount(this.textArea.domNode.value.substr(0,this.textArea.domNode.selectionStart));this.textArea.domNode.scrollTop=o*this._lineHeight}else this._doRender({lastRenderPosition:this._primaryCursorPosition,top:i,left:this._textAreaWrapping?this._contentLeft:t,width:this._textAreaWidth,height:T?0:1,useCover:!1})}_newlinecount(e){let t=0,i=-1;for(;;){if(i=e.indexOf("\n",i+1),-1===i)break;t++}return t}_renderAtTopLeft(){this._doRender({lastRenderPosition:null,top:0,left:0,width:this._textAreaWidth,height:T?0:1,useCover:!0})}_doRender(e){this._lastRenderPosition=e.lastRenderPosition;const t=this.textArea,i=this.textAreaCover;(0,c.N)(t,this._fontInfo),t.setTop(e.top),t.setLeft(e.left),t.setWidth(e.width),t.setHeight(e.height),t.setColor(e.color?f.Il.Format.CSS.formatHex(e.color):""),t.setFontStyle(e.italic?"italic":""),e.bold&&t.setFontWeight("bold"),t.setTextDecoration(`${e.underline?" underline":""}${e.strikethrough?" line-through":""}`),i.setTop(e.useCover?e.top:0),i.setLeft(e.useCover?e.left:0),i.setWidth(e.useCover?e.width:0),i.setHeight(e.useCover?e.height:0);const o=this._context.configuration.options;o.get(57)?i.setClassName("monaco-editor-background textAreaCover "+p.Z.OUTER_CLASS_NAME):0!==o.get(68).renderType?i.setClassName("monaco-editor-background textAreaCover "+h.x.CLASS_NAME):i.setClassName("monaco-editor-background textAreaCover")}};L=A([E(3,b.d),E(4,y.TG)],L)},35715:(e,t,i)=>{i.d(t,{Fz:()=>b,Nl:()=>f,RA:()=>x,Tj:()=>A,b6:()=>y,pd:()=>o});var o,n=i(16268),r=i(65321),s=i(4850),a=i(36513),c=i(50795),l=i(15393),u=i(4669),d=i(5976),h=i(81170),p=i(97295),m=i(15887),g=i(3860),C=i(31106),_=i(43557),S=function(e,t,i,o){var n,r=arguments.length,s=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,o);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,i,s):n(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},v=function(e,t){return function(i,o){t(i,o,e)}};!function(e){e.Tap="-monaco-textarea-synthetic-tap"}(o||(o={}));const x={forceCopyWithSyntaxHighlighting:!1};class f{constructor(){this._lastState=null}set(e,t){this._lastState={lastCopiedValue:e,data:t}}get(e){return this._lastState&&this._lastState.lastCopiedValue===e?this._lastState.data:(this._lastState=null,null)}}f.INSTANCE=new f;class w{constructor(){this._lastTypeTextLength=0}handleCompositionUpdate(e){const t={text:e=e||"",replacePrevCharCnt:this._lastTypeTextLength,replaceNextCharCnt:0,positionDelta:0};return this._lastTypeTextLength=e.length,t}}let b=class extends d.JT{get textAreaState(){return this._textAreaState}constructor(e,t,i,o,n,r){super(),this._host=e,this._textArea=t,this._OS=i,this._browser=o,this._accessibilityService=n,this._logService=r,this._onFocus=this._register(new u.Q5),this.onFocus=this._onFocus.event,this._onBlur=this._register(new u.Q5),this.onBlur=this._onBlur.event,this._onKeyDown=this._register(new u.Q5),this.onKeyDown=this._onKeyDown.event,this._onKeyUp=this._register(new u.Q5),this.onKeyUp=this._onKeyUp.event,this._onCut=this._register(new u.Q5),this.onCut=this._onCut.event,this._onPaste=this._register(new u.Q5),this.onPaste=this._onPaste.event,this._onType=this._register(new u.Q5),this.onType=this._onType.event,this._onCompositionStart=this._register(new u.Q5),this.onCompositionStart=this._onCompositionStart.event,this._onCompositionUpdate=this._register(new u.Q5),this.onCompositionUpdate=this._onCompositionUpdate.event,this._onCompositionEnd=this._register(new u.Q5),this.onCompositionEnd=this._onCompositionEnd.event,this._onSelectionChangeRequest=this._register(new u.Q5),this.onSelectionChangeRequest=this._onSelectionChangeRequest.event,this._asyncFocusGainWriteScreenReaderContent=this._register(new d.XK),this._asyncTriggerCut=this._register(new l.pY((()=>this._onCut.fire()),0)),this._textAreaState=m.un.EMPTY,this._selectionChangeListener=null,this._accessibilityService.isScreenReaderOptimized()&&this.writeNativeTextAreaContent("ctor"),this._register(u.ju.runAndSubscribe(this._accessibilityService.onDidChangeScreenReaderOptimized,(()=>{this._accessibilityService.isScreenReaderOptimized()&&!this._asyncFocusGainWriteScreenReaderContent.value?this._asyncFocusGainWriteScreenReaderContent.value=this._register(new l.pY((()=>this.writeNativeTextAreaContent("asyncFocusGain")),0)):this._asyncFocusGainWriteScreenReaderContent.clear()}))),this._hasFocus=!1,this._currentComposition=null;let s=null;this._register(this._textArea.onKeyDown((e=>{const t=new a.y(e);(114===t.keyCode||this._currentComposition&&1===t.keyCode)&&t.stopPropagation(),t.equals(9)&&t.preventDefault(),s=t,this._onKeyDown.fire(t)}))),this._register(this._textArea.onKeyUp((e=>{const t=new a.y(e);this._onKeyUp.fire(t)}))),this._register(this._textArea.onCompositionStart((e=>{m.al;const t=new w;if(this._currentComposition)this._currentComposition=t;else{if(this._currentComposition=t,2===this._OS&&s&&s.equals(114)&&this._textAreaState.selectionStart===this._textAreaState.selectionEnd&&this._textAreaState.selectionStart>0&&this._textAreaState.value.substr(this._textAreaState.selectionStart-1,1)===e.data&&("ArrowRight"===s.code||"ArrowLeft"===s.code))return m.al,t.handleCompositionUpdate("x"),void this._onCompositionStart.fire({data:e.data});this._browser.isAndroid,this._onCompositionStart.fire({data:e.data})}}))),this._register(this._textArea.onCompositionUpdate((e=>{m.al;const t=this._currentComposition;if(!t)return;if(this._browser.isAndroid){const t=m.un.readFromTextArea(this._textArea,this._textAreaState),i=m.un.deduceAndroidCompositionInput(this._textAreaState,t);return this._textAreaState=t,this._onType.fire(i),void this._onCompositionUpdate.fire(e)}const i=t.handleCompositionUpdate(e.data);this._textAreaState=m.un.readFromTextArea(this._textArea,this._textAreaState),this._onType.fire(i),this._onCompositionUpdate.fire(e)}))),this._register(this._textArea.onCompositionEnd((e=>{m.al;const t=this._currentComposition;if(!t)return;if(this._currentComposition=null,this._browser.isAndroid){const e=m.un.readFromTextArea(this._textArea,this._textAreaState),t=m.un.deduceAndroidCompositionInput(this._textAreaState,e);return this._textAreaState=e,this._onType.fire(t),void this._onCompositionEnd.fire()}const i=t.handleCompositionUpdate(e.data);this._textAreaState=m.un.readFromTextArea(this._textArea,this._textAreaState),this._onType.fire(i),this._onCompositionEnd.fire()}))),this._register(this._textArea.onInput((e=>{if(m.al,this._textArea.setIgnoreSelectionChangeTime("received input event"),this._currentComposition)return;const t=m.un.readFromTextArea(this._textArea,this._textAreaState),i=m.un.deduceInput(this._textAreaState,t,2===this._OS);(0!==i.replacePrevCharCnt||1!==i.text.length||!p.ZG(i.text.charCodeAt(0))&&127!==i.text.charCodeAt(0))&&(this._textAreaState=t,""===i.text&&0===i.replacePrevCharCnt&&0===i.replaceNextCharCnt&&0===i.positionDelta||this._onType.fire(i))}))),this._register(this._textArea.onCut((e=>{this._textArea.setIgnoreSelectionChangeTime("received cut event"),this._ensureClipboardGetsEditorSelection(e),this._asyncTriggerCut.schedule()}))),this._register(this._textArea.onCopy((e=>{this._ensureClipboardGetsEditorSelection(e)}))),this._register(this._textArea.onPaste((e=>{if(this._textArea.setIgnoreSelectionChangeTime("received paste event"),e.preventDefault(),!e.clipboardData)return;let[t,i]=y.getTextData(e.clipboardData);t&&(i=i||f.INSTANCE.get(t),this._onPaste.fire({text:t,metadata:i}))}))),this._register(this._textArea.onFocus((()=>{const e=this._hasFocus;this._setHasFocus(!0),this._accessibilityService.isScreenReaderOptimized()&&this._browser.isSafari&&!e&&this._hasFocus&&(this._asyncFocusGainWriteScreenReaderContent.value||(this._asyncFocusGainWriteScreenReaderContent.value=new l.pY((()=>this.writeNativeTextAreaContent("asyncFocusGain")),0)),this._asyncFocusGainWriteScreenReaderContent.value.schedule())}))),this._register(this._textArea.onBlur((()=>{this._currentComposition&&(this._currentComposition=null,this.writeNativeTextAreaContent("blurWithoutCompositionEnd"),this._onCompositionEnd.fire()),this._setHasFocus(!1)}))),this._register(this._textArea.onSyntheticTap((()=>{this._browser.isAndroid&&this._currentComposition&&(this._currentComposition=null,this.writeNativeTextAreaContent("tapWithoutCompositionEnd"),this._onCompositionEnd.fire())})))}_installSelectionChangeListener(){let e=0;return r.nm(this._textArea.ownerDocument,"selectionchange",(t=>{if(c.B.onSelectionChange(),!this._hasFocus)return;if(this._currentComposition)return;if(!this._browser.isChrome)return;const i=Date.now(),o=i-e;if(e=i,o<5)return;const n=i-this._textArea.getIgnoreSelectionChangeTime();if(this._textArea.resetSelectionChangeTime(),n<100)return;if(!this._textAreaState.selection)return;const r=this._textArea.getValue();if(this._textAreaState.value!==r)return;const s=this._textArea.getSelectionStart(),a=this._textArea.getSelectionEnd();if(this._textAreaState.selectionStart===s&&this._textAreaState.selectionEnd===a)return;const l=this._textAreaState.deduceEditorPosition(s),u=this._host.deduceModelPosition(l[0],l[1],l[2]),d=this._textAreaState.deduceEditorPosition(a),h=this._host.deduceModelPosition(d[0],d[1],d[2]),p=new g.Y(u.lineNumber,u.column,h.lineNumber,h.column);this._onSelectionChangeRequest.fire(p)}))}dispose(){super.dispose(),this._selectionChangeListener&&(this._selectionChangeListener.dispose(),this._selectionChangeListener=null)}focusTextArea(){this._setHasFocus(!0),this.refreshFocusState()}isFocused(){return this._hasFocus}refreshFocusState(){this._setHasFocus(this._textArea.hasFocus())}_setHasFocus(e){this._hasFocus!==e&&(this._hasFocus=e,this._selectionChangeListener&&(this._selectionChangeListener.dispose(),this._selectionChangeListener=null),this._hasFocus&&(this._selectionChangeListener=this._installSelectionChangeListener()),this._hasFocus&&this.writeNativeTextAreaContent("focusgain"),this._hasFocus?this._onFocus.fire():this._onBlur.fire())}_setAndWriteTextAreaState(e,t){this._hasFocus||(t=t.collapseSelection()),t.writeToTextArea(e,this._textArea,this._hasFocus),this._textAreaState=t}writeNativeTextAreaContent(e){!this._accessibilityService.isScreenReaderOptimized()&&"render"===e||this._currentComposition||(this._logService.trace(`writeTextAreaState(reason: ${e})`),this._setAndWriteTextAreaState(e,this._host.getScreenReaderContent()))}_ensureClipboardGetsEditorSelection(e){const t=this._host.getDataToCopy(),i={version:1,isFromEmptySelection:t.isFromEmptySelection,multicursorText:t.multicursorText,mode:t.mode};f.INSTANCE.set(this._browser.isFirefox?t.text.replace(/\r\n/g,"\n"):t.text,i),e.preventDefault(),e.clipboardData&&y.setTextData(e.clipboardData,t.text,t.html,i)}};b=S([v(4,C.F),v(5,_.VZ)],b);const y={getTextData(e){const t=e.getData(h.v.text);let i=null;const o=e.getData("vscode-editor-data");if("string"==typeof o)try{i=JSON.parse(o),1!==i.version&&(i=null)}catch(e){}if(0===t.length&&null===i&&e.files.length>0){return[Array.prototype.slice.call(e.files,0).map((e=>e.name)).join("\n"),null]}return[t,i]},setTextData(e,t,i,o){e.setData(h.v.text,t),"string"==typeof i&&e.setData("text/html",i),e.setData("vscode-editor-data",JSON.stringify(o))}};class A extends d.JT{get ownerDocument(){return this._actual.ownerDocument}constructor(e){super(),this._actual=e,this.onKeyDown=this._register(new s.Y(this._actual,"keydown")).event,this.onKeyUp=this._register(new s.Y(this._actual,"keyup")).event,this.onCompositionStart=this._register(new s.Y(this._actual,"compositionstart")).event,this.onCompositionUpdate=this._register(new s.Y(this._actual,"compositionupdate")).event,this.onCompositionEnd=this._register(new s.Y(this._actual,"compositionend")).event,this.onBeforeInput=this._register(new s.Y(this._actual,"beforeinput")).event,this.onInput=this._register(new s.Y(this._actual,"input")).event,this.onCut=this._register(new s.Y(this._actual,"cut")).event,this.onCopy=this._register(new s.Y(this._actual,"copy")).event,this.onPaste=this._register(new s.Y(this._actual,"paste")).event,this.onFocus=this._register(new s.Y(this._actual,"focus")).event,this.onBlur=this._register(new s.Y(this._actual,"blur")).event,this._onSyntheticTap=this._register(new u.Q5),this.onSyntheticTap=this._onSyntheticTap.event,this._ignoreSelectionChangeTime=0,this._register(this.onKeyDown((()=>c.B.onKeyDown()))),this._register(this.onBeforeInput((()=>c.B.onBeforeInput()))),this._register(this.onInput((()=>c.B.onInput()))),this._register(this.onKeyUp((()=>c.B.onKeyUp()))),this._register(r.nm(this._actual,o.Tap,(()=>this._onSyntheticTap.fire())))}hasFocus(){const e=r.Ay(this._actual);return e?e.activeElement===this._actual:!!this._actual.isConnected&&r.vY()===this._actual}setIgnoreSelectionChangeTime(e){this._ignoreSelectionChangeTime=Date.now()}getIgnoreSelectionChangeTime(){return this._ignoreSelectionChangeTime}resetSelectionChangeTime(){this._ignoreSelectionChangeTime=0}getValue(){return this._actual.value}setValue(e,t){const i=this._actual;i.value!==t&&(this.setIgnoreSelectionChangeTime("setValue"),i.value=t)}getSelectionStart(){return"backward"===this._actual.selectionDirection?this._actual.selectionEnd:this._actual.selectionStart}getSelectionEnd(){return"backward"===this._actual.selectionDirection?this._actual.selectionStart:this._actual.selectionEnd}setSelectionRange(e,t,i){const o=this._actual;let s=null;const a=r.Ay(o);s=a?a.activeElement:r.vY();const c=r.Jj(s),l=s===o,u=o.selectionStart,d=o.selectionEnd;if(l&&u===t&&d===i)n.vU&&c.parent!==c&&o.focus();else{if(l)return this.setIgnoreSelectionChangeTime("setSelectionRange"),o.setSelectionRange(t,i),void(n.vU&&c.parent!==c&&o.focus());try{const e=r.vL(o);this.setIgnoreSelectionChangeTime("setSelectionRange"),o.focus(),o.setSelectionRange(t,i),r._0(o,e)}catch(e){}}}}},15887:(e,t,i)=>{i.d(t,{al:()=>r,ee:()=>a,un:()=>s});var o=i(97295),n=i(24314);const r=!1;class s{constructor(e,t,i,o,n){this.value=e,this.selectionStart=t,this.selectionEnd=i,this.selection=o,this.newlineCountBeforeSelection=n}toString(){return`[ <${this.value}>, selectionStart: ${this.selectionStart}, selectionEnd: ${this.selectionEnd}]`}static readFromTextArea(e,t){const i=e.getValue(),o=e.getSelectionStart(),n=e.getSelectionEnd();let r;if(t){i.substring(0,o)===t.value.substring(0,t.selectionStart)&&(r=t.newlineCountBeforeSelection)}return new s(i,o,n,null,r)}collapseSelection(){return this.selectionStart===this.value.length?this:new s(this.value,this.value.length,this.value.length,null,void 0)}writeToTextArea(e,t,i){t.setValue(e,this.value),i&&t.setSelectionRange(e,this.selectionStart,this.selectionEnd)}deduceEditorPosition(e){var t,i,o,n,r,s,a,c;if(e<=this.selectionStart){const o=this.value.substring(e,this.selectionStart);return this._finishDeduceEditorPosition(null!==(i=null===(t=this.selection)||void 0===t?void 0:t.getStartPosition())&&void 0!==i?i:null,o,-1)}if(e>=this.selectionEnd){const t=this.value.substring(this.selectionEnd,e);return this._finishDeduceEditorPosition(null!==(n=null===(o=this.selection)||void 0===o?void 0:o.getEndPosition())&&void 0!==n?n:null,t,1)}const l=this.value.substring(this.selectionStart,e);if(-1===l.indexOf(String.fromCharCode(8230)))return this._finishDeduceEditorPosition(null!==(s=null===(r=this.selection)||void 0===r?void 0:r.getStartPosition())&&void 0!==s?s:null,l,1);const u=this.value.substring(e,this.selectionEnd);return this._finishDeduceEditorPosition(null!==(c=null===(a=this.selection)||void 0===a?void 0:a.getEndPosition())&&void 0!==c?c:null,u,-1)}_finishDeduceEditorPosition(e,t,i){let o=0,n=-1;for(;-1!==(n=t.indexOf("\n",n+1));)o++;return[e,i*t.length,o]}static deduceInput(e,t,i){if(!e)return{text:"",replacePrevCharCnt:0,replaceNextCharCnt:0,positionDelta:0};const n=Math.min(o.Mh(e.value,t.value),e.selectionStart,t.selectionStart),r=Math.min(o.P1(e.value,t.value),e.value.length-e.selectionEnd,t.value.length-t.selectionEnd),s=(e.value.substring(n,e.value.length-r),t.value.substring(n,t.value.length-r)),a=e.selectionStart-n,c=e.selectionEnd-n;if(t.selectionStart-n===t.selectionEnd-n){return{text:s,replacePrevCharCnt:e.selectionStart-n,replaceNextCharCnt:0,positionDelta:0}}return{text:s,replacePrevCharCnt:c-a,replaceNextCharCnt:0,positionDelta:0}}static deduceAndroidCompositionInput(e,t){if(!e)return{text:"",replacePrevCharCnt:0,replaceNextCharCnt:0,positionDelta:0};if(e.value===t.value)return{text:"",replacePrevCharCnt:0,replaceNextCharCnt:0,positionDelta:t.selectionEnd-e.selectionEnd};const i=Math.min(o.Mh(e.value,t.value),e.selectionEnd),n=Math.min(o.P1(e.value,t.value),e.value.length-e.selectionEnd),r=e.value.substring(i,e.value.length-n),s=t.value.substring(i,t.value.length-n),a=(e.selectionStart,e.selectionEnd-i),c=(t.selectionStart,t.selectionEnd-i);return{text:s,replacePrevCharCnt:a,replaceNextCharCnt:r.length-a,positionDelta:c-s.length}}}s.EMPTY=new s("",0,0,null,void 0);class a{static _getPageOfLine(e,t){return Math.floor((e-1)/t)}static _getRangeForPage(e,t){const i=e*t,o=i+1,r=i+t;return new n.e(o,1,r+1,1)}static fromEditorSelection(e,t,i,o){const r=500,c=a._getPageOfLine(t.startLineNumber,i),l=a._getRangeForPage(c,i),u=a._getPageOfLine(t.endLineNumber,i),d=a._getRangeForPage(u,i);let h=l.intersectRanges(new n.e(1,1,t.startLineNumber,t.startColumn));if(o&&e.getValueLengthInRange(h,1)>r){const t=e.modifyPosition(h.getEndPosition(),-500);h=n.e.fromPositions(t,h.getEndPosition())}const p=e.getValueInRange(h,1),m=e.getLineCount(),g=e.getLineMaxColumn(m);let C=d.intersectRanges(new n.e(t.endLineNumber,t.endColumn,m,g));if(o&&e.getValueLengthInRange(C,1)>r){const t=e.modifyPosition(C.getStartPosition(),r);C=n.e.fromPositions(C.getStartPosition(),t)}const _=e.getValueInRange(C,1);let S;if(c===u||c+1===u)S=e.getValueInRange(t,1);else{const i=l.intersectRanges(t),o=d.intersectRanges(t);S=e.getValueInRange(i,1)+String.fromCharCode(8230)+e.getValueInRange(o,1)}return o&&S.length>1e3&&(S=S.substring(0,r)+String.fromCharCode(8230)+S.substring(S.length-r,S.length)),new s(p+S+_,p.length,p.length+S.length,t,h.endLineNumber-h.startLineNumber)}}},96623:(e,t,i)=>{i.d(t,{Ox:()=>b,wk:()=>T});var o=i(63580),n=i(16268),r=i(98401),s=i(85152),a=i(16830),c=i(11640),l=i(87410),u=i(55343),d=i(29436),h=i(28108),p=i(30718),m=i(50187),g=i(24314),C=i(29102),_=i(93983),S=i(49989),v=i(65321);class x extends a._l{runEditorCommand(e,t,i){const o=t._getViewModel();o&&this.runCoreEditorCommand(o,i||{})}}var f,w,b;!function(e){e.metadata={description:"Scroll editor in the given direction",args:[{name:"Editor scroll argument object",description:"Property-value pairs that can be passed through this argument:\n\t\t\t\t\t* 'to': A mandatory direction value.\n\t\t\t\t\t\t```\n\t\t\t\t\t\t'up', 'down'\n\t\t\t\t\t\t```\n\t\t\t\t\t* 'by': Unit to move. Default is computed based on 'to' value.\n\t\t\t\t\t\t```\n\t\t\t\t\t\t'line', 'wrappedLine', 'page', 'halfPage', 'editor'\n\t\t\t\t\t\t```\n\t\t\t\t\t* 'value': Number of units to move. Default is '1'.\n\t\t\t\t\t* 'revealCursor': If 'true' reveals the cursor if it is outside view port.\n\t\t\t\t",constraint:function(e){if(!r.Kn(e))return!1;const t=e;return!!r.HD(t.to)&&(!(!r.o8(t.by)&&!r.HD(t.by))&&(!(!r.o8(t.value)&&!r.hj(t.value))&&!(!r.o8(t.revealCursor)&&!r.jn(t.revealCursor))))},schema:{type:"object",required:["to"],properties:{to:{type:"string",enum:["up","down"]},by:{type:"string",enum:["line","wrappedLine","page","halfPage","editor"]},value:{type:"number",default:1},revealCursor:{type:"boolean"}}}}]},e.RawDirection={Up:"up",Right:"right",Down:"down",Left:"left"},e.RawUnit={Line:"line",WrappedLine:"wrappedLine",Page:"page",HalfPage:"halfPage",Editor:"editor",Column:"column"},e.parse=function(t){let i,o;switch(t.to){case e.RawDirection.Up:i=1;break;case e.RawDirection.Right:i=2;break;case e.RawDirection.Down:i=3;break;case e.RawDirection.Left:i=4;break;default:return null}switch(t.by){case e.RawUnit.Line:o=1;break;case e.RawUnit.WrappedLine:o=2;break;case e.RawUnit.Page:o=3;break;case e.RawUnit.HalfPage:o=4;break;case e.RawUnit.Editor:o=5;break;case e.RawUnit.Column:o=6;break;default:o=2}return{direction:i,unit:o,value:Math.floor(t.value||1),revealCursor:!!t.revealCursor,select:!!t.select}}}(f||(f={})),function(e){e.metadata={description:"Reveal the given line at the given logical position",args:[{name:"Reveal line argument object",description:"Property-value pairs that can be passed through this argument:\n\t\t\t\t\t* 'lineNumber': A mandatory line number value.\n\t\t\t\t\t* 'at': Logical position at which line has to be revealed.\n\t\t\t\t\t\t```\n\t\t\t\t\t\t'top', 'center', 'bottom'\n\t\t\t\t\t\t```\n\t\t\t\t",constraint:function(e){if(!r.Kn(e))return!1;const t=e;return!(!r.hj(t.lineNumber)&&!r.HD(t.lineNumber))&&!(!r.o8(t.at)&&!r.HD(t.at))},schema:{type:"object",required:["lineNumber"],properties:{lineNumber:{type:["number","string"]},at:{type:"string",enum:["top","center","bottom"]}}}}]},e.RawAtArgument={Top:"top",Center:"center",Bottom:"bottom"}}(w||(w={}));class y{constructor(e){e.addImplementation(1e4,"code-editor",((e,t)=>{const i=e.get(c.$).getFocusedCodeEditor();return!(!i||!i.hasTextFocus())&&this._runEditorCommand(e,i,t)})),e.addImplementation(1e3,"generic-dom-input-textarea",((e,t)=>{const i=(0,v.vY)();return!!(i&&["input","textarea"].indexOf(i.tagName.toLowerCase())>=0)&&(this.runDOMCommand(i),!0)})),e.addImplementation(0,"generic-dom",((e,t)=>{const i=e.get(c.$).getActiveCodeEditor();return!!i&&(i.focus(),this._runEditorCommand(e,i,t))}))}_runEditorCommand(e,t,i){const o=this.runEditorCommand(e,t,i);return o||!0}}!function(e){class t extends x{constructor(e){super(e),this._inSelectionMode=e.inSelectionMode}runCoreEditorCommand(e,t){if(!t.position)return;e.model.pushStackElement();e.setCursorStates(t.source,3,[h.P.moveTo(e,e.getPrimaryCursorState(),this._inSelectionMode,t.position,t.viewPosition)])&&2!==t.revealType&&e.revealAllCursors(t.source,!0,!0)}}e.MoveTo=(0,a.fK)(new t({id:"_moveTo",inSelectionMode:!1,precondition:void 0})),e.MoveToSelect=(0,a.fK)(new t({id:"_moveToSelect",inSelectionMode:!0,precondition:void 0}));class i extends x{runCoreEditorCommand(e,t){e.model.pushStackElement();const i=this._getColumnSelectResult(e,e.getPrimaryCursorState(),e.getCursorColumnSelectData(),t);null!==i&&(e.setCursorStates(t.source,3,i.viewStates.map((e=>u.Vi.fromViewState(e)))),e.setCursorColumnSelectData({isReal:!0,fromViewLineNumber:i.fromLineNumber,fromViewVisualColumn:i.fromVisualColumn,toViewLineNumber:i.toLineNumber,toViewVisualColumn:i.toVisualColumn}),i.reversed?e.revealTopMostCursor(t.source):e.revealBottomMostCursor(t.source))}}e.ColumnSelect=(0,a.fK)(new class extends i{constructor(){super({id:"columnSelect",precondition:void 0})}_getColumnSelectResult(e,t,i,o){if(void 0===o.position||void 0===o.viewPosition||void 0===o.mouseColumn)return null;const n=e.model.validatePosition(o.position),r=e.coordinatesConverter.validateViewPosition(new m.L(o.viewPosition.lineNumber,o.viewPosition.column),n),s=o.doColumnSelect?i.fromViewLineNumber:r.lineNumber,a=o.doColumnSelect?i.fromViewVisualColumn:o.mouseColumn-1;return l.U.columnSelect(e.cursorConfig,e,s,a,r.lineNumber,o.mouseColumn-1)}}),e.CursorColumnSelectLeft=(0,a.fK)(new class extends i{constructor(){super({id:"cursorColumnSelectLeft",precondition:void 0,kbOpts:{weight:0,kbExpr:C.u.textInputFocus,primary:3599,linux:{primary:0}}})}_getColumnSelectResult(e,t,i,o){return l.U.columnSelectLeft(e.cursorConfig,e,i)}}),e.CursorColumnSelectRight=(0,a.fK)(new class extends i{constructor(){super({id:"cursorColumnSelectRight",precondition:void 0,kbOpts:{weight:0,kbExpr:C.u.textInputFocus,primary:3601,linux:{primary:0}}})}_getColumnSelectResult(e,t,i,o){return l.U.columnSelectRight(e.cursorConfig,e,i)}});class r extends i{constructor(e){super(e),this._isPaged=e.isPaged}_getColumnSelectResult(e,t,i,o){return l.U.columnSelectUp(e.cursorConfig,e,i,this._isPaged)}}e.CursorColumnSelectUp=(0,a.fK)(new r({isPaged:!1,id:"cursorColumnSelectUp",precondition:void 0,kbOpts:{weight:0,kbExpr:C.u.textInputFocus,primary:3600,linux:{primary:0}}})),e.CursorColumnSelectPageUp=(0,a.fK)(new r({isPaged:!0,id:"cursorColumnSelectPageUp",precondition:void 0,kbOpts:{weight:0,kbExpr:C.u.textInputFocus,primary:3595,linux:{primary:0}}}));class c extends i{constructor(e){super(e),this._isPaged=e.isPaged}_getColumnSelectResult(e,t,i,o){return l.U.columnSelectDown(e.cursorConfig,e,i,this._isPaged)}}e.CursorColumnSelectDown=(0,a.fK)(new c({isPaged:!1,id:"cursorColumnSelectDown",precondition:void 0,kbOpts:{weight:0,kbExpr:C.u.textInputFocus,primary:3602,linux:{primary:0}}})),e.CursorColumnSelectPageDown=(0,a.fK)(new c({isPaged:!0,id:"cursorColumnSelectPageDown",precondition:void 0,kbOpts:{weight:0,kbExpr:C.u.textInputFocus,primary:3596,linux:{primary:0}}}));class d extends x{constructor(){super({id:"cursorMove",precondition:void 0,metadata:h.N.metadata})}runCoreEditorCommand(e,t){const i=h.N.parse(t);i&&this._runCursorMove(e,t.source,i)}_runCursorMove(e,t,i){e.model.pushStackElement(),e.setCursorStates(t,3,d._move(e,e.getCursorStates(),i)),e.revealAllCursors(t,!0)}static _move(e,t,i){const o=i.select,n=i.value;switch(i.direction){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:return h.P.simpleMove(e,t,i.direction,o,n,i.unit);case 11:case 13:case 12:case 14:return h.P.viewportMove(e,t,i.direction,o,n);default:return null}}}e.CursorMoveImpl=d,e.CursorMove=(0,a.fK)(new d);class p extends x{constructor(e){super(e),this._staticArgs=e.args}runCoreEditorCommand(e,t){let i=this._staticArgs;-1===this._staticArgs.value&&(i={direction:this._staticArgs.direction,unit:this._staticArgs.unit,select:this._staticArgs.select,value:t.pageSize||e.cursorConfig.pageSize}),e.model.pushStackElement(),e.setCursorStates(t.source,3,h.P.simpleMove(e,e.getCursorStates(),i.direction,i.select,i.value,i.unit)),e.revealAllCursors(t.source,!0)}}e.CursorLeft=(0,a.fK)(new p({args:{direction:0,unit:0,select:!1,value:1},id:"cursorLeft",precondition:void 0,kbOpts:{weight:0,kbExpr:C.u.textInputFocus,primary:15,mac:{primary:15,secondary:[288]}}})),e.CursorLeftSelect=(0,a.fK)(new p({args:{direction:0,unit:0,select:!0,value:1},id:"cursorLeftSelect",precondition:void 0,kbOpts:{weight:0,kbExpr:C.u.textInputFocus,primary:1039}})),e.CursorRight=(0,a.fK)(new p({args:{direction:1,unit:0,select:!1,value:1},id:"cursorRight",precondition:void 0,kbOpts:{weight:0,kbExpr:C.u.textInputFocus,primary:17,mac:{primary:17,secondary:[292]}}})),e.CursorRightSelect=(0,a.fK)(new p({args:{direction:1,unit:0,select:!0,value:1},id:"cursorRightSelect",precondition:void 0,kbOpts:{weight:0,kbExpr:C.u.textInputFocus,primary:1041}})),e.CursorUp=(0,a.fK)(new p({args:{direction:2,unit:2,select:!1,value:1},id:"cursorUp",precondition:void 0,kbOpts:{weight:0,kbExpr:C.u.textInputFocus,primary:16,mac:{primary:16,secondary:[302]}}})),e.CursorUpSelect=(0,a.fK)(new p({args:{direction:2,unit:2,select:!0,value:1},id:"cursorUpSelect",precondition:void 0,kbOpts:{weight:0,kbExpr:C.u.textInputFocus,primary:1040,secondary:[3088],mac:{primary:1040},linux:{primary:1040}}})),e.CursorPageUp=(0,a.fK)(new p({args:{direction:2,unit:2,select:!1,value:-1},id:"cursorPageUp",precondition:void 0,kbOpts:{weight:0,kbExpr:C.u.textInputFocus,primary:11}})),e.CursorPageUpSelect=(0,a.fK)(new p({args:{direction:2,unit:2,select:!0,value:-1},id:"cursorPageUpSelect",precondition:void 0,kbOpts:{weight:0,kbExpr:C.u.textInputFocus,primary:1035}})),e.CursorDown=(0,a.fK)(new p({args:{direction:3,unit:2,select:!1,value:1},id:"cursorDown",precondition:void 0,kbOpts:{weight:0,kbExpr:C.u.textInputFocus,primary:18,mac:{primary:18,secondary:[300]}}})),e.CursorDownSelect=(0,a.fK)(new p({args:{direction:3,unit:2,select:!0,value:1},id:"cursorDownSelect",precondition:void 0,kbOpts:{weight:0,kbExpr:C.u.textInputFocus,primary:1042,secondary:[3090],mac:{primary:1042},linux:{primary:1042}}})),e.CursorPageDown=(0,a.fK)(new p({args:{direction:3,unit:2,select:!1,value:-1},id:"cursorPageDown",precondition:void 0,kbOpts:{weight:0,kbExpr:C.u.textInputFocus,primary:12}})),e.CursorPageDownSelect=(0,a.fK)(new p({args:{direction:3,unit:2,select:!0,value:-1},id:"cursorPageDownSelect",precondition:void 0,kbOpts:{weight:0,kbExpr:C.u.textInputFocus,primary:1036}})),e.CreateCursor=(0,a.fK)(new class extends x{constructor(){super({id:"createCursor",precondition:void 0})}runCoreEditorCommand(e,t){if(!t.position)return;let i;i=t.wholeLine?h.P.line(e,e.getPrimaryCursorState(),!1,t.position,t.viewPosition):h.P.moveTo(e,e.getPrimaryCursorState(),!1,t.position,t.viewPosition);const o=e.getCursorStates();if(o.length>1){const n=i.modelState?i.modelState.position:null,r=i.viewState?i.viewState.position:null;for(let i=0,s=o.length;i<s;i++){const s=o[i];if((!n||s.modelState.selection.containsPosition(n))&&(!r||s.viewState.selection.containsPosition(r)))return o.splice(i,1),e.model.pushStackElement(),void e.setCursorStates(t.source,3,o)}}o.push(i),e.model.pushStackElement(),e.setCursorStates(t.source,3,o)}}),e.LastCursorMoveToSelect=(0,a.fK)(new class extends x{constructor(){super({id:"_lastCursorMoveToSelect",precondition:void 0})}runCoreEditorCommand(e,t){if(!t.position)return;const i=e.getLastAddedCursorIndex(),o=e.getCursorStates(),n=o.slice(0);n[i]=h.P.moveTo(e,o[i],!0,t.position,t.viewPosition),e.model.pushStackElement(),e.setCursorStates(t.source,3,n)}});class _ extends x{constructor(e){super(e),this._inSelectionMode=e.inSelectionMode}runCoreEditorCommand(e,t){e.model.pushStackElement(),e.setCursorStates(t.source,3,h.P.moveToBeginningOfLine(e,e.getCursorStates(),this._inSelectionMode)),e.revealAllCursors(t.source,!0)}}e.CursorHome=(0,a.fK)(new _({inSelectionMode:!1,id:"cursorHome",precondition:void 0,kbOpts:{weight:0,kbExpr:C.u.textInputFocus,primary:14,mac:{primary:14,secondary:[2063]}}})),e.CursorHomeSelect=(0,a.fK)(new _({inSelectionMode:!0,id:"cursorHomeSelect",precondition:void 0,kbOpts:{weight:0,kbExpr:C.u.textInputFocus,primary:1038,mac:{primary:1038,secondary:[3087]}}}));class S extends x{constructor(e){super(e),this._inSelectionMode=e.inSelectionMode}runCoreEditorCommand(e,t){e.model.pushStackElement(),e.setCursorStates(t.source,3,this._exec(e.getCursorStates())),e.revealAllCursors(t.source,!0)}_exec(e){const t=[];for(let i=0,o=e.length;i<o;i++){const o=e[i],n=o.modelState.position.lineNumber;t[i]=u.Vi.fromModelState(o.modelState.move(this._inSelectionMode,n,1,0))}return t}}e.CursorLineStart=(0,a.fK)(new S({inSelectionMode:!1,id:"cursorLineStart",precondition:void 0,kbOpts:{weight:0,kbExpr:C.u.textInputFocus,primary:0,mac:{primary:287}}})),e.CursorLineStartSelect=(0,a.fK)(new S({inSelectionMode:!0,id:"cursorLineStartSelect",precondition:void 0,kbOpts:{weight:0,kbExpr:C.u.textInputFocus,primary:0,mac:{primary:1311}}}));class v extends x{constructor(e){super(e),this._inSelectionMode=e.inSelectionMode}runCoreEditorCommand(e,t){e.model.pushStackElement(),e.setCursorStates(t.source,3,h.P.moveToEndOfLine(e,e.getCursorStates(),this._inSelectionMode,t.sticky||!1)),e.revealAllCursors(t.source,!0)}}e.CursorEnd=(0,a.fK)(new v({inSelectionMode:!1,id:"cursorEnd",precondition:void 0,kbOpts:{args:{sticky:!1},weight:0,kbExpr:C.u.textInputFocus,primary:13,mac:{primary:13,secondary:[2065]}},metadata:{description:"Go to End",args:[{name:"args",schema:{type:"object",properties:{sticky:{description:o.NC("stickydesc","Stick to the end even when going to longer lines"),type:"boolean",default:!1}}}}]}})),e.CursorEndSelect=(0,a.fK)(new v({inSelectionMode:!0,id:"cursorEndSelect",precondition:void 0,kbOpts:{args:{sticky:!1},weight:0,kbExpr:C.u.textInputFocus,primary:1037,mac:{primary:1037,secondary:[3089]}},metadata:{description:"Select to End",args:[{name:"args",schema:{type:"object",properties:{sticky:{description:o.NC("stickydesc","Stick to the end even when going to longer lines"),type:"boolean",default:!1}}}}]}}));class b extends x{constructor(e){super(e),this._inSelectionMode=e.inSelectionMode}runCoreEditorCommand(e,t){e.model.pushStackElement(),e.setCursorStates(t.source,3,this._exec(e,e.getCursorStates())),e.revealAllCursors(t.source,!0)}_exec(e,t){const i=[];for(let o=0,n=t.length;o<n;o++){const n=t[o],r=n.modelState.position.lineNumber,s=e.model.getLineMaxColumn(r);i[o]=u.Vi.fromModelState(n.modelState.move(this._inSelectionMode,r,s,0))}return i}}e.CursorLineEnd=(0,a.fK)(new b({inSelectionMode:!1,id:"cursorLineEnd",precondition:void 0,kbOpts:{weight:0,kbExpr:C.u.textInputFocus,primary:0,mac:{primary:291}}})),e.CursorLineEndSelect=(0,a.fK)(new b({inSelectionMode:!0,id:"cursorLineEndSelect",precondition:void 0,kbOpts:{weight:0,kbExpr:C.u.textInputFocus,primary:0,mac:{primary:1315}}}));class A extends x{constructor(e){super(e),this._inSelectionMode=e.inSelectionMode}runCoreEditorCommand(e,t){e.model.pushStackElement(),e.setCursorStates(t.source,3,h.P.moveToBeginningOfBuffer(e,e.getCursorStates(),this._inSelectionMode)),e.revealAllCursors(t.source,!0)}}e.CursorTop=(0,a.fK)(new A({inSelectionMode:!1,id:"cursorTop",precondition:void 0,kbOpts:{weight:0,kbExpr:C.u.textInputFocus,primary:2062,mac:{primary:2064}}})),e.CursorTopSelect=(0,a.fK)(new A({inSelectionMode:!0,id:"cursorTopSelect",precondition:void 0,kbOpts:{weight:0,kbExpr:C.u.textInputFocus,primary:3086,mac:{primary:3088}}}));class E extends x{constructor(e){super(e),this._inSelectionMode=e.inSelectionMode}runCoreEditorCommand(e,t){e.model.pushStackElement(),e.setCursorStates(t.source,3,h.P.moveToEndOfBuffer(e,e.getCursorStates(),this._inSelectionMode)),e.revealAllCursors(t.source,!0)}}e.CursorBottom=(0,a.fK)(new E({inSelectionMode:!1,id:"cursorBottom",precondition:void 0,kbOpts:{weight:0,kbExpr:C.u.textInputFocus,primary:2061,mac:{primary:2066}}})),e.CursorBottomSelect=(0,a.fK)(new E({inSelectionMode:!0,id:"cursorBottomSelect",precondition:void 0,kbOpts:{weight:0,kbExpr:C.u.textInputFocus,primary:3085,mac:{primary:3090}}}));class P extends x{constructor(){super({id:"editorScroll",precondition:void 0,metadata:f.metadata})}determineScrollMethod(e){return[6].includes(e.unit)&&[4,2].includes(e.direction)?this._runHorizontalEditorScroll.bind(this):[1,2,3,4,5,6].includes(e.unit)&&[1,3].includes(e.direction)?this._runVerticalEditorScroll.bind(this):null}runCoreEditorCommand(e,t){const i=f.parse(t);if(!i)return;const o=this.determineScrollMethod(i);o&&o(e,t.source,i)}_runVerticalEditorScroll(e,t,i){const o=this._computeDesiredScrollTop(e,i);if(i.revealCursor){const n=e.getCompletelyVisibleViewRangeAtScrollTop(o);e.setCursorStates(t,3,[h.P.findPositionInViewportIfOutside(e,e.getPrimaryCursorState(),n,i.select)])}e.viewLayout.setScrollPosition({scrollTop:o},0)}_computeDesiredScrollTop(e,t){if(1===t.unit){const i=e.viewLayout.getFutureViewport(),o=e.getCompletelyVisibleViewRangeAtScrollTop(i.top),n=e.coordinatesConverter.convertViewRangeToModelRange(o);let r;r=1===t.direction?Math.max(1,n.startLineNumber-t.value):Math.min(e.model.getLineCount(),n.startLineNumber+t.value);const s=e.coordinatesConverter.convertModelPositionToViewPosition(new m.L(r,1));return e.viewLayout.getVerticalOffsetForLineNumber(s.lineNumber)}if(5===t.unit){let i=0;return 3===t.direction&&(i=e.model.getLineCount()-e.cursorConfig.pageSize),e.viewLayout.getVerticalOffsetForLineNumber(i)}let i;i=3===t.unit?e.cursorConfig.pageSize*t.value:4===t.unit?Math.round(e.cursorConfig.pageSize/2)*t.value:t.value;const o=(1===t.direction?-1:1)*i;return e.viewLayout.getCurrentScrollTop()+o*e.cursorConfig.lineHeight}_runHorizontalEditorScroll(e,t,i){const o=this._computeDesiredScrollLeft(e,i);e.viewLayout.setScrollPosition({scrollLeft:o},0)}_computeDesiredScrollLeft(e,t){const i=(4===t.direction?-1:1)*t.value;return e.viewLayout.getCurrentScrollLeft()+i*e.cursorConfig.typicalHalfwidthCharacterWidth}}e.EditorScrollImpl=P,e.EditorScroll=(0,a.fK)(new P),e.ScrollLineUp=(0,a.fK)(new class extends x{constructor(){super({id:"scrollLineUp",precondition:void 0,kbOpts:{weight:0,kbExpr:C.u.textInputFocus,primary:2064,mac:{primary:267}}})}runCoreEditorCommand(t,i){e.EditorScroll.runCoreEditorCommand(t,{to:f.RawDirection.Up,by:f.RawUnit.WrappedLine,value:1,revealCursor:!1,select:!1,source:i.source})}}),e.ScrollPageUp=(0,a.fK)(new class extends x{constructor(){super({id:"scrollPageUp",precondition:void 0,kbOpts:{weight:0,kbExpr:C.u.textInputFocus,primary:2059,win:{primary:523},linux:{primary:523}}})}runCoreEditorCommand(t,i){e.EditorScroll.runCoreEditorCommand(t,{to:f.RawDirection.Up,by:f.RawUnit.Page,value:1,revealCursor:!1,select:!1,source:i.source})}}),e.ScrollEditorTop=(0,a.fK)(new class extends x{constructor(){super({id:"scrollEditorTop",precondition:void 0,kbOpts:{weight:0,kbExpr:C.u.textInputFocus}})}runCoreEditorCommand(t,i){e.EditorScroll.runCoreEditorCommand(t,{to:f.RawDirection.Up,by:f.RawUnit.Editor,value:1,revealCursor:!1,select:!1,source:i.source})}}),e.ScrollLineDown=(0,a.fK)(new class extends x{constructor(){super({id:"scrollLineDown",precondition:void 0,kbOpts:{weight:0,kbExpr:C.u.textInputFocus,primary:2066,mac:{primary:268}}})}runCoreEditorCommand(t,i){e.EditorScroll.runCoreEditorCommand(t,{to:f.RawDirection.Down,by:f.RawUnit.WrappedLine,value:1,revealCursor:!1,select:!1,source:i.source})}}),e.ScrollPageDown=(0,a.fK)(new class extends x{constructor(){super({id:"scrollPageDown",precondition:void 0,kbOpts:{weight:0,kbExpr:C.u.textInputFocus,primary:2060,win:{primary:524},linux:{primary:524}}})}runCoreEditorCommand(t,i){e.EditorScroll.runCoreEditorCommand(t,{to:f.RawDirection.Down,by:f.RawUnit.Page,value:1,revealCursor:!1,select:!1,source:i.source})}}),e.ScrollEditorBottom=(0,a.fK)(new class extends x{constructor(){super({id:"scrollEditorBottom",precondition:void 0,kbOpts:{weight:0,kbExpr:C.u.textInputFocus}})}runCoreEditorCommand(t,i){e.EditorScroll.runCoreEditorCommand(t,{to:f.RawDirection.Down,by:f.RawUnit.Editor,value:1,revealCursor:!1,select:!1,source:i.source})}}),e.ScrollLeft=(0,a.fK)(new class extends x{constructor(){super({id:"scrollLeft",precondition:void 0,kbOpts:{weight:0,kbExpr:C.u.textInputFocus}})}runCoreEditorCommand(t,i){e.EditorScroll.runCoreEditorCommand(t,{to:f.RawDirection.Left,by:f.RawUnit.Column,value:2,revealCursor:!1,select:!1,source:i.source})}}),e.ScrollRight=(0,a.fK)(new class extends x{constructor(){super({id:"scrollRight",precondition:void 0,kbOpts:{weight:0,kbExpr:C.u.textInputFocus}})}runCoreEditorCommand(t,i){e.EditorScroll.runCoreEditorCommand(t,{to:f.RawDirection.Right,by:f.RawUnit.Column,value:2,revealCursor:!1,select:!1,source:i.source})}});class T extends x{constructor(e){super(e),this._inSelectionMode=e.inSelectionMode}runCoreEditorCommand(e,t){t.position&&(e.model.pushStackElement(),e.setCursorStates(t.source,3,[h.P.word(e,e.getPrimaryCursorState(),this._inSelectionMode,t.position)]),2!==t.revealType&&e.revealAllCursors(t.source,!0,!0))}}e.WordSelect=(0,a.fK)(new T({inSelectionMode:!1,id:"_wordSelect",precondition:void 0})),e.WordSelectDrag=(0,a.fK)(new T({inSelectionMode:!0,id:"_wordSelectDrag",precondition:void 0})),e.LastCursorWordSelect=(0,a.fK)(new class extends x{constructor(){super({id:"lastCursorWordSelect",precondition:void 0})}runCoreEditorCommand(e,t){if(!t.position)return;const i=e.getLastAddedCursorIndex(),o=e.getCursorStates(),n=o.slice(0),r=o[i];n[i]=h.P.word(e,r,r.modelState.hasSelection(),t.position),e.model.pushStackElement(),e.setCursorStates(t.source,3,n)}});class L extends x{constructor(e){super(e),this._inSelectionMode=e.inSelectionMode}runCoreEditorCommand(e,t){t.position&&(e.model.pushStackElement(),e.setCursorStates(t.source,3,[h.P.line(e,e.getPrimaryCursorState(),this._inSelectionMode,t.position,t.viewPosition)]),2!==t.revealType&&e.revealAllCursors(t.source,!1,!0))}}e.LineSelect=(0,a.fK)(new L({inSelectionMode:!1,id:"_lineSelect",precondition:void 0})),e.LineSelectDrag=(0,a.fK)(new L({inSelectionMode:!0,id:"_lineSelectDrag",precondition:void 0}));class k extends x{constructor(e){super(e),this._inSelectionMode=e.inSelectionMode}runCoreEditorCommand(e,t){if(!t.position)return;const i=e.getLastAddedCursorIndex(),o=e.getCursorStates(),n=o.slice(0);n[i]=h.P.line(e,o[i],this._inSelectionMode,t.position,t.viewPosition),e.model.pushStackElement(),e.setCursorStates(t.source,3,n)}}e.LastCursorLineSelect=(0,a.fK)(new k({inSelectionMode:!1,id:"lastCursorLineSelect",precondition:void 0})),e.LastCursorLineSelectDrag=(0,a.fK)(new k({inSelectionMode:!0,id:"lastCursorLineSelectDrag",precondition:void 0})),e.CancelSelection=(0,a.fK)(new class extends x{constructor(){super({id:"cancelSelection",precondition:C.u.hasNonEmptySelection,kbOpts:{weight:0,kbExpr:C.u.textInputFocus,primary:9,secondary:[1033]}})}runCoreEditorCommand(e,t){e.model.pushStackElement(),e.setCursorStates(t.source,3,[h.P.cancelSelection(e,e.getPrimaryCursorState())]),e.revealAllCursors(t.source,!0)}}),e.RemoveSecondaryCursors=(0,a.fK)(new class extends x{constructor(){super({id:"removeSecondaryCursors",precondition:C.u.hasMultipleSelections,kbOpts:{weight:1,kbExpr:C.u.textInputFocus,primary:9,secondary:[1033]}})}runCoreEditorCommand(e,t){e.model.pushStackElement(),e.setCursorStates(t.source,3,[e.getPrimaryCursorState()]),e.revealAllCursors(t.source,!0),(0,s.i7)(o.NC("removedCursor","Removed secondary cursors"))}}),e.RevealLine=(0,a.fK)(new class extends x{constructor(){super({id:"revealLine",precondition:void 0,metadata:w.metadata})}runCoreEditorCommand(e,t){const i=t,o=i.lineNumber||0;let n="number"==typeof o?o+1:parseInt(o)+1;n<1&&(n=1);const r=e.model.getLineCount();n>r&&(n=r);const s=new g.e(n,1,n,e.model.getLineMaxColumn(n));let a=0;if(i.at)switch(i.at){case w.RawAtArgument.Top:a=3;break;case w.RawAtArgument.Center:a=1;break;case w.RawAtArgument.Bottom:a=4}const c=e.coordinatesConverter.convertModelRangeToViewRange(s);e.revealRange(t.source,!1,c,a,0)}}),e.SelectAll=new class extends y{constructor(){super(a.Sq)}runDOMCommand(e){n.vU&&(e.focus(),e.select()),e.ownerDocument.execCommand("selectAll")}runEditorCommand(e,t,i){const o=t._getViewModel();o&&this.runCoreEditorCommand(o,i)}runCoreEditorCommand(e,t){e.model.pushStackElement(),e.setCursorStates("keyboard",3,[h.P.selectAll(e,e.getPrimaryCursorState())])}},e.SetSelection=(0,a.fK)(new class extends x{constructor(){super({id:"setSelection",precondition:void 0})}runCoreEditorCommand(e,t){t.selection&&(e.model.pushStackElement(),e.setCursorStates(t.source,3,[u.Vi.fromModelSelection(t.selection)]))}})}(b||(b={}));const A=_.Ao.and(C.u.textInputFocus,C.u.columnSelection);function E(e,t){S.W.registerKeybindingRule({id:e,primary:t,when:A,weight:1})}function P(e){return e.register(),e}var T;E(b.CursorColumnSelectLeft.id,1039),E(b.CursorColumnSelectRight.id,1041),E(b.CursorColumnSelectUp.id,1040),E(b.CursorColumnSelectPageUp.id,1035),E(b.CursorColumnSelectDown.id,1042),E(b.CursorColumnSelectPageDown.id,1036),function(e){class t extends a._l{runEditorCommand(e,t,i){const o=t._getViewModel();o&&this.runCoreEditingCommand(t,o,i||{})}}e.CoreEditingCommand=t,e.LineBreakInsert=(0,a.fK)(new class extends t{constructor(){super({id:"lineBreakInsert",precondition:C.u.writable,kbOpts:{weight:0,kbExpr:C.u.textInputFocus,primary:0,mac:{primary:301}}})}runCoreEditingCommand(e,t,i){e.pushUndoStop(),e.executeCommands(this.id,p.u6.lineBreakInsert(t.cursorConfig,t.model,t.getCursorStates().map((e=>e.modelState.selection))))}}),e.Outdent=(0,a.fK)(new class extends t{constructor(){super({id:"outdent",precondition:C.u.writable,kbOpts:{weight:0,kbExpr:_.Ao.and(C.u.editorTextFocus,C.u.tabDoesNotMoveFocus),primary:1026}})}runCoreEditingCommand(e,t,i){e.pushUndoStop(),e.executeCommands(this.id,p.u6.outdent(t.cursorConfig,t.model,t.getCursorStates().map((e=>e.modelState.selection)))),e.pushUndoStop()}}),e.Tab=(0,a.fK)(new class extends t{constructor(){super({id:"tab",precondition:C.u.writable,kbOpts:{weight:0,kbExpr:_.Ao.and(C.u.editorTextFocus,C.u.tabDoesNotMoveFocus),primary:2}})}runCoreEditingCommand(e,t,i){e.pushUndoStop(),e.executeCommands(this.id,p.u6.tab(t.cursorConfig,t.model,t.getCursorStates().map((e=>e.modelState.selection)))),e.pushUndoStop()}}),e.DeleteLeft=(0,a.fK)(new class extends t{constructor(){super({id:"deleteLeft",precondition:void 0,kbOpts:{weight:0,kbExpr:C.u.textInputFocus,primary:1,secondary:[1025],mac:{primary:1,secondary:[1025,294,257]}}})}runCoreEditingCommand(e,t,i){const[o,n]=d.A.deleteLeft(t.getPrevEditOperationType(),t.cursorConfig,t.model,t.getCursorStates().map((e=>e.modelState.selection)),t.getCursorAutoClosedCharacters());o&&e.pushUndoStop(),e.executeCommands(this.id,n),t.setPrevEditOperationType(2)}}),e.DeleteRight=(0,a.fK)(new class extends t{constructor(){super({id:"deleteRight",precondition:void 0,kbOpts:{weight:0,kbExpr:C.u.textInputFocus,primary:20,mac:{primary:20,secondary:[290,276]}}})}runCoreEditingCommand(e,t,i){const[o,n]=d.A.deleteRight(t.getPrevEditOperationType(),t.cursorConfig,t.model,t.getCursorStates().map((e=>e.modelState.selection)));o&&e.pushUndoStop(),e.executeCommands(this.id,n),t.setPrevEditOperationType(3)}}),e.Undo=new class extends y{constructor(){super(a.n_)}runDOMCommand(e){e.ownerDocument.execCommand("undo")}runEditorCommand(e,t,i){if(t.hasModel()&&!0!==t.getOption(91))return t.getModel().undo()}},e.Redo=new class extends y{constructor(){super(a.kz)}runDOMCommand(e){e.ownerDocument.execCommand("redo")}runEditorCommand(e,t,i){if(t.hasModel()&&!0!==t.getOption(91))return t.getModel().redo()}}}(T||(T={}));class L extends a.mY{constructor(e,t,i){super({id:e,precondition:void 0,metadata:i}),this._handlerId=t}runCommand(e,t){const i=e.get(c.$).getFocusedCodeEditor();i&&i.trigger("keyboard",this._handlerId,t)}}function k(e,t){P(new L("default:"+e,e)),P(new L(e,e,t))}k("type",{description:"Type",args:[{name:"args",schema:{type:"object",required:["text"],properties:{text:{type:"string"}}}}]}),k("replacePreviousChar"),k("compositionType"),k("compositionStart"),k("compositionEnd"),k("paste"),k("cut")}}]);