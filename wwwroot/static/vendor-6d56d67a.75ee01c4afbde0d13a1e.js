"use strict";(self.webpackChunkui_react=self.webpackChunkui_react||[]).push([[8863],{55343:(e,t,n)=>{n.d(t,{LM:()=>d,LN:()=>L,Tp:()=>p,Vi:()=>h,rS:()=>C});var i=n(50187),o=n(24314),r=n(3860),s=n(19111),l=n(7988),a=n(83158);const u=()=>!0,c=()=>!1,m=e=>" "===e||"\t"===e;class d{static shouldRecreate(e){return e.hasChanged(145)||e.hasChanged(131)||e.hasChanged(37)||e.hasChanged(77)||e.hasChanged(79)||e.hasChanged(80)||e.hasChanged(6)||e.hasChanged(7)||e.hasChanged(11)||e.hasChanged(9)||e.hasChanged(10)||e.hasChanged(14)||e.hasChanged(128)||e.hasChanged(50)||e.hasChanged(91)||e.hasChanged(130)}constructor(e,t,n,i){var o;this.languageConfigurationService=i,this._cursorMoveConfigurationBrand=void 0,this._languageId=e;const r=n.options,s=r.get(145),l=r.get(50);this.readOnly=r.get(91),this.tabSize=t.tabSize,this.indentSize=t.indentSize,this.insertSpaces=t.insertSpaces,this.stickyTabStops=r.get(116),this.lineHeight=l.lineHeight,this.typicalHalfwidthCharacterWidth=l.typicalHalfwidthCharacterWidth,this.pageSize=Math.max(1,Math.floor(s.height/this.lineHeight)-2),this.useTabStops=r.get(128),this.wordSeparators=r.get(131),this.emptySelectionClipboard=r.get(37),this.copyWithSyntaxHighlighting=r.get(25),this.multiCursorMergeOverlapping=r.get(77),this.multiCursorPaste=r.get(79),this.multiCursorLimit=r.get(80),this.autoClosingBrackets=r.get(6),this.autoClosingComments=r.get(7),this.autoClosingQuotes=r.get(11),this.autoClosingDelete=r.get(9),this.autoClosingOvertype=r.get(10),this.autoSurround=r.get(14),this.autoIndent=r.get(12),this.wordSegmenterLocales=r.get(130),this.surroundingPairs={},this._electricChars=null,this.shouldAutoCloseBefore={quote:this._getShouldAutoClose(e,this.autoClosingQuotes,!0),comment:this._getShouldAutoClose(e,this.autoClosingComments,!1),bracket:this._getShouldAutoClose(e,this.autoClosingBrackets,!1)},this.autoClosingPairs=this.languageConfigurationService.getLanguageConfiguration(e).getAutoClosingPairs();const a=this.languageConfigurationService.getLanguageConfiguration(e).getSurroundingPairs();if(a)for(const e of a)this.surroundingPairs[e.open]=e.close;const u=this.languageConfigurationService.getLanguageConfiguration(e).comments;this.blockCommentStartToken=null!==(o=null==u?void 0:u.blockCommentStartToken)&&void 0!==o?o:null}get electricChars(){var e;if(!this._electricChars){this._electricChars={};const t=null===(e=this.languageConfigurationService.getLanguageConfiguration(this._languageId).electricCharacter)||void 0===e?void 0:e.getElectricCharacters();if(t)for(const e of t)this._electricChars[e]=!0}return this._electricChars}onElectricCharacter(e,t,n){const i=(0,s.wH)(t,n-1),o=this.languageConfigurationService.getLanguageConfiguration(i.languageId).electricCharacter;return o?o.onElectricCharacter(e,i,n-i.firstCharOffset):null}normalizeIndentation(e){return(0,a.x)(e,this.indentSize,this.insertSpaces)}_getShouldAutoClose(e,t,n){switch(t){case"beforeWhitespace":return m;case"languageDefined":return this._getLanguageDefinedShouldAutoClose(e,n);case"always":return u;case"never":return c}}_getLanguageDefinedShouldAutoClose(e,t){const n=this.languageConfigurationService.getLanguageConfiguration(e).getAutoCloseBeforeSet(t);return e=>-1!==n.indexOf(e)}visibleColumnFromColumn(e,t){return l.i.visibleColumnFromColumn(e.getLineContent(t.lineNumber),t.column,this.tabSize)}columnFromVisibleColumn(e,t,n){const i=l.i.columnFromVisibleColumn(e.getLineContent(t),n,this.tabSize),o=e.getLineMinColumn(t);if(i<o)return o;const r=e.getLineMaxColumn(t);return i>r?r:i}}class h{static fromModelState(e){return new f(e)}static fromViewState(e){return new g(e)}static fromModelSelection(e){const t=r.Y.liftSelection(e),n=new C(o.e.fromPositions(t.getSelectionStart()),0,0,t.getPosition(),0);return h.fromModelState(n)}static fromModelSelections(e){const t=[];for(let n=0,i=e.length;n<i;n++)t[n]=this.fromModelSelection(e[n]);return t}constructor(e,t){this._cursorStateBrand=void 0,this.modelState=e,this.viewState=t}equals(e){return this.viewState.equals(e.viewState)&&this.modelState.equals(e.modelState)}}class f{constructor(e){this.modelState=e,this.viewState=null}}class g{constructor(e){this.modelState=null,this.viewState=e}}class C{constructor(e,t,n,i,o){this.selectionStart=e,this.selectionStartKind=t,this.selectionStartLeftoverVisibleColumns=n,this.position=i,this.leftoverVisibleColumns=o,this._singleCursorStateBrand=void 0,this.selection=C._computeSelection(this.selectionStart,this.position)}equals(e){return this.selectionStartLeftoverVisibleColumns===e.selectionStartLeftoverVisibleColumns&&this.leftoverVisibleColumns===e.leftoverVisibleColumns&&this.selectionStartKind===e.selectionStartKind&&this.position.equals(e.position)&&this.selectionStart.equalsRange(e.selectionStart)}hasSelection(){return!this.selection.isEmpty()||!this.selectionStart.isEmpty()}move(e,t,n,r){return e?new C(this.selectionStart,this.selectionStartKind,this.selectionStartLeftoverVisibleColumns,new i.L(t,n),r):new C(new o.e(t,n,t,n),0,r,new i.L(t,n),r)}static _computeSelection(e,t){return e.isEmpty()||!t.isBeforeOrEqual(e.getStartPosition())?r.Y.fromPositions(e.getStartPosition(),t):r.Y.fromPositions(e.getEndPosition(),t)}}class p{constructor(e,t,n){this._editOperationResultBrand=void 0,this.type=e,this.commands=t,this.shouldPushStackElementBefore=n.shouldPushStackElementBefore,this.shouldPushStackElementAfter=n.shouldPushStackElementAfter}}function L(e){return"'"===e||'"'===e||"`"===e}},47128:(e,t,n)=>{n.d(t,{l:()=>o});var i=n(7988);class o{static whitespaceVisibleColumn(e,t,n){const o=e.length;let r=0,s=-1,l=-1;for(let a=0;a<o;a++){if(a===t)return[s,l,r];r%n==0&&(s=a,l=r);switch(e.charCodeAt(a)){case 32:r+=1;break;case 9:r=i.i.nextRenderTabStop(r,n);break;default:return[-1,-1,-1]}}return t===o?[s,l,r]:[-1,-1,-1]}static atomicPosition(e,t,n,r){const s=e.length,[l,a,u]=o.whitespaceVisibleColumn(e,t,n);if(-1===u)return-1;let c;switch(r){case 0:c=!0;break;case 1:c=!1;break;case 2:if(u%n==0)return t;c=u%n<=n/2}if(c){if(-1===l)return-1;let t=a;for(let o=l;o<s;++o){if(t===a+n)return l;switch(e.charCodeAt(o)){case 32:t+=1;break;case 9:t=i.i.nextRenderTabStop(t,n);break;default:return-1}}return t===a+n?l:-1}const m=i.i.nextRenderTabStop(u,n);let d=u;for(let o=t;o<s;o++){if(d===m)return o;switch(e.charCodeAt(o)){case 32:d+=1;break;case 9:d=i.i.nextRenderTabStop(d,n);break;default:return-1}}return d===m?s:-1}}},67172:(e,t,n)=>{n.d(t,{s:()=>c});var i=n(9488),o=n(35534),r=n(55343),s=n(81006),l=n(50187),a=n(24314),u=n(3860);class c{constructor(e){this.context=e,this.cursors=[new s.C(e)],this.lastAddedCursorIndex=0}dispose(){for(const e of this.cursors)e.dispose(this.context)}startTrackingSelections(){for(const e of this.cursors)e.startTrackingSelection(this.context)}stopTrackingSelections(){for(const e of this.cursors)e.stopTrackingSelection(this.context)}updateContext(e){this.context=e}ensureValidState(){for(const e of this.cursors)e.ensureValidState(this.context)}readSelectionFromMarkers(){return this.cursors.map((e=>e.readSelectionFromMarkers(this.context)))}getAll(){return this.cursors.map((e=>e.asCursorState()))}getViewPositions(){return this.cursors.map((e=>e.viewState.position))}getTopMostViewPosition(){return(0,o.vm)(this.cursors,(0,i.tT)((e=>e.viewState.position),l.L.compare)).viewState.position}getBottomMostViewPosition(){return(0,o.BS)(this.cursors,(0,i.tT)((e=>e.viewState.position),l.L.compare)).viewState.position}getSelections(){return this.cursors.map((e=>e.modelState.selection))}getViewSelections(){return this.cursors.map((e=>e.viewState.selection))}setSelections(e){this.setStates(r.Vi.fromModelSelections(e))}getPrimaryCursor(){return this.cursors[0].asCursorState()}setStates(e){null!==e&&(this.cursors[0].setState(this.context,e[0].modelState,e[0].viewState),this._setSecondaryStates(e.slice(1)))}_setSecondaryStates(e){const t=this.cursors.length-1,n=e.length;if(t<n){const e=n-t;for(let t=0;t<e;t++)this._addSecondaryCursor()}else if(t>n){const e=t-n;for(let t=0;t<e;t++)this._removeSecondaryCursor(this.cursors.length-2)}for(let t=0;t<n;t++)this.cursors[t+1].setState(this.context,e[t].modelState,e[t].viewState)}killSecondaryCursors(){this._setSecondaryStates([])}_addSecondaryCursor(){this.cursors.push(new s.C(this.context)),this.lastAddedCursorIndex=this.cursors.length-1}getLastAddedCursorIndex(){return 1===this.cursors.length||0===this.lastAddedCursorIndex?0:this.lastAddedCursorIndex}_removeSecondaryCursor(e){this.lastAddedCursorIndex>=e+1&&this.lastAddedCursorIndex--,this.cursors[e+1].dispose(this.context),this.cursors.splice(e+1,1)}normalize(){if(1===this.cursors.length)return;const e=this.cursors.slice(0),t=[];for(let n=0,i=e.length;n<i;n++)t.push({index:n,selection:e[n].modelState.selection});t.sort((0,i.tT)((e=>e.selection),a.e.compareRangesUsingStarts));for(let n=0;n<t.length-1;n++){const i=t[n],o=t[n+1],s=i.selection,l=o.selection;if(!this.context.cursorConfig.multiCursorMergeOverlapping)continue;let a;if(a=l.isEmpty()||s.isEmpty()?l.getStartPosition().isBeforeOrEqual(s.getEndPosition()):l.getStartPosition().isBefore(s.getEndPosition()),a){const s=i.index<o.index?n:n+1,l=i.index<o.index?n+1:n,a=t[l].index,c=t[s].index,m=t[l].selection,d=t[s].selection;if(!m.equalsSelection(d)){const n=m.plusRange(d),i=m.selectionStartLineNumber===m.startLineNumber&&m.selectionStartColumn===m.startColumn,o=d.selectionStartLineNumber===d.startLineNumber&&d.selectionStartColumn===d.startColumn;let l,h;a===this.lastAddedCursorIndex?(l=i,this.lastAddedCursorIndex=c):l=o,h=l?new u.Y(n.startLineNumber,n.startColumn,n.endLineNumber,n.endColumn):new u.Y(n.endLineNumber,n.endColumn,n.startLineNumber,n.startColumn),t[s].selection=h;const f=r.Vi.fromModelSelection(h);e[c].setState(this.context,f.modelState,f.viewState)}for(const e of t)e.index>a&&e.index--;e.splice(a,1),t.splice(l,1),this._removeSecondaryCursor(a-1),n--}}}}},87410:(e,t,n)=>{n.d(t,{U:()=>s});var i=n(55343),o=n(50187),r=n(24314);class s{static columnSelect(e,t,n,s,l,a){const u=Math.abs(l-n)+1,c=n>l,m=s>a,d=s<a,h=[];for(let l=0;l<u;l++){const u=n+(c?-l:l),f=e.columnFromVisibleColumn(t,u,s),g=e.columnFromVisibleColumn(t,u,a),C=e.visibleColumnFromColumn(t,new o.L(u,f)),p=e.visibleColumnFromColumn(t,new o.L(u,g));if(d){if(C>a)continue;if(p<s)continue}if(m){if(p>s)continue;if(C<a)continue}h.push(new i.rS(new r.e(u,f,u,f),0,0,new o.L(u,g),0))}if(0===h.length)for(let e=0;e<u;e++){const s=n+(c?-e:e),l=t.getLineMaxColumn(s);h.push(new i.rS(new r.e(s,l,s,l),0,0,new o.L(s,l),0))}return{viewStates:h,reversed:c,fromLineNumber:n,fromVisualColumn:s,toLineNumber:l,toVisualColumn:a}}static columnSelectLeft(e,t,n){let i=n.toViewVisualColumn;return i>0&&i--,s.columnSelect(e,t,n.fromViewLineNumber,n.fromViewVisualColumn,n.toViewLineNumber,i)}static columnSelectRight(e,t,n){let i=0;const r=Math.min(n.fromViewLineNumber,n.toViewLineNumber),s=Math.max(n.fromViewLineNumber,n.toViewLineNumber);for(let n=r;n<=s;n++){const r=t.getLineMaxColumn(n),s=e.visibleColumnFromColumn(t,new o.L(n,r));i=Math.max(i,s)}let l=n.toViewVisualColumn;return l<i&&l++,this.columnSelect(e,t,n.fromViewLineNumber,n.fromViewVisualColumn,n.toViewLineNumber,l)}static columnSelectUp(e,t,n,i){const o=i?e.pageSize:1,r=Math.max(1,n.toViewLineNumber-o);return this.columnSelect(e,t,n.fromViewLineNumber,n.fromViewVisualColumn,r,n.toViewVisualColumn)}static columnSelectDown(e,t,n,i){const o=i?e.pageSize:1,r=Math.min(t.getLineCount(),n.toViewLineNumber+o);return this.columnSelect(e,t,n.fromViewLineNumber,n.fromViewVisualColumn,r,n.toViewVisualColumn)}}},65810:(e,t,n)=>{n.d(t,{z:()=>i});class i{constructor(e,t,n,i){this._cursorContextBrand=void 0,this.model=e,this.viewModel=t,this.coordinatesConverter=n,this.cursorConfig=i}}},29436:(e,t,n)=>{n.d(t,{A:()=>c});var i=n(97295),o=n(61329),r=n(55343),s=n(7988),l=n(10839),a=n(24314),u=n(50187);class c{static deleteRight(e,t,n,i){const r=[];let s=3!==e;for(let e=0,u=i.length;e<u;e++){const u=i[e];let c=u;if(c.isEmpty()){const e=u.getPosition(),i=l.o.right(t,n,e);c=new a.e(i.lineNumber,i.column,e.lineNumber,e.column)}c.isEmpty()?r[e]=null:(c.startLineNumber!==c.endLineNumber&&(s=!0),r[e]=new o.T4(c,""))}return[s,r]}static isAutoClosingPairDelete(e,t,n,i,o,s,l){if("never"===t&&"never"===n)return!1;if("never"===e)return!1;for(let a=0,u=s.length;a<u;a++){const u=s[a],c=u.getPosition();if(!u.isEmpty())return!1;const m=o.getLineContent(c.lineNumber);if(c.column<2||c.column>=m.length+1)return!1;const d=m.charAt(c.column-2),h=i.get(d);if(!h)return!1;if((0,r.LN)(d)){if("never"===n)return!1}else if("never"===t)return!1;const f=m.charAt(c.column-1);let g=!1;for(const e of h)e.open===d&&e.close===f&&(g=!0);if(!g)return!1;if("auto"===e){let e=!1;for(let t=0,n=l.length;t<n;t++){const n=l[t];if(c.lineNumber===n.startLineNumber&&c.column===n.startColumn){e=!0;break}}if(!e)return!1}}return!0}static _runAutoClosingPairDelete(e,t,n){const i=[];for(let e=0,t=n.length;e<t;e++){const t=n[e].getPosition(),r=new a.e(t.lineNumber,t.column-1,t.lineNumber,t.column+1);i[e]=new o.T4(r,"")}return[!0,i]}static deleteLeft(e,t,n,i,r){if(this.isAutoClosingPairDelete(t.autoClosingDelete,t.autoClosingBrackets,t.autoClosingQuotes,t.autoClosingPairs.autoClosingPairsOpenByEnd,n,i,r))return this._runAutoClosingPairDelete(t,n,i);const s=[];let l=2!==e;for(let e=0,r=i.length;e<r;e++){const r=c.getDeleteRange(i[e],n,t);r.isEmpty()?s[e]=null:(r.startLineNumber!==r.endLineNumber&&(l=!0),s[e]=new o.T4(r,""))}return[l,s]}static getDeleteRange(e,t,n){if(!e.isEmpty())return e;const o=e.getPosition();if(n.useTabStops&&o.column>1){const e=t.getLineContent(o.lineNumber),r=i.LC(e),l=-1===r?e.length+1:r+1;if(o.column<=l){const e=n.visibleColumnFromColumn(t,o),i=s.i.prevIndentTabStop(e,n.indentSize),r=n.columnFromVisibleColumn(t,o.lineNumber,i);return new a.e(o.lineNumber,r,o.lineNumber,o.column)}}return a.e.fromPositions(c.getPositionAfterDeleteLeft(o,t),o)}static getPositionAfterDeleteLeft(e,t){if(e.column>1){const n=i.oH(e.column-1,t.getLineContent(e.lineNumber));return e.with(void 0,n+1)}if(e.lineNumber>1){const n=e.lineNumber-1;return new u.L(n,t.getLineMaxColumn(n))}return e}static cut(e,t,n){const i=[];let s=null;n.sort(((e,t)=>u.L.compare(e.getStartPosition(),t.getEndPosition())));for(let r=0,l=n.length;r<l;r++){const l=n[r];if(l.isEmpty())if(e.emptySelectionClipboard){const e=l.getPosition();let n,u,c,m;e.lineNumber<t.getLineCount()?(n=e.lineNumber,u=1,c=e.lineNumber+1,m=1):e.lineNumber>1&&(null==s?void 0:s.endLineNumber)!==e.lineNumber?(n=e.lineNumber-1,u=t.getLineMaxColumn(e.lineNumber-1),c=e.lineNumber,m=t.getLineMaxColumn(e.lineNumber)):(n=e.lineNumber,u=1,c=e.lineNumber,m=t.getLineMaxColumn(e.lineNumber));const d=new a.e(n,u,c,m);s=d,d.isEmpty()?i[r]=null:i[r]=new o.T4(d,"")}else i[r]=null;else i[r]=new o.T4(l,"")}return new r.Tp(0,i,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}}},28108:(e,t,n)=>{n.d(t,{N:()=>i,P:()=>c});var i,o=n(98401),r=n(55343),s=n(10839),l=n(92896),a=n(50187),u=n(24314);class c{static addCursorDown(e,t,n){const i=[];let o=0;for(let l=0,a=t.length;l<a;l++){const a=t[l];i[o++]=new r.Vi(a.modelState,a.viewState),i[o++]=n?r.Vi.fromModelState(s.o.translateDown(e.cursorConfig,e.model,a.modelState)):r.Vi.fromViewState(s.o.translateDown(e.cursorConfig,e,a.viewState))}return i}static addCursorUp(e,t,n){const i=[];let o=0;for(let l=0,a=t.length;l<a;l++){const a=t[l];i[o++]=new r.Vi(a.modelState,a.viewState),i[o++]=n?r.Vi.fromModelState(s.o.translateUp(e.cursorConfig,e.model,a.modelState)):r.Vi.fromViewState(s.o.translateUp(e.cursorConfig,e,a.viewState))}return i}static moveToBeginningOfLine(e,t,n){const i=[];for(let o=0,r=t.length;o<r;o++){const r=t[o];i[o]=this._moveToLineStart(e,r,n)}return i}static _moveToLineStart(e,t,n){const i=t.viewState.position.column,o=i===t.modelState.position.column,r=t.viewState.position.lineNumber,s=e.getLineFirstNonWhitespaceColumn(r);return o||i===s?this._moveToLineStartByModel(e,t,n):this._moveToLineStartByView(e,t,n)}static _moveToLineStartByView(e,t,n){return r.Vi.fromViewState(s.o.moveToBeginningOfLine(e.cursorConfig,e,t.viewState,n))}static _moveToLineStartByModel(e,t,n){return r.Vi.fromModelState(s.o.moveToBeginningOfLine(e.cursorConfig,e.model,t.modelState,n))}static moveToEndOfLine(e,t,n,i){const o=[];for(let r=0,s=t.length;r<s;r++){const s=t[r];o[r]=this._moveToLineEnd(e,s,n,i)}return o}static _moveToLineEnd(e,t,n,i){const o=t.viewState.position,r=e.getLineMaxColumn(o.lineNumber),s=o.column===r,l=t.modelState.position,a=e.model.getLineMaxColumn(l.lineNumber),u=r-o.column==a-l.column;return s||u?this._moveToLineEndByModel(e,t,n,i):this._moveToLineEndByView(e,t,n,i)}static _moveToLineEndByView(e,t,n,i){return r.Vi.fromViewState(s.o.moveToEndOfLine(e.cursorConfig,e,t.viewState,n,i))}static _moveToLineEndByModel(e,t,n,i){return r.Vi.fromModelState(s.o.moveToEndOfLine(e.cursorConfig,e.model,t.modelState,n,i))}static expandLineSelection(e,t){const n=[];for(let i=0,o=t.length;i<o;i++){const o=t[i],s=o.modelState.selection.startLineNumber,l=e.model.getLineCount();let c,m=o.modelState.selection.endLineNumber;m===l?c=e.model.getLineMaxColumn(l):(m++,c=1),n[i]=r.Vi.fromModelState(new r.rS(new u.e(s,1,s,1),0,0,new a.L(m,c),0))}return n}static moveToBeginningOfBuffer(e,t,n){const i=[];for(let o=0,l=t.length;o<l;o++){const l=t[o];i[o]=r.Vi.fromModelState(s.o.moveToBeginningOfBuffer(e.cursorConfig,e.model,l.modelState,n))}return i}static moveToEndOfBuffer(e,t,n){const i=[];for(let o=0,l=t.length;o<l;o++){const l=t[o];i[o]=r.Vi.fromModelState(s.o.moveToEndOfBuffer(e.cursorConfig,e.model,l.modelState,n))}return i}static selectAll(e,t){const n=e.model.getLineCount(),i=e.model.getLineMaxColumn(n);return r.Vi.fromModelState(new r.rS(new u.e(1,1,1,1),0,0,new a.L(n,i),0))}static line(e,t,n,i,o){const s=e.model.validatePosition(i),l=o?e.coordinatesConverter.validateViewPosition(new a.L(o.lineNumber,o.column),s):e.coordinatesConverter.convertModelPositionToViewPosition(s);if(!n){const t=e.model.getLineCount();let n=s.lineNumber+1,i=1;return n>t&&(n=t,i=e.model.getLineMaxColumn(n)),r.Vi.fromModelState(new r.rS(new u.e(s.lineNumber,1,n,i),2,0,new a.L(n,i),0))}const c=t.modelState.selectionStart.getStartPosition().lineNumber;if(s.lineNumber<c)return r.Vi.fromViewState(t.viewState.move(!0,l.lineNumber,1,0));if(s.lineNumber>c){const n=e.getLineCount();let i=l.lineNumber+1,o=1;return i>n&&(i=n,o=e.getLineMaxColumn(i)),r.Vi.fromViewState(t.viewState.move(!0,i,o,0))}{const e=t.modelState.selectionStart.getEndPosition();return r.Vi.fromModelState(t.modelState.move(!0,e.lineNumber,e.column,0))}}static word(e,t,n,i){const o=e.model.validatePosition(i);return r.Vi.fromModelState(l.w.word(e.cursorConfig,e.model,t.modelState,n,o))}static cancelSelection(e,t){if(!t.modelState.hasSelection())return new r.Vi(t.modelState,t.viewState);const n=t.viewState.position.lineNumber,i=t.viewState.position.column;return r.Vi.fromViewState(new r.rS(new u.e(n,i,n,i),0,0,new a.L(n,i),0))}static moveTo(e,t,n,i,o){if(n){if(1===t.modelState.selectionStartKind)return this.word(e,t,n,i);if(2===t.modelState.selectionStartKind)return this.line(e,t,n,i,o)}const s=e.model.validatePosition(i),l=o?e.coordinatesConverter.validateViewPosition(new a.L(o.lineNumber,o.column),s):e.coordinatesConverter.convertModelPositionToViewPosition(s);return r.Vi.fromViewState(t.viewState.move(n,l.lineNumber,l.column,0))}static simpleMove(e,t,n,i,o,l){switch(n){case 0:return 4===l?this._moveHalfLineLeft(e,t,i):this._moveLeft(e,t,i,o);case 1:return 4===l?this._moveHalfLineRight(e,t,i):this._moveRight(e,t,i,o);case 2:return 2===l?this._moveUpByViewLines(e,t,i,o):this._moveUpByModelLines(e,t,i,o);case 3:return 2===l?this._moveDownByViewLines(e,t,i,o):this._moveDownByModelLines(e,t,i,o);case 4:return 2===l?t.map((t=>r.Vi.fromViewState(s.o.moveToPrevBlankLine(e.cursorConfig,e,t.viewState,i)))):t.map((t=>r.Vi.fromModelState(s.o.moveToPrevBlankLine(e.cursorConfig,e.model,t.modelState,i))));case 5:return 2===l?t.map((t=>r.Vi.fromViewState(s.o.moveToNextBlankLine(e.cursorConfig,e,t.viewState,i)))):t.map((t=>r.Vi.fromModelState(s.o.moveToNextBlankLine(e.cursorConfig,e.model,t.modelState,i))));case 6:return this._moveToViewMinColumn(e,t,i);case 7:return this._moveToViewFirstNonWhitespaceColumn(e,t,i);case 8:return this._moveToViewCenterColumn(e,t,i);case 9:return this._moveToViewMaxColumn(e,t,i);case 10:return this._moveToViewLastNonWhitespaceColumn(e,t,i);default:return null}}static viewportMove(e,t,n,i,o){const r=e.getCompletelyVisibleViewRange(),s=e.coordinatesConverter.convertViewRangeToModelRange(r);switch(n){case 11:{const n=this._firstLineNumberInRange(e.model,s,o),r=e.model.getLineFirstNonWhitespaceColumn(n);return[this._moveToModelPosition(e,t[0],i,n,r)]}case 13:{const n=this._lastLineNumberInRange(e.model,s,o),r=e.model.getLineFirstNonWhitespaceColumn(n);return[this._moveToModelPosition(e,t[0],i,n,r)]}case 12:{const n=Math.round((s.startLineNumber+s.endLineNumber)/2),o=e.model.getLineFirstNonWhitespaceColumn(n);return[this._moveToModelPosition(e,t[0],i,n,o)]}case 14:{const n=[];for(let o=0,s=t.length;o<s;o++){const s=t[o];n[o]=this.findPositionInViewportIfOutside(e,s,r,i)}return n}default:return null}}static findPositionInViewportIfOutside(e,t,n,i){const o=t.viewState.position.lineNumber;if(n.startLineNumber<=o&&o<=n.endLineNumber-1)return new r.Vi(t.modelState,t.viewState);{let l;l=o>n.endLineNumber-1?n.endLineNumber-1:o<n.startLineNumber?n.startLineNumber:o;const a=s.o.vertical(e.cursorConfig,e,o,t.viewState.position.column,t.viewState.leftoverVisibleColumns,l,!1);return r.Vi.fromViewState(t.viewState.move(i,a.lineNumber,a.column,a.leftoverVisibleColumns))}}static _firstLineNumberInRange(e,t,n){let i=t.startLineNumber;return t.startColumn!==e.getLineMinColumn(i)&&i++,Math.min(t.endLineNumber,i+n-1)}static _lastLineNumberInRange(e,t,n){let i=t.startLineNumber;return t.startColumn!==e.getLineMinColumn(i)&&i++,Math.max(i,t.endLineNumber-n+1)}static _moveLeft(e,t,n,i){return t.map((t=>r.Vi.fromViewState(s.o.moveLeft(e.cursorConfig,e,t.viewState,n,i))))}static _moveHalfLineLeft(e,t,n){const i=[];for(let o=0,l=t.length;o<l;o++){const l=t[o],a=l.viewState.position.lineNumber,u=Math.round(e.getLineLength(a)/2);i[o]=r.Vi.fromViewState(s.o.moveLeft(e.cursorConfig,e,l.viewState,n,u))}return i}static _moveRight(e,t,n,i){return t.map((t=>r.Vi.fromViewState(s.o.moveRight(e.cursorConfig,e,t.viewState,n,i))))}static _moveHalfLineRight(e,t,n){const i=[];for(let o=0,l=t.length;o<l;o++){const l=t[o],a=l.viewState.position.lineNumber,u=Math.round(e.getLineLength(a)/2);i[o]=r.Vi.fromViewState(s.o.moveRight(e.cursorConfig,e,l.viewState,n,u))}return i}static _moveDownByViewLines(e,t,n,i){const o=[];for(let l=0,a=t.length;l<a;l++){const a=t[l];o[l]=r.Vi.fromViewState(s.o.moveDown(e.cursorConfig,e,a.viewState,n,i))}return o}static _moveDownByModelLines(e,t,n,i){const o=[];for(let l=0,a=t.length;l<a;l++){const a=t[l];o[l]=r.Vi.fromModelState(s.o.moveDown(e.cursorConfig,e.model,a.modelState,n,i))}return o}static _moveUpByViewLines(e,t,n,i){const o=[];for(let l=0,a=t.length;l<a;l++){const a=t[l];o[l]=r.Vi.fromViewState(s.o.moveUp(e.cursorConfig,e,a.viewState,n,i))}return o}static _moveUpByModelLines(e,t,n,i){const o=[];for(let l=0,a=t.length;l<a;l++){const a=t[l];o[l]=r.Vi.fromModelState(s.o.moveUp(e.cursorConfig,e.model,a.modelState,n,i))}return o}static _moveToViewPosition(e,t,n,i,o){return r.Vi.fromViewState(t.viewState.move(n,i,o,0))}static _moveToModelPosition(e,t,n,i,o){return r.Vi.fromModelState(t.modelState.move(n,i,o,0))}static _moveToViewMinColumn(e,t,n){const i=[];for(let o=0,r=t.length;o<r;o++){const r=t[o],s=r.viewState.position.lineNumber,l=e.getLineMinColumn(s);i[o]=this._moveToViewPosition(e,r,n,s,l)}return i}static _moveToViewFirstNonWhitespaceColumn(e,t,n){const i=[];for(let o=0,r=t.length;o<r;o++){const r=t[o],s=r.viewState.position.lineNumber,l=e.getLineFirstNonWhitespaceColumn(s);i[o]=this._moveToViewPosition(e,r,n,s,l)}return i}static _moveToViewCenterColumn(e,t,n){const i=[];for(let o=0,r=t.length;o<r;o++){const r=t[o],s=r.viewState.position.lineNumber,l=Math.round((e.getLineMaxColumn(s)+e.getLineMinColumn(s))/2);i[o]=this._moveToViewPosition(e,r,n,s,l)}return i}static _moveToViewMaxColumn(e,t,n){const i=[];for(let o=0,r=t.length;o<r;o++){const r=t[o],s=r.viewState.position.lineNumber,l=e.getLineMaxColumn(s);i[o]=this._moveToViewPosition(e,r,n,s,l)}return i}static _moveToViewLastNonWhitespaceColumn(e,t,n){const i=[];for(let o=0,r=t.length;o<r;o++){const r=t[o],s=r.viewState.position.lineNumber,l=e.getLineLastNonWhitespaceColumn(s);i[o]=this._moveToViewPosition(e,r,n,s,l)}return i}}!function(e){e.metadata={description:"Move cursor to a logical position in the view",args:[{name:"Cursor move argument object",description:"Property-value pairs that can be passed through this argument:\n\t\t\t\t\t* 'to': A mandatory logical position value providing where to move the cursor.\n\t\t\t\t\t\t```\n\t\t\t\t\t\t'left', 'right', 'up', 'down', 'prevBlankLine', 'nextBlankLine',\n\t\t\t\t\t\t'wrappedLineStart', 'wrappedLineEnd', 'wrappedLineColumnCenter'\n\t\t\t\t\t\t'wrappedLineFirstNonWhitespaceCharacter', 'wrappedLineLastNonWhitespaceCharacter'\n\t\t\t\t\t\t'viewPortTop', 'viewPortCenter', 'viewPortBottom', 'viewPortIfOutside'\n\t\t\t\t\t\t```\n\t\t\t\t\t* 'by': Unit to move. Default is computed based on 'to' value.\n\t\t\t\t\t\t```\n\t\t\t\t\t\t'line', 'wrappedLine', 'character', 'halfLine'\n\t\t\t\t\t\t```\n\t\t\t\t\t* 'value': Number of units to move. Default is '1'.\n\t\t\t\t\t* 'select': If 'true' makes the selection. Default is 'false'.\n\t\t\t\t",constraint:function(e){if(!o.Kn(e))return!1;const t=e;return!!o.HD(t.to)&&(!(!o.o8(t.select)&&!o.jn(t.select))&&(!(!o.o8(t.by)&&!o.HD(t.by))&&!(!o.o8(t.value)&&!o.hj(t.value))))},schema:{type:"object",required:["to"],properties:{to:{type:"string",enum:["left","right","up","down","prevBlankLine","nextBlankLine","wrappedLineStart","wrappedLineEnd","wrappedLineColumnCenter","wrappedLineFirstNonWhitespaceCharacter","wrappedLineLastNonWhitespaceCharacter","viewPortTop","viewPortCenter","viewPortBottom","viewPortIfOutside"]},by:{type:"string",enum:["line","wrappedLine","character","halfLine"]},value:{type:"number",default:1},select:{type:"boolean",default:!1}}}}]},e.RawDirection={Left:"left",Right:"right",Up:"up",Down:"down",PrevBlankLine:"prevBlankLine",NextBlankLine:"nextBlankLine",WrappedLineStart:"wrappedLineStart",WrappedLineFirstNonWhitespaceCharacter:"wrappedLineFirstNonWhitespaceCharacter",WrappedLineColumnCenter:"wrappedLineColumnCenter",WrappedLineEnd:"wrappedLineEnd",WrappedLineLastNonWhitespaceCharacter:"wrappedLineLastNonWhitespaceCharacter",ViewPortTop:"viewPortTop",ViewPortCenter:"viewPortCenter",ViewPortBottom:"viewPortBottom",ViewPortIfOutside:"viewPortIfOutside"},e.RawUnit={Line:"line",WrappedLine:"wrappedLine",Character:"character",HalfLine:"halfLine"},e.parse=function(t){if(!t.to)return null;let n;switch(t.to){case e.RawDirection.Left:n=0;break;case e.RawDirection.Right:n=1;break;case e.RawDirection.Up:n=2;break;case e.RawDirection.Down:n=3;break;case e.RawDirection.PrevBlankLine:n=4;break;case e.RawDirection.NextBlankLine:n=5;break;case e.RawDirection.WrappedLineStart:n=6;break;case e.RawDirection.WrappedLineFirstNonWhitespaceCharacter:n=7;break;case e.RawDirection.WrappedLineColumnCenter:n=8;break;case e.RawDirection.WrappedLineEnd:n=9;break;case e.RawDirection.WrappedLineLastNonWhitespaceCharacter:n=10;break;case e.RawDirection.ViewPortTop:n=11;break;case e.RawDirection.ViewPortBottom:n=13;break;case e.RawDirection.ViewPortCenter:n=12;break;case e.RawDirection.ViewPortIfOutside:n=14;break;default:return null}let i=0;switch(t.by){case e.RawUnit.Line:i=1;break;case e.RawUnit.WrappedLine:i=2;break;case e.RawUnit.Character:i=3;break;case e.RawUnit.HalfLine:i=4}return{direction:n,unit:i,select:!!t.select,value:t.value||1}}}(i||(i={}))},10839:(e,t,n)=>{n.d(t,{o:()=>c});var i=n(97295),o=n(7988),r=n(50187),s=n(24314),l=n(47128),a=n(55343);class u{constructor(e,t,n){this._cursorPositionBrand=void 0,this.lineNumber=e,this.column=t,this.leftoverVisibleColumns=n}}class c{static leftPosition(e,t){if(t.column>e.getLineMinColumn(t.lineNumber))return t.delta(void 0,-i.HO(e.getLineContent(t.lineNumber),t.column-1));if(t.lineNumber>1){const n=t.lineNumber-1;return new r.L(n,e.getLineMaxColumn(n))}return t}static leftPositionAtomicSoftTabs(e,t,n){if(t.column<=e.getLineIndentColumn(t.lineNumber)){const i=e.getLineMinColumn(t.lineNumber),o=e.getLineContent(t.lineNumber),s=l.l.atomicPosition(o,t.column-1,n,0);if(-1!==s&&s+1>=i)return new r.L(t.lineNumber,s+1)}return this.leftPosition(e,t)}static left(e,t,n){const i=e.stickyTabStops?c.leftPositionAtomicSoftTabs(t,n,e.tabSize):c.leftPosition(t,n);return new u(i.lineNumber,i.column,0)}static moveLeft(e,t,n,i,o){let r,s;if(n.hasSelection()&&!i)r=n.selection.startLineNumber,s=n.selection.startColumn;else{const i=n.position.delta(void 0,-(o-1)),l=t.normalizePosition(c.clipPositionColumn(i,t),0),a=c.left(e,t,l);r=a.lineNumber,s=a.column}return n.move(i,r,s,0)}static clipPositionColumn(e,t){return new r.L(e.lineNumber,c.clipRange(e.column,t.getLineMinColumn(e.lineNumber),t.getLineMaxColumn(e.lineNumber)))}static clipRange(e,t,n){return e<t?t:e>n?n:e}static rightPosition(e,t,n){return n<e.getLineMaxColumn(t)?n+=i.vH(e.getLineContent(t),n-1):t<e.getLineCount()&&(t+=1,n=e.getLineMinColumn(t)),new r.L(t,n)}static rightPositionAtomicSoftTabs(e,t,n,i,o){if(n<e.getLineIndentColumn(t)){const o=e.getLineContent(t),s=l.l.atomicPosition(o,n-1,i,1);if(-1!==s)return new r.L(t,s+1)}return this.rightPosition(e,t,n)}static right(e,t,n){const i=e.stickyTabStops?c.rightPositionAtomicSoftTabs(t,n.lineNumber,n.column,e.tabSize,e.indentSize):c.rightPosition(t,n.lineNumber,n.column);return new u(i.lineNumber,i.column,0)}static moveRight(e,t,n,i,o){let r,s;if(n.hasSelection()&&!i)r=n.selection.endLineNumber,s=n.selection.endColumn;else{const i=n.position.delta(void 0,o-1),l=t.normalizePosition(c.clipPositionColumn(i,t),1),a=c.right(e,t,l);r=a.lineNumber,s=a.column}return n.move(i,r,s,0)}static vertical(e,t,n,i,s,l,a,c){const m=o.i.visibleColumnFromColumn(t.getLineContent(n),i,e.tabSize)+s,d=t.getLineCount(),h=1===n&&1===i,f=n===d&&i===t.getLineMaxColumn(n),g=l<n?h:f;if((n=l)<1?(n=1,i=a?t.getLineMinColumn(n):Math.min(t.getLineMaxColumn(n),i)):n>d?(n=d,i=a?t.getLineMaxColumn(n):Math.min(t.getLineMaxColumn(n),i)):i=e.columnFromVisibleColumn(t,n,m),s=g?0:m-o.i.visibleColumnFromColumn(t.getLineContent(n),i,e.tabSize),void 0!==c){const e=new r.L(n,i),o=t.normalizePosition(e,c);s+=i-o.column,n=o.lineNumber,i=o.column}return new u(n,i,s)}static down(e,t,n,i,o,r,s){return this.vertical(e,t,n,i,o,n+r,s,4)}static moveDown(e,t,n,i,o){let s,l;n.hasSelection()&&!i?(s=n.selection.endLineNumber,l=n.selection.endColumn):(s=n.position.lineNumber,l=n.position.column);let a,u=0;do{a=c.down(e,t,s+u,l,n.leftoverVisibleColumns,o,!0);if(t.normalizePosition(new r.L(a.lineNumber,a.column),2).lineNumber>s)break}while(u++<10&&s+u<t.getLineCount());return n.move(i,a.lineNumber,a.column,a.leftoverVisibleColumns)}static translateDown(e,t,n){const i=n.selection,o=c.down(e,t,i.selectionStartLineNumber,i.selectionStartColumn,n.selectionStartLeftoverVisibleColumns,1,!1),l=c.down(e,t,i.positionLineNumber,i.positionColumn,n.leftoverVisibleColumns,1,!1);return new a.rS(new s.e(o.lineNumber,o.column,o.lineNumber,o.column),0,o.leftoverVisibleColumns,new r.L(l.lineNumber,l.column),l.leftoverVisibleColumns)}static up(e,t,n,i,o,r,s){return this.vertical(e,t,n,i,o,n-r,s,3)}static moveUp(e,t,n,i,o){let r,s;n.hasSelection()&&!i?(r=n.selection.startLineNumber,s=n.selection.startColumn):(r=n.position.lineNumber,s=n.position.column);const l=c.up(e,t,r,s,n.leftoverVisibleColumns,o,!0);return n.move(i,l.lineNumber,l.column,l.leftoverVisibleColumns)}static translateUp(e,t,n){const i=n.selection,o=c.up(e,t,i.selectionStartLineNumber,i.selectionStartColumn,n.selectionStartLeftoverVisibleColumns,1,!1),l=c.up(e,t,i.positionLineNumber,i.positionColumn,n.leftoverVisibleColumns,1,!1);return new a.rS(new s.e(o.lineNumber,o.column,o.lineNumber,o.column),0,o.leftoverVisibleColumns,new r.L(l.lineNumber,l.column),l.leftoverVisibleColumns)}static _isBlankLine(e,t){return 0===e.getLineFirstNonWhitespaceColumn(t)}static moveToPrevBlankLine(e,t,n,i){let o=n.position.lineNumber;for(;o>1&&this._isBlankLine(t,o);)o--;for(;o>1&&!this._isBlankLine(t,o);)o--;return n.move(i,o,t.getLineMinColumn(o),0)}static moveToNextBlankLine(e,t,n,i){const o=t.getLineCount();let r=n.position.lineNumber;for(;r<o&&this._isBlankLine(t,r);)r++;for(;r<o&&!this._isBlankLine(t,r);)r++;return n.move(i,r,t.getLineMinColumn(r),0)}static moveToBeginningOfLine(e,t,n,i){const o=n.position.lineNumber,r=t.getLineMinColumn(o),s=t.getLineFirstNonWhitespaceColumn(o)||r;let l;return l=n.position.column===s?r:s,n.move(i,o,l,0)}static moveToEndOfLine(e,t,n,i,o){const r=n.position.lineNumber,s=t.getLineMaxColumn(r);return n.move(i,r,s,o?1073741824-s:0)}static moveToBeginningOfBuffer(e,t,n,i){return n.move(i,1,1,0)}static moveToEndOfBuffer(e,t,n,i){const o=t.getLineCount(),r=t.getLineMaxColumn(o);return n.move(i,o,r,0)}}},30718:(e,t,n)=>{n.d(t,{Nu:()=>w,g_:()=>L,u6:()=>p});var i=n(17301),o=n(97295),r=n(61329),s=n(10291),l=n(69317),a=n(55343),u=n(24929),c=n(24314),m=n(50187),d=n(49119),h=n(51381),f=n(19111),g=n(75383),C=n(1615);class p{static indent(e,t,n){if(null===t||null===n)return[];const i=[];for(let t=0,o=n.length;t<o;t++)i[t]=new s.U(n[t],{isUnshift:!1,tabSize:e.tabSize,indentSize:e.indentSize,insertSpaces:e.insertSpaces,useTabStops:e.useTabStops,autoIndent:e.autoIndent},e.languageConfigurationService);return i}static outdent(e,t,n){const i=[];for(let t=0,o=n.length;t<o;t++)i[t]=new s.U(n[t],{isUnshift:!0,tabSize:e.tabSize,indentSize:e.indentSize,insertSpaces:e.insertSpaces,useTabStops:e.useTabStops,autoIndent:e.autoIndent},e.languageConfigurationService);return i}static shiftIndent(e,t,n){return n=n||1,s.U.shiftIndent(t,t.length+n,e.tabSize,e.indentSize,e.insertSpaces)}static unshiftIndent(e,t,n){return n=n||1,s.U.unshiftIndent(t,t.length+n,e.tabSize,e.indentSize,e.insertSpaces)}static _distributedPaste(e,t,n,i){const o=[];for(let e=0,t=n.length;e<t;e++)o[e]=new r.T4(n[e],i[e]);return new a.Tp(0,o,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}static _simplePaste(e,t,n,i,o){const s=[];for(let e=0,t=n.length;e<t;e++){const t=n[e],l=t.getPosition();if(o&&!t.isEmpty()&&(o=!1),o&&i.indexOf("\n")!==i.length-1&&(o=!1),o){const n=new c.e(l.lineNumber,1,l.lineNumber,1);s[e]=new r.hP(n,i,t,!0)}else s[e]=new r.T4(t,i)}return new a.Tp(0,s,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}static _distributePasteToCursors(e,t,n,i,r){if(i)return null;if(1===t.length)return null;if(r&&r.length===t.length)return r;if("spread"===e.multiCursorPaste){10===n.charCodeAt(n.length-1)&&(n=n.substr(0,n.length-1)),13===n.charCodeAt(n.length-1)&&(n=n.substr(0,n.length-1));const e=o.uq(n);if(e.length===t.length)return e}return null}static paste(e,t,n,i,o,r){const s=this._distributePasteToCursors(e,n,i,o,r);return s?(n=n.sort(c.e.compareRangesUsingStarts),this._distributedPaste(e,t,n,s)):this._simplePaste(e,t,n,i,o)}static _goodIndentForLine(e,t,n){let i=null,r="";const s=(0,g.r7)(e.autoIndent,t,n,!1,e.languageConfigurationService);if(s)i=s.action,r=s.indentation;else if(n>1){let i;for(i=n-1;i>=1;i--){const e=t.getLineContent(i);if(o.ow(e)>=0)break}if(i<1)return null;const s=t.getLineMaxColumn(i),l=(0,C.A)(e.autoIndent,t,new c.e(i,s,i,s),e.languageConfigurationService);l&&(r=l.indentation+l.appendText)}return i&&(i===d.wU.Indent&&(r=p.shiftIndent(e,r)),i===d.wU.Outdent&&(r=p.unshiftIndent(e,r)),r=e.normalizeIndentation(r)),r||null}static _replaceJumpToNextIndent(e,t,n,i){let o="";const s=n.getStartPosition();if(e.insertSpaces){const n=e.visibleColumnFromColumn(t,s),i=e.indentSize,r=i-n%i;for(let e=0;e<r;e++)o+=" "}else o="\t";return new r.T4(n,o,i)}static tab(e,t,n){const i=[];for(let o=0,l=n.length;o<l;o++){const l=n[o];if(l.isEmpty()){const n=t.getLineContent(l.startLineNumber);if(/^\s*$/.test(n)&&t.tokenization.isCheapToTokenize(l.startLineNumber)){let s=this._goodIndentForLine(e,t,l.startLineNumber);s=s||"\t";const a=e.normalizeIndentation(s);if(!n.startsWith(a)){i[o]=new r.T4(new c.e(l.startLineNumber,1,l.startLineNumber,n.length+1),a,!0);continue}}i[o]=this._replaceJumpToNextIndent(e,t,l,!0)}else{if(l.startLineNumber===l.endLineNumber){const n=t.getLineMaxColumn(l.startLineNumber);if(1!==l.startColumn||l.endColumn!==n){i[o]=this._replaceJumpToNextIndent(e,t,l,!1);continue}}i[o]=new s.U(l,{isUnshift:!1,tabSize:e.tabSize,indentSize:e.indentSize,insertSpaces:e.insertSpaces,useTabStops:e.useTabStops,autoIndent:e.autoIndent},e.languageConfigurationService)}}return i}static compositionType(e,t,n,i,o,r,s,l){const u=i.map((e=>this._compositionType(n,e,o,r,s,l)));return new a.Tp(4,u,{shouldPushStackElementBefore:b(e,4),shouldPushStackElementAfter:!1})}static _compositionType(e,t,n,i,o,s){if(!t.isEmpty())return null;const l=t.getPosition(),a=Math.max(1,l.column-i),u=Math.min(e.getLineMaxColumn(l.lineNumber),l.column+o),m=new c.e(l.lineNumber,a,l.lineNumber,u);return e.getValueInRange(m)===n&&0===s?null:new r.Uo(m,n,0,s)}static _typeCommand(e,t,n){return n?new r.Sj(e,t,!0):new r.T4(e,t,!0)}static _enter(e,t,n,i){if(0===e.autoIndent)return p._typeCommand(i,"\n",n);if(!t.tokenization.isCheapToTokenize(i.getStartPosition().lineNumber)||1===e.autoIndent){const r=t.getLineContent(i.startLineNumber),s=o.V8(r).substring(0,i.startColumn-1);return p._typeCommand(i,"\n"+e.normalizeIndentation(s),n)}const s=(0,C.A)(e.autoIndent,t,i,e.languageConfigurationService);if(s){if(s.indentAction===d.wU.None)return p._typeCommand(i,"\n"+e.normalizeIndentation(s.indentation+s.appendText),n);if(s.indentAction===d.wU.Indent)return p._typeCommand(i,"\n"+e.normalizeIndentation(s.indentation+s.appendText),n);if(s.indentAction===d.wU.IndentOutdent){const t=e.normalizeIndentation(s.indentation),o=e.normalizeIndentation(s.indentation+s.appendText),l="\n"+o+"\n"+t;return n?new r.Sj(i,l,!0):new r.Uo(i,l,-1,o.length-t.length,!0)}if(s.indentAction===d.wU.Outdent){const t=p.unshiftIndent(e,s.indentation);return p._typeCommand(i,"\n"+e.normalizeIndentation(t+s.appendText),n)}}const l=t.getLineContent(i.startLineNumber),a=o.V8(l).substring(0,i.startColumn-1);if(e.autoIndent>=4){const s=(0,g.UF)(e.autoIndent,t,i,{unshiftIndent:t=>p.unshiftIndent(e,t),shiftIndent:t=>p.shiftIndent(e,t),normalizeIndentation:t=>e.normalizeIndentation(t)},e.languageConfigurationService);if(s){let l=e.visibleColumnFromColumn(t,i.getEndPosition());const a=i.endColumn,u=t.getLineContent(i.endLineNumber),c=o.LC(u);if(i=c>=0?i.setEndPosition(i.endLineNumber,Math.max(i.endColumn,c+1)):i.setEndPosition(i.endLineNumber,t.getLineMaxColumn(i.endLineNumber)),n)return new r.Sj(i,"\n"+e.normalizeIndentation(s.afterEnter),!0);{let t=0;return a<=c+1&&(e.insertSpaces||(l=Math.ceil(l/e.indentSize)),t=Math.min(l+1-e.normalizeIndentation(s.afterEnter).length-1,0)),new r.Uo(i,"\n"+e.normalizeIndentation(s.afterEnter),0,t,!0)}}}return p._typeCommand(i,"\n"+e.normalizeIndentation(a),n)}static _isAutoIndentType(e,t,n){if(e.autoIndent<4)return!1;for(let e=0,i=n.length;e<i;e++)if(!t.tokenization.isCheapToTokenize(n[e].getEndPosition().lineNumber))return!1;return!0}static _runAutoIndentType(e,t,n,i){const o=(0,h.u0)(t,n.startLineNumber,n.startColumn),r=(0,g.$9)(e.autoIndent,t,n,i,{shiftIndent:t=>p.shiftIndent(e,t),unshiftIndent:t=>p.unshiftIndent(e,t)},e.languageConfigurationService);if(null===r)return null;if(r!==e.normalizeIndentation(o)){const o=t.getLineFirstNonWhitespaceColumn(n.startLineNumber);return 0===o?p._typeCommand(new c.e(n.startLineNumber,1,n.endLineNumber,n.endColumn),e.normalizeIndentation(r)+i,!1):p._typeCommand(new c.e(n.startLineNumber,1,n.endLineNumber,n.endColumn),e.normalizeIndentation(r)+t.getLineContent(n.startLineNumber).substring(o-1,n.startColumn-1)+i,!1)}return null}static _isAutoClosingOvertype(e,t,n,i,o){if("never"===e.autoClosingOvertype)return!1;if(!e.autoClosingPairs.autoClosingPairsCloseSingleChar.has(o))return!1;for(let r=0,s=n.length;r<s;r++){const s=n[r];if(!s.isEmpty())return!1;const l=s.getPosition(),u=t.getLineContent(l.lineNumber);if(u.charAt(l.column-1)!==o)return!1;const c=(0,a.LN)(o);if(92===(l.column>2?u.charCodeAt(l.column-2):0)&&c)return!1;if("auto"===e.autoClosingOvertype){let e=!1;for(let t=0,n=i.length;t<n;t++){const n=i[t];if(l.lineNumber===n.startLineNumber&&l.column===n.startColumn){e=!0;break}}if(!e)return!1}}return!0}static _runAutoClosingOvertype(e,t,n,i,o){const s=[];for(let e=0,t=i.length;e<t;e++){const t=i[e].getPosition(),n=new c.e(t.lineNumber,t.column,t.lineNumber,t.column+1);s[e]=new r.T4(n,o)}return new a.Tp(4,s,{shouldPushStackElementBefore:b(e,4),shouldPushStackElementAfter:!1})}static _isBeforeClosingBrace(e,t){const n=t.charAt(0),i=e.autoClosingPairs.autoClosingPairsOpenByStart.get(n)||[],o=e.autoClosingPairs.autoClosingPairsCloseByStart.get(n)||[],r=i.some((e=>t.startsWith(e.open))),s=o.some((e=>t.startsWith(e.close)));return!r&&s}static _findAutoClosingPairOpen(e,t,n,i){const o=e.autoClosingPairs.autoClosingPairsOpenByEnd.get(i);if(!o)return null;let r=null;for(const e of o)if(null===r||e.open.length>r.open.length){let o=!0;for(const r of n){if(t.getValueInRange(new c.e(r.lineNumber,r.column-e.open.length+1,r.lineNumber,r.column))+i!==e.open){o=!1;break}}o&&(r=e)}return r}static _findContainedAutoClosingPair(e,t){if(t.open.length<=1)return null;const n=t.close.charAt(t.close.length-1),i=e.autoClosingPairs.autoClosingPairsCloseByEnd.get(n)||[];let o=null;for(const e of i)e.open!==t.open&&t.open.includes(e.open)&&t.close.endsWith(e.close)&&(!o||e.open.length>o.open.length)&&(o=e);return o}static _getAutoClosingPairClose(e,t,n,i,o){for(const e of n)if(!e.isEmpty())return null;const r=n.map((e=>{const t=e.getPosition();return o?{lineNumber:t.lineNumber,beforeColumn:t.column-i.length,afterColumn:t.column}:{lineNumber:t.lineNumber,beforeColumn:t.column,afterColumn:t.column}})),s=this._findAutoClosingPairOpen(e,t,r.map((e=>new m.L(e.lineNumber,e.beforeColumn))),i);if(!s)return null;let l,c;if((0,a.LN)(i))l=e.autoClosingQuotes,c=e.shouldAutoCloseBefore.quote;else{!!e.blockCommentStartToken&&s.open.includes(e.blockCommentStartToken)?(l=e.autoClosingComments,c=e.shouldAutoCloseBefore.comment):(l=e.autoClosingBrackets,c=e.shouldAutoCloseBefore.bracket)}if("never"===l)return null;const d=this._findContainedAutoClosingPair(e,s),h=d?d.close:"";let g=!0;for(const n of r){const{lineNumber:o,beforeColumn:r,afterColumn:a}=n,m=t.getLineContent(o),d=m.substring(0,r-1),C=m.substring(a-1);if(C.startsWith(h)||(g=!1),C.length>0){const t=C.charAt(0);if(!p._isBeforeClosingBrace(e,C)&&!c(t))return null}if(1===s.open.length&&("'"===i||'"'===i)&&"always"!==l){const t=(0,u.u)(e.wordSeparators,[]);if(d.length>0){const e=d.charCodeAt(d.length-1);if(0===t.get(e))return null}}if(!t.tokenization.isCheapToTokenize(o))return null;t.tokenization.forceTokenization(o);const L=t.tokenization.getLineTokens(o),w=(0,f.wH)(L,r-1);if(!s.shouldAutoClose(w,r-w.firstCharOffset))return null;const S=s.findNeutralCharacter();if(S){const e=t.tokenization.getTokenTypeIfInsertingCharacter(o,r,S);if(!s.isOK(e))return null}}return g?s.close.substring(0,s.close.length-h.length):s.close}static _runAutoClosingOpenCharType(e,t,n,i,o,r,s){const l=[];for(let e=0,t=i.length;e<t;e++){const t=i[e];l[e]=new L(t,o,!r,s)}return new a.Tp(4,l,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}static _shouldSurroundChar(e,t){return(0,a.LN)(t)?"quotes"===e.autoSurround||"languageDefined"===e.autoSurround:"brackets"===e.autoSurround||"languageDefined"===e.autoSurround}static _isSurroundSelectionType(e,t,n,i){if(!p._shouldSurroundChar(e,i)||!e.surroundingPairs.hasOwnProperty(i))return!1;const o=(0,a.LN)(i);for(const e of n){if(e.isEmpty())return!1;let n=!0;for(let i=e.startLineNumber;i<=e.endLineNumber;i++){const o=t.getLineContent(i),r=i===e.startLineNumber?e.startColumn-1:0,s=i===e.endLineNumber?e.endColumn-1:o.length,l=o.substring(r,s);if(/[^ \t]/.test(l)){n=!1;break}}if(n)return!1;if(o&&e.startLineNumber===e.endLineNumber&&e.startColumn+1===e.endColumn){const n=t.getValueInRange(e);if((0,a.LN)(n))return!1}}return!0}static _runSurroundSelectionType(e,t,n,i,o){const r=[];for(let e=0,n=i.length;e<n;e++){const n=i[e],s=t.surroundingPairs[o];r[e]=new l.F(n,o,s)}return new a.Tp(0,r,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}static _isTypeInterceptorElectricChar(e,t,n){return!(1!==n.length||!t.tokenization.isCheapToTokenize(n[0].getEndPosition().lineNumber))}static _typeInterceptorElectricChar(e,t,n,s,l){if(!t.electricChars.hasOwnProperty(l)||!s.isEmpty())return null;const u=s.getPosition();n.tokenization.forceTokenization(u.lineNumber);const m=n.tokenization.getLineTokens(u.lineNumber);let d;try{d=t.onElectricCharacter(l,m,u.column)}catch(e){return(0,i.dL)(e),null}if(!d)return null;if(d.matchOpenBracket){const i=(m.getLineContent()+l).lastIndexOf(d.matchOpenBracket)+1,s=n.bracketPairs.findMatchingBracketUp(d.matchOpenBracket,{lineNumber:u.lineNumber,column:i},500);if(s){if(s.startLineNumber===u.lineNumber)return null;const i=n.getLineContent(s.startLineNumber),m=o.V8(i),d=t.normalizeIndentation(m),h=n.getLineContent(u.lineNumber),f=n.getLineFirstNonWhitespaceColumn(u.lineNumber)||u.column,g=d+h.substring(f-1,u.column-1)+l,C=new c.e(u.lineNumber,1,u.lineNumber,u.column),p=new r.T4(C,g);return new a.Tp(S(g,e),[p],{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!0})}}return null}static compositionEndWithInterceptors(e,t,n,i,o,s){if(!i)return null;let u=null;for(const e of i)if(null===u)u=e.insertedText;else if(u!==e.insertedText)return null;if(!u||1!==u.length)return null;const m=u;let d=!1;for(const e of i)if(0!==e.deletedText.length){d=!0;break}if(d){if(!p._shouldSurroundChar(t,m)||!t.surroundingPairs.hasOwnProperty(m))return null;const e=(0,a.LN)(m);for(const t of i){if(0!==t.deletedSelectionStart||t.deletedSelectionEnd!==t.deletedText.length)return null;if(/^[ \t]+$/.test(t.deletedText))return null;if(e&&(0,a.LN)(t.deletedText))return null}const n=[];for(const e of o){if(!e.isEmpty())return null;n.push(e.getPosition())}if(n.length!==i.length)return null;const r=[];for(let e=0,o=n.length;e<o;e++)r.push(new l.K(n[e],i[e].deletedText,t.surroundingPairs[m]));return new a.Tp(4,r,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}if(this._isAutoClosingOvertype(t,n,o,s,m)){const e=o.map((e=>new r.T4(new c.e(e.positionLineNumber,e.positionColumn,e.positionLineNumber,e.positionColumn+1),"",!1)));return new a.Tp(4,e,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}const h=this._getAutoClosingPairClose(t,n,o,m,!0);return null!==h?this._runAutoClosingOpenCharType(e,t,n,o,m,!0,h):null}static typeWithInterceptors(e,t,n,i,o,s,l){if(!e&&"\n"===l){const e=[];for(let t=0,r=o.length;t<r;t++)e[t]=p._enter(n,i,!1,o[t]);return new a.Tp(4,e,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}if(!e&&this._isAutoIndentType(n,i,o)){const e=[];let t=!1;for(let r=0,s=o.length;r<s;r++)if(e[r]=this._runAutoIndentType(n,i,o[r],l),!e[r]){t=!0;break}if(!t)return new a.Tp(4,e,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}if(this._isAutoClosingOvertype(n,i,o,s,l))return this._runAutoClosingOvertype(t,n,i,o,l);if(!e){const e=this._getAutoClosingPairClose(n,i,o,l,!1);if(e)return this._runAutoClosingOpenCharType(t,n,i,o,l,!1,e)}if(!e&&this._isSurroundSelectionType(n,i,o,l))return this._runSurroundSelectionType(t,n,i,o,l);if(!e&&this._isTypeInterceptorElectricChar(n,i,o)){const e=this._typeInterceptorElectricChar(t,n,i,o[0],l);if(e)return e}const u=[];for(let e=0,t=o.length;e<t;e++)u[e]=new r.T4(o[e],l);const c=S(l,t);return new a.Tp(c,u,{shouldPushStackElementBefore:b(t,c),shouldPushStackElementAfter:!1})}static typeWithoutInterceptors(e,t,n,i,o){const s=[];for(let e=0,t=i.length;e<t;e++)s[e]=new r.T4(i[e],o);const l=S(o,e);return new a.Tp(l,s,{shouldPushStackElementBefore:b(e,l),shouldPushStackElementAfter:!1})}static lineInsertBefore(e,t,n){if(null===t||null===n)return[];const i=[];for(let o=0,s=n.length;o<s;o++){let s=n[o].positionLineNumber;if(1===s)i[o]=new r.Sj(new c.e(1,1,1,1),"\n");else{s--;const n=t.getLineMaxColumn(s);i[o]=this._enter(e,t,!1,new c.e(s,n,s,n))}}return i}static lineInsertAfter(e,t,n){if(null===t||null===n)return[];const i=[];for(let o=0,r=n.length;o<r;o++){const r=n[o].positionLineNumber,s=t.getLineMaxColumn(r);i[o]=this._enter(e,t,!1,new c.e(r,s,r,s))}return i}static lineBreakInsert(e,t,n){const i=[];for(let o=0,r=n.length;o<r;o++)i[o]=this._enter(e,t,!0,n[o]);return i}}class L extends r.Uo{constructor(e,t,n,i){super(e,(n?t:"")+i,0,-i.length),this._openCharacter=t,this._closeCharacter=i,this.closeCharacterRange=null,this.enclosingRange=null}computeCursorState(e,t){const n=t.getInverseEditOperations()[0].range;return this.closeCharacterRange=new c.e(n.startLineNumber,n.endColumn-this._closeCharacter.length,n.endLineNumber,n.endColumn),this.enclosingRange=new c.e(n.startLineNumber,n.endColumn-this._openCharacter.length-this._closeCharacter.length,n.endLineNumber,n.endColumn),super.computeCursorState(e,t)}}class w{constructor(e,t,n,i,o,r){this.deletedText=e,this.deletedSelectionStart=t,this.deletedSelectionEnd=n,this.insertedText=i,this.insertedSelectionStart=o,this.insertedSelectionEnd=r}}function S(e,t){return" "===e?5===t||6===t?6:5:4}function b(e,t){return!(!N(e)||N(t))||5!==e&&v(e)!==v(t)}function v(e){return 6===e||5===e?"space":e}function N(e){return 4===e||5===e||6===e}},92896:(e,t,n)=>{n.d(t,{L:()=>c,w:()=>u});var i=n(97295),o=n(55343),r=n(29436),s=n(24929),l=n(50187),a=n(24314);class u{static _createWord(e,t,n,i,o){return{start:i,end:o,wordType:t,nextCharClass:n}}static _createIntlWord(e,t){return{start:e.index,end:e.index+e.segment.length,wordType:1,nextCharClass:t}}static _findPreviousWordOnLine(e,t,n){const i=t.getLineContent(n.lineNumber);return this._doFindPreviousWordOnLine(i,e,n)}static _doFindPreviousWordOnLine(e,t,n){let i=0;const o=t.findPrevIntlWordBeforeOrAtOffset(e,n.column-2);for(let r=n.column-2;r>=0;r--){const n=e.charCodeAt(r),s=t.get(n);if(o&&r===o.index)return this._createIntlWord(o,s);if(0===s){if(2===i)return this._createWord(e,i,s,r+1,this._findEndOfWord(e,t,i,r+1));i=1}else if(2===s){if(1===i)return this._createWord(e,i,s,r+1,this._findEndOfWord(e,t,i,r+1));i=2}else if(1===s&&0!==i)return this._createWord(e,i,s,r+1,this._findEndOfWord(e,t,i,r+1))}return 0!==i?this._createWord(e,i,1,0,this._findEndOfWord(e,t,i,0)):null}static _findEndOfWord(e,t,n,i){const o=t.findNextIntlWordAtOrAfterOffset(e,i),r=e.length;for(let s=i;s<r;s++){const i=e.charCodeAt(s),r=t.get(i);if(o&&s===o.index+o.segment.length)return s;if(1===r)return s;if(1===n&&2===r)return s;if(2===n&&0===r)return s}return r}static _findNextWordOnLine(e,t,n){const i=t.getLineContent(n.lineNumber);return this._doFindNextWordOnLine(i,e,n)}static _doFindNextWordOnLine(e,t,n){let i=0;const o=e.length,r=t.findNextIntlWordAtOrAfterOffset(e,n.column-1);for(let s=n.column-1;s<o;s++){const n=e.charCodeAt(s),o=t.get(n);if(r&&s===r.index)return this._createIntlWord(r,o);if(0===o){if(2===i)return this._createWord(e,i,o,this._findStartOfWord(e,t,i,s-1),s);i=1}else if(2===o){if(1===i)return this._createWord(e,i,o,this._findStartOfWord(e,t,i,s-1),s);i=2}else if(1===o&&0!==i)return this._createWord(e,i,o,this._findStartOfWord(e,t,i,s-1),s)}return 0!==i?this._createWord(e,i,1,this._findStartOfWord(e,t,i,o-1),o):null}static _findStartOfWord(e,t,n,i){const o=t.findPrevIntlWordBeforeOrAtOffset(e,i);for(let r=i;r>=0;r--){const i=e.charCodeAt(r),s=t.get(i);if(o&&r===o.index)return r;if(1===s)return r+1;if(1===n&&2===s)return r+1;if(2===n&&0===s)return r+1}return 0}static moveWordLeft(e,t,n,i){let o=n.lineNumber,r=n.column;1===r&&o>1&&(o-=1,r=t.getLineMaxColumn(o));let s=u._findPreviousWordOnLine(e,t,new l.L(o,r));if(0===i)return new l.L(o,s?s.start+1:1);if(1===i)return s&&2===s.wordType&&s.end-s.start==1&&0===s.nextCharClass&&(s=u._findPreviousWordOnLine(e,t,new l.L(o,s.start+1))),new l.L(o,s?s.start+1:1);if(3===i){for(;s&&2===s.wordType;)s=u._findPreviousWordOnLine(e,t,new l.L(o,s.start+1));return new l.L(o,s?s.start+1:1)}return s&&r<=s.end+1&&(s=u._findPreviousWordOnLine(e,t,new l.L(o,s.start+1))),new l.L(o,s?s.end+1:1)}static _moveWordPartLeft(e,t){const n=t.lineNumber,o=e.getLineMaxColumn(n);if(1===t.column)return n>1?new l.L(n-1,e.getLineMaxColumn(n-1)):t;const r=e.getLineContent(n);for(let e=t.column-1;e>1;e--){const t=r.charCodeAt(e-2),s=r.charCodeAt(e-1);if(95===t&&95!==s)return new l.L(n,e);if(45===t&&45!==s)return new l.L(n,e);if((i.mK(t)||i.T5(t))&&i.df(s))return new l.L(n,e);if(i.df(t)&&i.df(s)&&e+1<o){const t=r.charCodeAt(e);if(i.mK(t)||i.T5(t))return new l.L(n,e)}}return new l.L(n,1)}static moveWordRight(e,t,n,i){let o=n.lineNumber,r=n.column,s=!1;r===t.getLineMaxColumn(o)&&o<t.getLineCount()&&(s=!0,o+=1,r=1);let a=u._findNextWordOnLine(e,t,new l.L(o,r));if(2===i)a&&2===a.wordType&&a.end-a.start==1&&0===a.nextCharClass&&(a=u._findNextWordOnLine(e,t,new l.L(o,a.end+1))),r=a?a.end+1:t.getLineMaxColumn(o);else if(3===i){for(s&&(r=0);a&&(2===a.wordType||a.start+1<=r);)a=u._findNextWordOnLine(e,t,new l.L(o,a.end+1));r=a?a.start+1:t.getLineMaxColumn(o)}else a&&!s&&r>=a.start+1&&(a=u._findNextWordOnLine(e,t,new l.L(o,a.end+1))),r=a?a.start+1:t.getLineMaxColumn(o);return new l.L(o,r)}static _moveWordPartRight(e,t){const n=t.lineNumber,o=e.getLineMaxColumn(n);if(t.column===o)return n<e.getLineCount()?new l.L(n+1,1):t;const r=e.getLineContent(n);for(let e=t.column+1;e<o;e++){const t=r.charCodeAt(e-2),s=r.charCodeAt(e-1);if(95!==t&&95===s)return new l.L(n,e);if(45!==t&&45===s)return new l.L(n,e);if((i.mK(t)||i.T5(t))&&i.df(s))return new l.L(n,e);if(i.df(t)&&i.df(s)&&e+1<o){const t=r.charCodeAt(e);if(i.mK(t)||i.T5(t))return new l.L(n,e)}}return new l.L(n,o)}static _deleteWordLeftWhitespace(e,t){const n=e.getLineContent(t.lineNumber),o=t.column-2,r=i.ow(n,o);return r+1<o?new a.e(t.lineNumber,r+2,t.lineNumber,t.column):null}static deleteWordLeft(e,t){const n=e.wordSeparators,i=e.model,o=e.selection,s=e.whitespaceHeuristics;if(!o.isEmpty())return o;if(r.A.isAutoClosingPairDelete(e.autoClosingDelete,e.autoClosingBrackets,e.autoClosingQuotes,e.autoClosingPairs.autoClosingPairsOpenByEnd,e.model,[e.selection],e.autoClosedCharacters)){const t=e.selection.getPosition();return new a.e(t.lineNumber,t.column-1,t.lineNumber,t.column+1)}const c=new l.L(o.positionLineNumber,o.positionColumn);let m=c.lineNumber,d=c.column;if(1===m&&1===d)return null;if(s){const e=this._deleteWordLeftWhitespace(i,c);if(e)return e}let h=u._findPreviousWordOnLine(n,i,c);return 0===t?h?d=h.start+1:d>1?d=1:(m--,d=i.getLineMaxColumn(m)):(h&&d<=h.end+1&&(h=u._findPreviousWordOnLine(n,i,new l.L(m,h.start+1))),h?d=h.end+1:d>1?d=1:(m--,d=i.getLineMaxColumn(m))),new a.e(m,d,c.lineNumber,c.column)}static deleteInsideWord(e,t,n){if(!n.isEmpty())return n;const i=new l.L(n.positionLineNumber,n.positionColumn),o=this._deleteInsideWordWhitespace(t,i);return o||this._deleteInsideWordDetermineDeleteRange(e,t,i)}static _charAtIsWhitespace(e,t){const n=e.charCodeAt(t);return 32===n||9===n}static _deleteInsideWordWhitespace(e,t){const n=e.getLineContent(t.lineNumber),i=n.length;if(0===i)return null;let o=Math.max(t.column-2,0);if(!this._charAtIsWhitespace(n,o))return null;let r=Math.min(t.column-1,i-1);if(!this._charAtIsWhitespace(n,r))return null;for(;o>0&&this._charAtIsWhitespace(n,o-1);)o--;for(;r+1<i&&this._charAtIsWhitespace(n,r+1);)r++;return new a.e(t.lineNumber,o+1,t.lineNumber,r+2)}static _deleteInsideWordDetermineDeleteRange(e,t,n){const i=t.getLineContent(n.lineNumber),o=i.length;if(0===o)return n.lineNumber>1?new a.e(n.lineNumber-1,t.getLineMaxColumn(n.lineNumber-1),n.lineNumber,1):n.lineNumber<t.getLineCount()?new a.e(n.lineNumber,1,n.lineNumber+1,1):new a.e(n.lineNumber,1,n.lineNumber,1);const r=e=>e.start+1<=n.column&&n.column<=e.end+1,s=(e,t)=>(e=Math.min(e,n.column),t=Math.max(t,n.column),new a.e(n.lineNumber,e,n.lineNumber,t)),l=e=>{let t=e.start+1,n=e.end+1,r=!1;for(;n-1<o&&this._charAtIsWhitespace(i,n-1);)r=!0,n++;if(!r)for(;t>1&&this._charAtIsWhitespace(i,t-2);)t--;return s(t,n)},c=u._findPreviousWordOnLine(e,t,n);if(c&&r(c))return l(c);const m=u._findNextWordOnLine(e,t,n);return m&&r(m)?l(m):c&&m?s(c.end+1,m.start+1):c?s(c.start+1,c.end+1):m?s(m.start+1,m.end+1):s(1,o+1)}static _deleteWordPartLeft(e,t){if(!t.isEmpty())return t;const n=t.getPosition(),i=u._moveWordPartLeft(e,n);return new a.e(n.lineNumber,n.column,i.lineNumber,i.column)}static _findFirstNonWhitespaceChar(e,t){const n=e.length;for(let i=t;i<n;i++){const t=e.charAt(i);if(" "!==t&&"\t"!==t)return i}return n}static _deleteWordRightWhitespace(e,t){const n=e.getLineContent(t.lineNumber),i=t.column-1,o=this._findFirstNonWhitespaceChar(n,i);return i+1<o?new a.e(t.lineNumber,t.column,t.lineNumber,o+1):null}static deleteWordRight(e,t){const n=e.wordSeparators,i=e.model,o=e.selection,r=e.whitespaceHeuristics;if(!o.isEmpty())return o;const s=new l.L(o.positionLineNumber,o.positionColumn);let c=s.lineNumber,m=s.column;const d=i.getLineCount(),h=i.getLineMaxColumn(c);if(c===d&&m===h)return null;if(r){const e=this._deleteWordRightWhitespace(i,s);if(e)return e}let f=u._findNextWordOnLine(n,i,s);return 2===t?f?m=f.end+1:m<h||c===d?m=h:(c++,f=u._findNextWordOnLine(n,i,new l.L(c,1)),m=f?f.start+1:i.getLineMaxColumn(c)):(f&&m>=f.start+1&&(f=u._findNextWordOnLine(n,i,new l.L(c,f.end+1))),f?m=f.start+1:m<h||c===d?m=h:(c++,f=u._findNextWordOnLine(n,i,new l.L(c,1)),m=f?f.start+1:i.getLineMaxColumn(c))),new a.e(c,m,s.lineNumber,s.column)}static _deleteWordPartRight(e,t){if(!t.isEmpty())return t;const n=t.getPosition(),i=u._moveWordPartRight(e,n);return new a.e(n.lineNumber,n.column,i.lineNumber,i.column)}static _createWordAtPosition(e,t,n){const i=new a.e(t,n.start+1,t,n.end+1);return{word:e.getValueInRange(i),startColumn:i.startColumn,endColumn:i.endColumn}}static getWordAtPosition(e,t,n,i){const o=(0,s.u)(t,n),r=u._findPreviousWordOnLine(o,e,i);if(r&&1===r.wordType&&r.start<=i.column-1&&i.column-1<=r.end)return u._createWordAtPosition(e,i.lineNumber,r);const l=u._findNextWordOnLine(o,e,i);return l&&1===l.wordType&&l.start<=i.column-1&&i.column-1<=l.end?u._createWordAtPosition(e,i.lineNumber,l):null}static word(e,t,n,i,r){const c=(0,s.u)(e.wordSeparators,e.wordSegmenterLocales),m=u._findPreviousWordOnLine(c,t,r),d=u._findNextWordOnLine(c,t,r);if(!i){let e,n;return m&&1===m.wordType&&m.start<=r.column-1&&r.column-1<=m.end?(e=m.start+1,n=m.end+1):d&&1===d.wordType&&d.start<=r.column-1&&r.column-1<=d.end?(e=d.start+1,n=d.end+1):(e=m?m.end+1:1,n=d?d.start+1:t.getLineMaxColumn(r.lineNumber)),new o.rS(new a.e(r.lineNumber,e,r.lineNumber,n),1,0,new l.L(r.lineNumber,n),0)}let h,f;m&&1===m.wordType&&m.start<r.column-1&&r.column-1<m.end?(h=m.start+1,f=m.end+1):d&&1===d.wordType&&d.start<r.column-1&&r.column-1<d.end?(h=d.start+1,f=d.end+1):(h=r.column,f=r.column);const g=r.lineNumber;let C;if(n.selectionStart.containsPosition(r))C=n.selectionStart.endColumn;else if(r.isBeforeOrEqual(n.selectionStart.getStartPosition())){C=h;const e=new l.L(g,C);n.selectionStart.containsPosition(e)&&(C=n.selectionStart.endColumn)}else{C=f;const e=new l.L(g,C);n.selectionStart.containsPosition(e)&&(C=n.selectionStart.startColumn)}return n.move(!0,g,C,0)}}class c extends u{static deleteWordPartLeft(e){const t=m([u.deleteWordLeft(e,0),u.deleteWordLeft(e,2),u._deleteWordPartLeft(e.model,e.selection)]);return t.sort(a.e.compareRangesUsingEnds),t[2]}static deleteWordPartRight(e){const t=m([u.deleteWordRight(e,0),u.deleteWordRight(e,2),u._deleteWordPartRight(e.model,e.selection)]);return t.sort(a.e.compareRangesUsingStarts),t[0]}static moveWordPartLeft(e,t,n){const i=m([u.moveWordLeft(e,t,n,0),u.moveWordLeft(e,t,n,2),u._moveWordPartLeft(t,n)]);return i.sort(l.L.compare),i[2]}static moveWordPartRight(e,t,n){const i=m([u.moveWordRight(e,t,n,0),u.moveWordRight(e,t,n,2),u._moveWordPartRight(t,n)]);return i.sort(l.L.compare),i[0]}}function m(e){return e.filter((e=>Boolean(e)))}}}]);