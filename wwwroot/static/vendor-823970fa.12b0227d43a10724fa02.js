"use strict";(self.webpackChunkui_react=self.webpackChunkui_react||[]).push([[6557],{84973:(t,e,n)=>{n.d(e,{Hf:()=>h,Qi:()=>c,RM:()=>a,Tx:()=>f,U:()=>r,dJ:()=>o,je:()=>d,pt:()=>u,sh:()=>i,tk:()=>l});var i,r,a,s=n(36248);!function(t){t[t.Left=1]="Left",t[t.Center=2]="Center",t[t.Right=4]="Right",t[t.Full=7]="Full"}(i||(i={})),function(t){t[t.Left=1]="Left",t[t.Center=2]="Center",t[t.Right=3]="Right"}(r||(r={})),function(t){t[t.Both=0]="Both",t[t.Right=1]="Right",t[t.Left=2]="Left",t[t.None=3]="None"}(a||(a={}));class o{get originalIndentSize(){return this._indentSizeIsTabSize?"tabSize":this.indentSize}constructor(t){this._textModelResolvedOptionsBrand=void 0,this.tabSize=Math.max(1,0|t.tabSize),"tabSize"===t.indentSize?(this.indentSize=this.tabSize,this._indentSizeIsTabSize=!0):(this.indentSize=Math.max(1,0|t.indentSize),this._indentSizeIsTabSize=!1),this.insertSpaces=Boolean(t.insertSpaces),this.defaultEOL=0|t.defaultEOL,this.trimAutoWhitespace=Boolean(t.trimAutoWhitespace),this.bracketPairColorizationOptions=t.bracketPairColorizationOptions}equals(t){return this.tabSize===t.tabSize&&this._indentSizeIsTabSize===t._indentSizeIsTabSize&&this.indentSize===t.indentSize&&this.insertSpaces===t.insertSpaces&&this.defaultEOL===t.defaultEOL&&this.trimAutoWhitespace===t.trimAutoWhitespace&&(0,s.fS)(this.bracketPairColorizationOptions,t.bracketPairColorizationOptions)}createChangeEvent(t){return{tabSize:this.tabSize!==t.tabSize,indentSize:this.indentSize!==t.indentSize,insertSpaces:this.insertSpaces!==t.insertSpaces,trimAutoWhitespace:this.trimAutoWhitespace!==t.trimAutoWhitespace}}}class l{constructor(t,e){this._findMatchBrand=void 0,this.range=t,this.matches=e}}function h(t){return t&&"function"==typeof t.read}class c{constructor(t,e,n,i,r,a){this.identifier=t,this.range=e,this.text=n,this.forceMoveMarkers=i,this.isAutoWhitespaceEdit=r,this._isTracked=a}}class f{constructor(t,e,n){this.regex=t,this.wordSeparators=e,this.simpleSearch=n}}class d{constructor(t,e,n){this.reverseEdits=t,this.changes=e,this.trimAutoWhitespaceLineNumbers=n}}function u(t){return!t.isTooLargeForSyncing()&&!t.isForSimpleWidget}},57351:(t,e,n)=>{n.d(e,{v:()=>r});var i=n(9488);class r{constructor(t){this._default=t,this._store=[]}get(t){return t<this._store.length?this._store[t]:this._default}set(t,e){for(;t>=this._store.length;)this._store[this._store.length]=this._default;this._store[t]=e}replace(t,e,n){if(t>=this._store.length)return;if(0===e)return void this.insert(t,n);if(0===n)return void this.delete(t,e);const i=this._store.slice(0,t),r=this._store.slice(t+e),a=function(t,e){const n=[];for(let i=0;i<t;i++)n[i]=e;return n}(n,this._default);this._store=i.concat(a,r)}delete(t,e){0===e||t>=this._store.length||this._store.splice(t,e)}insert(t,e){if(0===e||t>=this._store.length)return;const n=[];for(let t=0;t<e;t++)n[t]=this._default;this._store=(0,i.Zv)(this._store,t,n)}}},1516:(t,e,n)=>{n.d(e,{W:()=>d,l:()=>f});var i=n(35534),r=n(97295),a=n(7988),s=n(24314),o=n(94954),l=n(59616),h=n(65094),c=n(17301);class f extends o.U{constructor(t,e){super(),this.textModel=t,this.languageConfigurationService=e}getLanguageConfiguration(t){return this.languageConfigurationService.getLanguageConfiguration(t)}_computeIndentLevel(t){return(0,l.q)(this.textModel.getLineContent(t+1),this.textModel.getOptions().tabSize)}getActiveIndentGuide(t,e,n){this.assertNotDisposed();const i=this.textModel.getLineCount();if(t<1||t>i)throw new c.he("Illegal value for lineNumber");const r=this.getLanguageConfiguration(this.textModel.getLanguageId()).foldingRules,a=Boolean(r&&r.offSide);let s=-2,o=-1,l=-2,h=-1;const f=t=>{if(-1!==s&&(-2===s||s>t-1)){s=-1,o=-1;for(let e=t-2;e>=0;e--){const t=this._computeIndentLevel(e);if(t>=0){s=e,o=t;break}}}if(-2===l){l=-1,h=-1;for(let e=t;e<i;e++){const t=this._computeIndentLevel(e);if(t>=0){l=e,h=t;break}}}};let d=-2,u=-1,g=-2,p=-1;const m=t=>{if(-2===d){d=-1,u=-1;for(let e=t-2;e>=0;e--){const t=this._computeIndentLevel(e);if(t>=0){d=e,u=t;break}}}if(-1!==g&&(-2===g||g<t-1)){g=-1,p=-1;for(let e=t;e<i;e++){const t=this._computeIndentLevel(e);if(t>=0){g=e,p=t;break}}}};let b=0,L=!0,S=0,z=!0,C=0,v=0;for(let r=0;L||z;r++){const s=t-r,c=t+r;r>1&&(s<1||s<e)&&(L=!1),r>1&&(c>i||c>n)&&(z=!1),r>5e4&&(L=!1,z=!1);let g=-1;if(L&&s>=1){const t=this._computeIndentLevel(s-1);t>=0?(l=s-1,h=t,g=Math.ceil(t/this.textModel.getOptions().indentSize)):(f(s),g=this._getIndentLevelForWhitespaceLine(a,o,h))}let I=-1;if(z&&c<=i){const t=this._computeIndentLevel(c-1);t>=0?(d=c-1,u=t,I=Math.ceil(t/this.textModel.getOptions().indentSize)):(m(c),I=this._getIndentLevelForWhitespaceLine(a,u,p))}if(0!==r){if(1===r){if(c<=i&&I>=0&&v+1===I){L=!1,b=c,S=c,C=I;continue}if(s>=1&&g>=0&&g-1===v){z=!1,b=s,S=s,C=g;continue}if(b=t,S=t,C=v,0===C)return{startLineNumber:b,endLineNumber:S,indent:C}}L&&(g>=C?b=s:L=!1),z&&(I>=C?S=c:z=!1)}else v=g}return{startLineNumber:b,endLineNumber:S,indent:C}}getLinesBracketGuides(t,e,n,a){var o;const l=[];for(let n=t;n<=e;n++)l.push([]);const c=!0,f=this.textModel.bracketPairs.getBracketPairsInRangeWithMinIndentation(new s.e(t,1,e,this.textModel.getLineMaxColumn(e))).toArray();let u;if(n&&f.length>0){const r=(t<=n.lineNumber&&n.lineNumber<=e?f:this.textModel.bracketPairs.getBracketPairsInRange(s.e.fromPositions(n)).toArray()).filter((t=>s.e.strictContainsPosition(t.range,n)));u=null===(o=(0,i.dF)(r,(t=>c)))||void 0===o?void 0:o.range}const g=this.textModel.getOptions().bracketPairColorizationOptions.independentColorPoolPerBracketType,p=new d;for(const n of f){if(!n.closingBracketRange)continue;const i=u&&n.range.equalsRange(u);if(!i&&!a.includeInactive)continue;const s=p.getInlineClassName(n.nestingLevel,n.nestingLevelOfEqualBracketType,g)+(a.highlightActive&&i?" "+p.activeClassName:""),o=n.openingBracketRange.getStartPosition(),c=n.closingBracketRange.getStartPosition(),f=a.horizontalGuides===h.s6.Enabled||a.horizontalGuides===h.s6.EnabledForActive&&i;if(n.range.startLineNumber===n.range.endLineNumber){f&&l[n.range.startLineNumber-t].push(new h.UO(-1,n.openingBracketRange.getEndPosition().column,s,new h.vW(!1,c.column),-1,-1));continue}const d=this.getVisibleColumnFromPosition(c),m=this.getVisibleColumnFromPosition(n.openingBracketRange.getStartPosition()),b=Math.min(m,d,n.minVisibleColumnIndentation+1);let L=!1;r.LC(this.textModel.getLineContent(n.closingBracketRange.startLineNumber))<n.closingBracketRange.startColumn-1&&(L=!0);const S=Math.max(o.lineNumber,t),z=Math.min(c.lineNumber,e),C=L?1:0;for(let e=S;e<z+C;e++)l[e-t].push(new h.UO(b,-1,s,null,e===o.lineNumber?o.column:-1,e===c.lineNumber?c.column:-1));f&&(o.lineNumber>=t&&m>b&&l[o.lineNumber-t].push(new h.UO(b,-1,s,new h.vW(!1,o.column),-1,-1)),c.lineNumber<=e&&d>b&&l[c.lineNumber-t].push(new h.UO(b,-1,s,new h.vW(!L,c.column),-1,-1)))}for(const t of l)t.sort(((t,e)=>t.visibleColumn-e.visibleColumn));return l}getVisibleColumnFromPosition(t){return a.i.visibleColumnFromColumn(this.textModel.getLineContent(t.lineNumber),t.column,this.textModel.getOptions().tabSize)+1}getLinesIndentGuides(t,e){this.assertNotDisposed();const n=this.textModel.getLineCount();if(t<1||t>n)throw new Error("Illegal value for startLineNumber");if(e<1||e>n)throw new Error("Illegal value for endLineNumber");const i=this.textModel.getOptions(),r=this.getLanguageConfiguration(this.textModel.getLanguageId()).foldingRules,a=Boolean(r&&r.offSide),s=new Array(e-t+1);let o=-2,l=-1,h=-2,c=-1;for(let r=t;r<=e;r++){const e=r-t,f=this._computeIndentLevel(r-1);if(f>=0)o=r-1,l=f,s[e]=Math.ceil(f/i.indentSize);else{if(-2===o){o=-1,l=-1;for(let t=r-2;t>=0;t--){const e=this._computeIndentLevel(t);if(e>=0){o=t,l=e;break}}}if(-1!==h&&(-2===h||h<r-1)){h=-1,c=-1;for(let t=r;t<n;t++){const e=this._computeIndentLevel(t);if(e>=0){h=t,c=e;break}}}s[e]=this._getIndentLevelForWhitespaceLine(a,l,c)}}return s}_getIndentLevelForWhitespaceLine(t,e,n){const i=this.textModel.getOptions();return-1===e||-1===n?0:e<n?1+Math.floor(e/i.indentSize):e===n||t?Math.ceil(n/i.indentSize):1+Math.floor(n/i.indentSize)}}class d{constructor(){this.activeClassName="indent-active"}getInlineClassName(t,e,n){return this.getInlineClassNameOfLevel(n?e:t)}getInlineClassNameOfLevel(t){return"bracket-indent-guide lvl-"+t%30}}},13434:(t,e,n)=>{n.d(e,{L:()=>a});class i{constructor(){this.spacesDiff=0,this.looksLikeAlignment=!1}}function r(t,e,n,i,r){let a;for(r.spacesDiff=0,r.looksLikeAlignment=!1,a=0;a<e&&a<i;a++){if(t.charCodeAt(a)!==n.charCodeAt(a))break}let s=0,o=0;for(let n=a;n<e;n++){32===t.charCodeAt(n)?s++:o++}let l=0,h=0;for(let t=a;t<i;t++){32===n.charCodeAt(t)?l++:h++}if(s>0&&o>0)return;if(l>0&&h>0)return;const c=Math.abs(o-h),f=Math.abs(s-l);if(0===c)return r.spacesDiff=f,void(f>0&&0<=l-1&&l-1<t.length&&l<n.length&&32!==n.charCodeAt(l)&&32===t.charCodeAt(l-1)&&44===t.charCodeAt(t.length-1)&&(r.looksLikeAlignment=!0));f%c!=0||(r.spacesDiff=f/c)}function a(t,e,n){const a=Math.min(t.getLineCount(),1e4);let s=0,o=0,l="",h=0;const c=[2,4,6,8,3,5,7],f=[0,0,0,0,0,0,0,0,0],d=new i;for(let i=1;i<=a;i++){const a=t.getLineLength(i),c=t.getLineContent(i),u=a<=65536;let g=!1,p=0,m=0,b=0;for(let e=0,n=a;e<n;e++){const n=u?c.charCodeAt(e):t.getLineCharCode(i,e);if(9===n)b++;else{if(32!==n){g=!0,p=e;break}m++}}if(!g)continue;if(b>0?s++:m>1&&o++,r(l,h,c,p,d),d.looksLikeAlignment&&(!n||e!==d.spacesDiff))continue;const L=d.spacesDiff;L<=8&&f[L]++,l=c,h=p}let u=n;s!==o&&(u=s<o);let g=e;if(u){let t=u?0:.1*a;c.forEach((e=>{const n=f[e];n>t&&(t=n,g=e)})),4===g&&f[4]>0&&f[2]>0&&f[2]>=f[4]/2&&(g=2)}return{insertSpaces:u,tabSize:g}}},43465:(t,e,n)=>{function i(t){return(1&t.metadata)>>>0}function r(t,e){t.metadata=254&t.metadata|e}function a(t){return(2&t.metadata)>>>1==1}function s(t,e){t.metadata=253&t.metadata|(e?1:0)<<1}function o(t){return(4&t.metadata)>>>2==1}function l(t,e){t.metadata=251&t.metadata|(e?1:0)<<2}function h(t){return(64&t.metadata)>>>6==1}function c(t,e){t.metadata=191&t.metadata|(e?1:0)<<6}function f(t,e){t.metadata=231&t.metadata|e<<3}function d(t,e){t.metadata=223&t.metadata|(e?1:0)<<5}n.d(e,{IF:()=>p,fL:()=>u,sR:()=>N});class u{constructor(t,e,n){this.metadata=0,this.parent=this,this.left=this,this.right=this,r(this,1),this.start=e,this.end=n,this.delta=0,this.maxEnd=n,this.id=t,this.ownerId=0,this.options=null,l(this,!1),c(this,!1),f(this,1),d(this,!1),this.cachedVersionId=0,this.cachedAbsoluteStart=e,this.cachedAbsoluteEnd=n,this.range=null,s(this,!1)}reset(t,e,n,i){this.start=e,this.end=n,this.maxEnd=n,this.cachedVersionId=t,this.cachedAbsoluteStart=e,this.cachedAbsoluteEnd=n,this.range=i}setOptions(t){this.options=t;const e=this.options.className;l(this,"squiggly-error"===e||"squiggly-warning"===e||"squiggly-info"===e),c(this,null!==this.options.glyphMarginClassName),f(this,this.options.stickiness),d(this,this.options.collapseOnReplaceEdit)}setCachedOffsets(t,e,n){this.cachedVersionId!==n&&(this.range=null),this.cachedVersionId=n,this.cachedAbsoluteStart=t,this.cachedAbsoluteEnd=e}detach(){this.parent=null,this.left=null,this.right=null}}const g=new u(null,0,0);g.parent=g,g.left=g,g.right=g,r(g,0);class p{constructor(){this.root=g,this.requestNormalizeDelta=!1}intervalSearch(t,e,n,i,r,l){return this.root===g?[]:function(t,e,n,i,r,l,c){let f=t.root,d=0,u=0,p=0,m=0;const b=[];let L=0;for(;f!==g;)if(a(f))s(f.left,!1),s(f.right,!1),f===f.parent.right&&(d-=f.parent.delta),f=f.parent;else{if(!a(f.left)){if(u=d+f.maxEnd,u<e){s(f,!0);continue}if(f.left!==g){f=f.left;continue}}if(p=d+f.start,p>n)s(f,!0);else{if(m=d+f.end,m>=e){f.setCachedOffsets(p,m,l);let t=!0;i&&f.ownerId&&f.ownerId!==i&&(t=!1),r&&o(f)&&(t=!1),c&&!h(f)&&(t=!1),t&&(b[L++]=f)}s(f,!0),f.right===g||a(f.right)||(d+=f.delta,f=f.right)}}return s(t.root,!1),b}(this,t,e,n,i,r,l)}search(t,e,n,i){return this.root===g?[]:function(t,e,n,i,r){let l=t.root,c=0,f=0,d=0;const u=[];let p=0;for(;l!==g;){if(a(l)){s(l.left,!1),s(l.right,!1),l===l.parent.right&&(c-=l.parent.delta),l=l.parent;continue}if(l.left!==g&&!a(l.left)){l=l.left;continue}f=c+l.start,d=c+l.end,l.setCachedOffsets(f,d,i);let t=!0;e&&l.ownerId&&l.ownerId!==e&&(t=!1),n&&o(l)&&(t=!1),r&&!h(l)&&(t=!1),t&&(u[p++]=l),s(l,!0),l.right===g||a(l.right)||(c+=l.delta,l=l.right)}return s(t.root,!1),u}(this,t,e,n,i)}collectNodesFromOwner(t){return function(t,e){let n=t.root;const i=[];let r=0;for(;n!==g;)a(n)?(s(n.left,!1),s(n.right,!1),n=n.parent):n.left===g||a(n.left)?(n.ownerId===e&&(i[r++]=n),s(n,!0),n.right===g||a(n.right)||(n=n.right)):n=n.left;return s(t.root,!1),i}(this,t)}collectNodesPostOrder(){return function(t){let e=t.root;const n=[];let i=0;for(;e!==g;)a(e)?(s(e.left,!1),s(e.right,!1),e=e.parent):e.left===g||a(e.left)?e.right===g||a(e.right)?(n[i++]=e,s(e,!0)):e=e.right:e=e.left;return s(t.root,!1),n}(this)}insert(t){L(this,t),this._normalizeDeltaIfNecessary()}delete(t){S(this,t),this._normalizeDeltaIfNecessary()}resolveNode(t,e){const n=t;let i=0;for(;t!==this.root;)t===t.parent.right&&(i+=t.parent.delta),t=t.parent;const r=n.start+i,a=n.end+i;n.setCachedOffsets(r,a,e)}acceptReplace(t,e,n,i){const r=function(t,e,n){let i=t.root,r=0,o=0,l=0,h=0;const c=[];let f=0;for(;i!==g;)if(a(i))s(i.left,!1),s(i.right,!1),i===i.parent.right&&(r-=i.parent.delta),i=i.parent;else{if(!a(i.left)){if(o=r+i.maxEnd,o<e){s(i,!0);continue}if(i.left!==g){i=i.left;continue}}l=r+i.start,l>n?s(i,!0):(h=r+i.end,h>=e&&(i.setCachedOffsets(l,h,0),c[f++]=i),s(i,!0),i.right===g||a(i.right)||(r+=i.delta,i=i.right))}return s(t.root,!1),c}(this,t,t+e);for(let t=0,e=r.length;t<e;t++){S(this,r[t])}this._normalizeDeltaIfNecessary(),function(t,e,n,i){let r=t.root,o=0,l=0,h=0;const c=i-(n-e);for(;r!==g;)if(a(r))s(r.left,!1),s(r.right,!1),r===r.parent.right&&(o-=r.parent.delta),N(r),r=r.parent;else{if(!a(r.left)){if(l=o+r.maxEnd,l<e){s(r,!0);continue}if(r.left!==g){r=r.left;continue}}h=o+r.start,h>n?(r.start+=c,r.end+=c,r.delta+=c,(r.delta<-1073741824||r.delta>1073741824)&&(t.requestNormalizeDelta=!0),s(r,!0)):(s(r,!0),r.right===g||a(r.right)||(o+=r.delta,r=r.right))}s(t.root,!1)}(this,t,t+e,n),this._normalizeDeltaIfNecessary();for(let a=0,s=r.length;a<s;a++){const s=r[a];s.start=s.cachedAbsoluteStart,s.end=s.cachedAbsoluteEnd,b(s,t,t+e,n,i),s.maxEnd=s.end,L(this,s)}this._normalizeDeltaIfNecessary()}_normalizeDeltaIfNecessary(){this.requestNormalizeDelta&&(this.requestNormalizeDelta=!1,function(t){let e=t.root,n=0;for(;e!==g;)e.left===g||a(e.left)?e.right===g||a(e.right)?(e.start=n+e.start,e.end=n+e.end,e.delta=0,N(e),s(e,!0),s(e.left,!1),s(e.right,!1),e===e.parent.right&&(n-=e.parent.delta),e=e.parent):(n+=e.delta,e=e.right):e=e.left;s(t.root,!1)}(this))}}function m(t,e,n,i){return t<n||!(t>n)&&(1!==i&&(2===i||e))}function b(t,e,n,i,r){const a=function(t){return(24&t.metadata)>>>3}(t),s=0===a||2===a,o=1===a||2===a,l=n-e,h=i,c=Math.min(l,h),f=t.start;let d=!1;const u=t.end;let g=!1;e<=f&&u<=n&&function(t){return(32&t.metadata)>>>5==1}(t)&&(t.start=e,d=!0,t.end=e,g=!0);{const t=r?1:l>0?2:0;!d&&m(f,s,e,t)&&(d=!0),!g&&m(u,o,e,t)&&(g=!0)}if(c>0&&!r){const t=l>h?2:0;!d&&m(f,s,e+c,t)&&(d=!0),!g&&m(u,o,e+c,t)&&(g=!0)}{const i=r?1:0;!d&&m(f,s,n,i)&&(t.start=e+h,d=!0),!g&&m(u,o,n,i)&&(t.end=e+h,g=!0)}const p=h-l;d||(t.start=Math.max(0,f+p)),g||(t.end=Math.max(0,u+p)),t.start>t.end&&(t.end=t.start)}function L(t,e){if(t.root===g)return e.parent=g,e.left=g,e.right=g,r(e,0),t.root=e,t.root;!function(t,e){let n=0,i=t.root;const a=e.start,s=e.end;for(;;){if(k(a,s,i.start+n,i.end+n)<0){if(i.left===g){e.start-=n,e.end-=n,e.maxEnd-=n,i.left=e;break}i=i.left}else{if(i.right===g){e.start-=n+i.delta,e.end-=n+i.delta,e.maxEnd-=n+i.delta,i.right=e;break}n+=i.delta,i=i.right}}e.parent=i,e.left=g,e.right=g,r(e,1)}(t,e),_(e.parent);let n=e;for(;n!==t.root&&1===i(n.parent);)if(n.parent===n.parent.parent.left){const e=n.parent.parent.right;1===i(e)?(r(n.parent,0),r(e,0),r(n.parent.parent,1),n=n.parent.parent):(n===n.parent.right&&(n=n.parent,C(t,n)),r(n.parent,0),r(n.parent.parent,1),v(t,n.parent.parent))}else{const e=n.parent.parent.left;1===i(e)?(r(n.parent,0),r(e,0),r(n.parent.parent,1),n=n.parent.parent):(n===n.parent.left&&(n=n.parent,v(t,n)),r(n.parent,0),r(n.parent.parent,1),C(t,n.parent.parent))}return r(t.root,0),e}function S(t,e){let n,a;if(e.left===g?(n=e.right,a=e,n.delta+=e.delta,(n.delta<-1073741824||n.delta>1073741824)&&(t.requestNormalizeDelta=!0),n.start+=e.delta,n.end+=e.delta):e.right===g?(n=e.left,a=e):(a=function(t){for(;t.left!==g;)t=t.left;return t}(e.right),n=a.right,n.start+=a.delta,n.end+=a.delta,n.delta+=a.delta,(n.delta<-1073741824||n.delta>1073741824)&&(t.requestNormalizeDelta=!0),a.start+=e.delta,a.end+=e.delta,a.delta=e.delta,(a.delta<-1073741824||a.delta>1073741824)&&(t.requestNormalizeDelta=!0)),a===t.root)return t.root=n,r(n,0),e.detach(),z(),N(n),void(t.root.parent=g);const s=1===i(a);if(a===a.parent.left?a.parent.left=n:a.parent.right=n,a===e?n.parent=a.parent:(a.parent===e?n.parent=a:n.parent=a.parent,a.left=e.left,a.right=e.right,a.parent=e.parent,r(a,i(e)),e===t.root?t.root=a:e===e.parent.left?e.parent.left=a:e.parent.right=a,a.left!==g&&(a.left.parent=a),a.right!==g&&(a.right.parent=a)),e.detach(),s)return _(n.parent),a!==e&&(_(a),_(a.parent)),void z();let o;for(_(n),_(n.parent),a!==e&&(_(a),_(a.parent));n!==t.root&&0===i(n);)n===n.parent.left?(o=n.parent.right,1===i(o)&&(r(o,0),r(n.parent,1),C(t,n.parent),o=n.parent.right),0===i(o.left)&&0===i(o.right)?(r(o,1),n=n.parent):(0===i(o.right)&&(r(o.left,0),r(o,1),v(t,o),o=n.parent.right),r(o,i(n.parent)),r(n.parent,0),r(o.right,0),C(t,n.parent),n=t.root)):(o=n.parent.left,1===i(o)&&(r(o,0),r(n.parent,1),v(t,n.parent),o=n.parent.left),0===i(o.left)&&0===i(o.right)?(r(o,1),n=n.parent):(0===i(o.left)&&(r(o.right,0),r(o,1),C(t,o),o=n.parent.left),r(o,i(n.parent)),r(n.parent,0),r(o.left,0),v(t,n.parent),n=t.root));r(n,0),z()}function z(){g.parent=g,g.delta=0,g.start=0,g.end=0}function C(t,e){const n=e.right;n.delta+=e.delta,(n.delta<-1073741824||n.delta>1073741824)&&(t.requestNormalizeDelta=!0),n.start+=e.delta,n.end+=e.delta,e.right=n.left,n.left!==g&&(n.left.parent=e),n.parent=e.parent,e.parent===g?t.root=n:e===e.parent.left?e.parent.left=n:e.parent.right=n,n.left=e,e.parent=n,N(e),N(n)}function v(t,e){const n=e.left;e.delta-=n.delta,(e.delta<-1073741824||e.delta>1073741824)&&(t.requestNormalizeDelta=!0),e.start-=n.delta,e.end-=n.delta,e.left=n.right,n.right!==g&&(n.right.parent=e),n.parent=e.parent,e.parent===g?t.root=n:e===e.parent.right?e.parent.right=n:e.parent.left=n,n.right=e,e.parent=n,N(e),N(n)}function I(t){let e=t.end;if(t.left!==g){const n=t.left.maxEnd;n>e&&(e=n)}if(t.right!==g){const n=t.right.maxEnd+t.delta;n>e&&(e=n)}return e}function N(t){t.maxEnd=I(t)}function _(t){for(;t!==g;){const e=I(t);if(t.maxEnd===e)return;t.maxEnd=e,t=t.parent}}function k(t,e,n,i){return t===n?e-i:t-n}}}]);