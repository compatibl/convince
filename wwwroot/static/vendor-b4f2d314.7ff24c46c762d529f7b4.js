"use strict";(self.webpackChunkui_react=self.webpackChunkui_react||[]).push([[2258],{55833:(e,t,i)=>{var o=i(16268),n=i(65321),r=i(1432),s=i(35715),a=i(16830),c=i(11640),d=i(29102),l=i(24954),u=i(63580),h=i(84144),g=i(84972),p=i(93983);const f="9_cutcopypaste",m=r.tY||document.queryCommandSupported("cut"),v=r.tY||document.queryCommandSupported("copy"),A=void 0!==navigator.clipboard&&!o.vU||document.queryCommandSupported("paste");function b(e){return e.register(),e}const y=m?b(new a.AJ({id:"editor.action.clipboardCutAction",precondition:void 0,kbOpts:r.tY?{primary:2102,win:{primary:2102,secondary:[1044]},weight:100}:void 0,menuOpts:[{menuId:h.eH.MenubarEditMenu,group:"2_ccp",title:u.NC({key:"miCut",comment:["&& denotes a mnemonic"]},"Cu&&t"),order:1},{menuId:h.eH.EditorContext,group:f,title:u.NC("actions.clipboard.cutLabel","Cut"),when:d.u.writable,order:1},{menuId:h.eH.CommandPalette,group:"",title:u.NC("actions.clipboard.cutLabel","Cut"),order:1},{menuId:h.eH.SimpleEditorContext,group:f,title:u.NC("actions.clipboard.cutLabel","Cut"),when:d.u.writable,order:1}]})):void 0,C=v?b(new a.AJ({id:"editor.action.clipboardCopyAction",precondition:void 0,kbOpts:r.tY?{primary:2081,win:{primary:2081,secondary:[2067]},weight:100}:void 0,menuOpts:[{menuId:h.eH.MenubarEditMenu,group:"2_ccp",title:u.NC({key:"miCopy",comment:["&& denotes a mnemonic"]},"&&Copy"),order:2},{menuId:h.eH.EditorContext,group:f,title:u.NC("actions.clipboard.copyLabel","Copy"),order:2},{menuId:h.eH.CommandPalette,group:"",title:u.NC("actions.clipboard.copyLabel","Copy"),order:1},{menuId:h.eH.SimpleEditorContext,group:f,title:u.NC("actions.clipboard.copyLabel","Copy"),order:2}]})):void 0;h.BH.appendMenuItem(h.eH.MenubarEditMenu,{submenu:h.eH.MenubarCopy,title:u.vv("copy as","Copy As"),group:"2_ccp",order:3}),h.BH.appendMenuItem(h.eH.EditorContext,{submenu:h.eH.EditorContextCopy,title:u.vv("copy as","Copy As"),group:f,order:3}),h.BH.appendMenuItem(h.eH.EditorContext,{submenu:h.eH.EditorContextShare,title:u.vv("share","Share"),group:"11_share",order:-1,when:p.Ao.and(p.Ao.notEquals("resourceScheme","output"),d.u.editorTextFocus)}),h.BH.appendMenuItem(h.eH.ExplorerContext,{submenu:h.eH.ExplorerContextShare,title:u.vv("share","Share"),group:"11_share",order:-1});const _=A?b(new a.AJ({id:"editor.action.clipboardPasteAction",precondition:void 0,kbOpts:r.tY?{primary:2100,win:{primary:2100,secondary:[1043]},linux:{primary:2100,secondary:[1043]},weight:100}:void 0,menuOpts:[{menuId:h.eH.MenubarEditMenu,group:"2_ccp",title:u.NC({key:"miPaste",comment:["&& denotes a mnemonic"]},"&&Paste"),order:4},{menuId:h.eH.EditorContext,group:f,title:u.NC("actions.clipboard.pasteLabel","Paste"),when:d.u.writable,order:4},{menuId:h.eH.CommandPalette,group:"",title:u.NC("actions.clipboard.pasteLabel","Paste"),order:1},{menuId:h.eH.SimpleEditorContext,group:f,title:u.NC("actions.clipboard.pasteLabel","Paste"),when:d.u.writable,order:4}]})):void 0;class w extends a.R6{constructor(){super({id:"editor.action.clipboardCopyWithSyntaxHighlightingAction",label:u.NC("actions.clipboard.copyWithSyntaxHighlightingLabel","Copy With Syntax Highlighting"),alias:"Copy With Syntax Highlighting",precondition:void 0,kbOpts:{kbExpr:d.u.textInputFocus,primary:0,weight:100}})}run(e,t){if(!t.hasModel())return;!t.getOption(37)&&t.getSelection().isEmpty()||(s.RA.forceCopyWithSyntaxHighlighting=!0,t.focus(),t.getContainerDomNode().ownerDocument.execCommand("copy"),s.RA.forceCopyWithSyntaxHighlighting=!1)}}function x(e,t){e&&(e.addImplementation(1e4,"code-editor",((e,i)=>{const o=e.get(c.$).getFocusedCodeEditor();if(o&&o.hasTextFocus()){const e=o.getOption(37),i=o.getSelection();return i&&i.isEmpty()&&!e||o.getContainerDomNode().ownerDocument.execCommand(t),!0}return!1})),e.addImplementation(0,"generic-dom",((e,i)=>((0,n.uP)().execCommand(t),!0))))}x(y,"cut"),x(C,"copy"),_&&(_.addImplementation(1e4,"code-editor",((e,t)=>{var i,o;const n=e.get(c.$),a=e.get(g.p),d=n.getFocusedCodeEditor();if(d&&d.hasTextFocus()){return d.getContainerDomNode().ownerDocument.execCommand("paste")?null!==(o=null===(i=l.bO.get(d))||void 0===i?void 0:i.finishedPaste())&&void 0!==o?o:Promise.resolve():!r.$L||(async()=>{const e=await a.readText();if(""!==e){const t=s.Nl.INSTANCE.get(e);let i=!1,o=null,n=null;t&&(i=d.getOption(37)&&!!t.isFromEmptySelection,o=void 0!==t.multicursorText?t.multicursorText:null,n=t.mode),d.trigger("keyboard","paste",{text:e,pasteOnNewLine:i,multicursorText:o,mode:n})}})()}return!1})),_.addImplementation(0,"generic-dom",((e,t)=>((0,n.uP)().execCommand("paste"),!0)))),v&&(0,a.Qr)(w)},75396:(e,t,i)=>{i.d(t,{Bb:()=>x,LR:()=>R,MN:()=>N,RB:()=>C,TM:()=>S,UX:()=>L,aI:()=>P,cz:()=>_,pZ:()=>w,uH:()=>k});var o=i(9488),n=i(71050),r=i(17301),s=i(5976),a=i(70666),c=i(66007),d=i(24314),l=i(3860),u=i(71922),h=i(73733),g=i(16467),p=i(63580),f=i(94565),m=i(59422),v=i(90535),A=i(10829),b=i(87997),y=i(85373);const C="editor.action.codeAction",_="editor.action.quickFix",w="editor.action.autoFix",x="editor.action.refactor",N="editor.action.sourceAction",k="editor.action.organizeImports",S="editor.action.fixAll";class I extends s.JT{static codeActionsPreferredComparator(e,t){return e.isPreferred&&!t.isPreferred?-1:!e.isPreferred&&t.isPreferred?1:0}static codeActionsComparator({action:e},{action:t}){return e.isAI&&!t.isAI?1:!e.isAI&&t.isAI?-1:(0,o.Of)(e.diagnostics)?(0,o.Of)(t.diagnostics)?I.codeActionsPreferredComparator(e,t):-1:(0,o.Of)(t.diagnostics)?1:I.codeActionsPreferredComparator(e,t)}constructor(e,t,i){super(),this.documentation=t,this._register(i),this.allActions=[...e].sort(I.codeActionsComparator),this.validActions=this.allActions.filter((({action:e})=>!e.disabled))}get hasAutoFix(){return this.validActions.some((({action:e})=>!!e.kind&&b.yN.QuickFix.contains(new y.o(e.kind))&&!!e.isPreferred))}get hasAIFix(){return this.validActions.some((({action:e})=>!!e.isAI))}get allAIFixes(){return this.validActions.every((({action:e})=>!!e.isAI))}}const F={actions:[],documentation:void 0};async function P(e,t,i,n,a,c){var d;const l=n.filter||{},u={...l,excludes:[...l.excludes||[],b.yN.Notebook]},h={only:null===(d=l.include)||void 0===d?void 0:d.value,trigger:n.type},p=new g.YQ(t,c),f=2===n.type,m=function(e,t,i){return e.all(t).filter((e=>!e.providedCodeActionKinds||e.providedCodeActionKinds.some((e=>(0,b.EU)(i,new y.o(e))))))}(e,t,f?u:l),v=new s.SL,A=m.map((async e=>{try{a.report(e);const o=await e.provideCodeActions(t,i,h,p.token);if(o&&v.add(o),p.token.isCancellationRequested)return F;const n=((null==o?void 0:o.actions)||[]).filter((e=>e&&(0,b.Yl)(l,e))),r=function(e,t,i){if(!e.documentation)return;const o=e.documentation.map((e=>({kind:new y.o(e.kind),command:e.command})));if(i){let e;for(const t of o)t.kind.contains(i)&&(e?e.kind.contains(t.kind)&&(e=t):e=t);if(e)return null==e?void 0:e.command}for(const e of t)if(e.kind)for(const t of o)if(t.kind.contains(new y.o(e.kind)))return t.command;return}(e,n,l.include);return{actions:n.map((t=>new b.bA(t,e))),documentation:r}}catch(e){if((0,r.n2)(e))throw e;return(0,r.Cp)(e),F}})),C=e.onDidChange((()=>{const i=e.all(t);(0,o.fS)(i,m)||p.cancel()}));try{const i=await Promise.all(A),r=i.map((e=>e.actions)).flat(),s=[...(0,o.kX)(i.map((e=>e.documentation))),...M(e,t,n,r)];return new I(r,s,v)}finally{C.dispose(),p.dispose()}}function*M(e,t,i,o){var n,r,s;if(t&&o.length)for(const a of e.all(t))a._getAdditionalMenuItems&&(yield*null===(n=a._getAdditionalMenuItems)||void 0===n?void 0:n.call(a,{trigger:i.type,only:null===(s=null===(r=i.filter)||void 0===r?void 0:r.include)||void 0===s?void 0:s.value},o.map((e=>e.action))))}var L;async function R(e,t,i,o,r=n.Ts.None){var s;const a=e.get(c.vu),d=e.get(f.H),l=e.get(A.b),u=e.get(m.lT);if(l.publicLog2("codeAction.applyCodeAction",{codeActionTitle:t.action.title,codeActionKind:t.action.kind,codeActionIsPreferred:!!t.action.isPreferred,reason:i}),await t.resolve(r),!r.isCancellationRequested){if(null===(s=t.action.edit)||void 0===s?void 0:s.edits.length){if(!(await a.apply(t.action.edit,{editor:null==o?void 0:o.editor,label:t.action.title,quotableLabel:t.action.title,code:"undoredo.codeAction",respectAutoSaveConfig:i!==L.OnSave,showPreview:null==o?void 0:o.preview})).isApplied)return}if(t.action.command)try{await d.executeCommand(t.action.command.id,...t.action.command.arguments||[])}catch(e){const t=function(e){return"string"==typeof e?e:e instanceof Error&&"string"==typeof e.message?e.message:void 0}(e);u.error("string"==typeof t?t:p.NC("applyCodeActionFailed","An unknown error occurred while applying the code action"))}}}!function(e){e.OnSave="onSave",e.FromProblemsView="fromProblemsView",e.FromCodeActions="fromCodeActions",e.FromAILightbulb="fromAILightbulb"}(L||(L={})),f.P.registerCommand("_executeCodeActionProvider",(async function(e,t,i,o,s){if(!(t instanceof a.o))throw(0,r.b1)();const{codeActionProvider:c}=e.get(u.p),g=e.get(h.q).getModel(t);if(!g)throw(0,r.b1)();const p=l.Y.isISelection(i)?l.Y.liftSelection(i):d.e.isIRange(i)?g.validateRange(i):void 0;if(!p)throw(0,r.b1)();const f="string"==typeof o?new y.o(o):void 0,m=await P(c,g,p,{type:1,triggerAction:b.aQ.Default,filter:{includeSourceActions:!0,include:f}},v.Ex.None,n.Ts.None),A=[],C=Math.min(m.validActions.length,"number"==typeof s?s:0);for(let e=0;e<C;e++)A.push(m.validActions[e].resolve(n.Ts.None));try{return await Promise.all(A),m.validActions.map((e=>e.action))}finally{setTimeout((()=>m.dispose()),100)}}))},51925:(e,t,i)=>{var o=i(16830),n=i(800),r=i(85373),s=i(97295),a=i(29102),c=i(75396),d=i(63580),l=i(93983),u=i(87997),h=i(38869),g=i(17016);function p(e){return l.Ao.regex(g.fj.keys()[0],new RegExp("(\\s|^)"+(0,s.ec)(e.value)+"\\b"))}const f={type:"object",defaultSnippets:[{body:{kind:""}}],properties:{kind:{type:"string",description:d.NC("args.schema.kind","Kind of the code action to run.")},apply:{type:"string",description:d.NC("args.schema.apply","Controls when the returned actions are applied."),default:"ifSingle",enum:["first","ifSingle","never"],enumDescriptions:[d.NC("args.schema.apply.first","Always apply the first returned code action."),d.NC("args.schema.apply.ifSingle","Apply the first returned code action if it is the only one."),d.NC("args.schema.apply.never","Do not apply the returned code actions.")]},preferred:{type:"boolean",default:!1,description:d.NC("args.schema.preferred","Controls if only preferred code actions should be returned.")}}};function m(e,t,i,o,n=u.aQ.Default){if(e.hasModel()){const r=h.G.get(e);null==r||r.manualTriggerAtCurrentPosition(t,n,i,o)}}class v extends o.R6{constructor(){super({id:c.cz,label:d.NC("quickfix.trigger.label","Quick Fix..."),alias:"Quick Fix...",precondition:l.Ao.and(a.u.writable,a.u.hasCodeActionsProvider),kbOpts:{kbExpr:a.u.textInputFocus,primary:2137,weight:100}})}run(e,t){return m(t,d.NC("editor.action.quickFix.noneMessage","No code actions available"),void 0,void 0,u.aQ.QuickFix)}}class A extends o._l{constructor(){super({id:c.RB,precondition:l.Ao.and(a.u.writable,a.u.hasCodeActionsProvider),metadata:{description:"Trigger a code action",args:[{name:"args",schema:f}]}})}runEditorCommand(e,t,i){const o=u.wZ.fromUser(i,{kind:r.o.Empty,apply:"ifSingle"});return m(t,"string"==typeof(null==i?void 0:i.kind)?o.preferred?d.NC("editor.action.codeAction.noneMessage.preferred.kind","No preferred code actions for '{0}' available",i.kind):d.NC("editor.action.codeAction.noneMessage.kind","No code actions for '{0}' available",i.kind):o.preferred?d.NC("editor.action.codeAction.noneMessage.preferred","No preferred code actions available"):d.NC("editor.action.codeAction.noneMessage","No code actions available"),{include:o.kind,includeSourceActions:!0,onlyIncludePreferredActions:o.preferred},o.apply)}}class b extends o.R6{constructor(){super({id:c.Bb,label:d.NC("refactor.label","Refactor..."),alias:"Refactor...",precondition:l.Ao.and(a.u.writable,a.u.hasCodeActionsProvider),kbOpts:{kbExpr:a.u.textInputFocus,primary:3120,mac:{primary:1328},weight:100},contextMenuOpts:{group:"1_modification",order:2,when:l.Ao.and(a.u.writable,p(u.yN.Refactor))},metadata:{description:"Refactor...",args:[{name:"args",schema:f}]}})}run(e,t,i){const o=u.wZ.fromUser(i,{kind:u.yN.Refactor,apply:"never"});return m(t,"string"==typeof(null==i?void 0:i.kind)?o.preferred?d.NC("editor.action.refactor.noneMessage.preferred.kind","No preferred refactorings for '{0}' available",i.kind):d.NC("editor.action.refactor.noneMessage.kind","No refactorings for '{0}' available",i.kind):o.preferred?d.NC("editor.action.refactor.noneMessage.preferred","No preferred refactorings available"):d.NC("editor.action.refactor.noneMessage","No refactorings available"),{include:u.yN.Refactor.contains(o.kind)?o.kind:r.o.None,onlyIncludePreferredActions:o.preferred},o.apply,u.aQ.Refactor)}}class y extends o.R6{constructor(){super({id:c.MN,label:d.NC("source.label","Source Action..."),alias:"Source Action...",precondition:l.Ao.and(a.u.writable,a.u.hasCodeActionsProvider),contextMenuOpts:{group:"1_modification",order:2.1,when:l.Ao.and(a.u.writable,p(u.yN.Source))},metadata:{description:"Source Action...",args:[{name:"args",schema:f}]}})}run(e,t,i){const o=u.wZ.fromUser(i,{kind:u.yN.Source,apply:"never"});return m(t,"string"==typeof(null==i?void 0:i.kind)?o.preferred?d.NC("editor.action.source.noneMessage.preferred.kind","No preferred source actions for '{0}' available",i.kind):d.NC("editor.action.source.noneMessage.kind","No source actions for '{0}' available",i.kind):o.preferred?d.NC("editor.action.source.noneMessage.preferred","No preferred source actions available"):d.NC("editor.action.source.noneMessage","No source actions available"),{include:u.yN.Source.contains(o.kind)?o.kind:r.o.None,includeSourceActions:!0,onlyIncludePreferredActions:o.preferred},o.apply,u.aQ.SourceAction)}}class C extends o.R6{constructor(){super({id:c.uH,label:d.NC("organizeImports.label","Organize Imports"),alias:"Organize Imports",precondition:l.Ao.and(a.u.writable,p(u.yN.SourceOrganizeImports)),kbOpts:{kbExpr:a.u.textInputFocus,primary:1581,weight:100}})}run(e,t){return m(t,d.NC("editor.action.organize.noneMessage","No organize imports action available"),{include:u.yN.SourceOrganizeImports,includeSourceActions:!0},"ifSingle",u.aQ.OrganizeImports)}}class _ extends o.R6{constructor(){super({id:c.TM,label:d.NC("fixAll.label","Fix All"),alias:"Fix All",precondition:l.Ao.and(a.u.writable,p(u.yN.SourceFixAll))})}run(e,t){return m(t,d.NC("fixAll.noneMessage","No fix all action available"),{include:u.yN.SourceFixAll,includeSourceActions:!0},"ifSingle",u.aQ.FixAll)}}class w extends o.R6{constructor(){super({id:c.pZ,label:d.NC("autoFix.label","Auto Fix..."),alias:"Auto Fix...",precondition:l.Ao.and(a.u.writable,p(u.yN.QuickFix)),kbOpts:{kbExpr:a.u.textInputFocus,primary:1625,mac:{primary:2649},weight:100}})}run(e,t){return m(t,d.NC("editor.action.autoFix.noneMessage","No auto fixes available"),{include:u.yN.QuickFix,onlyIncludePreferredActions:!0},"ifSingle",u.aQ.AutoFix)}}var x=i(86490),N=i(23193),k=i(89872);(0,o._K)(h.G.ID,h.G,3),(0,o._K)(x.f.ID,x.f,4),(0,o.Qr)(v),(0,o.Qr)(b),(0,o.Qr)(y),(0,o.Qr)(C),(0,o.Qr)(w),(0,o.Qr)(_),(0,o.fK)(new A),k.B.as(N.IP.Configuration).registerConfiguration({...n.wk,properties:{"editor.codeActionWidget.showHeaders":{type:"boolean",scope:5,description:d.NC("showCodeActionHeaders","Enable/disable showing group headers in the Code Action menu."),default:!0}}}),k.B.as(N.IP.Configuration).registerConfiguration({...n.wk,properties:{"editor.codeActionWidget.includeNearbyQuickFixes":{type:"boolean",scope:5,description:d.NC("includeNearbyQuickFixes","Enable/disable showing nearest Quick Fix within a line when not currently on a diagnostic."),default:!0}}})},38869:(e,t,i)=>{i.d(t,{G:()=>W});var o,n=i(65321),r=i(85152),s=i(17301),a=i(79579),c=i(5976),d=i(50187),l=i(54530),u=i(71922),h=i(75396),g=i(85373),p=i(87997),f=i(91847),m=function(e,t,i,o){var n,r=arguments.length,s=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,o);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,i,s):n(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},v=function(e,t){return function(i,o){t(i,o,e)}};let A=o=class{constructor(e){this.keybindingService=e}getResolver(){const e=new a.o((()=>this.keybindingService.getKeybindings().filter((e=>o.codeActionCommands.indexOf(e.command)>=0)).filter((e=>e.resolvedKeybinding)).map((e=>{let t=e.commandArgs;return e.command===h.uH?t={kind:p.yN.SourceOrganizeImports.value}:e.command===h.TM&&(t={kind:p.yN.SourceFixAll.value}),{resolvedKeybinding:e.resolvedKeybinding,...p.wZ.fromUser(t,{kind:g.o.None,apply:"never"})}}))));return t=>{if(t.kind){const i=this.bestKeybindingForCodeAction(t,e.value);return null==i?void 0:i.resolvedKeybinding}}}bestKeybindingForCodeAction(e,t){if(!e.kind)return;const i=new g.o(e.kind);return t.filter((e=>e.kind.contains(i))).filter((t=>!t.preferred||e.isPreferred)).reduceRight(((e,t)=>e?e.kind.contains(t.kind)?t:e:t),void 0)}};A.codeActionCommands=[h.Bb,h.RB,h.MN,h.uH,h.TM],A=o=m([v(0,f.d)],A);var b=i(32429),y=(i(71713),i(63580));const C=Object.freeze({kind:g.o.Empty,title:(0,y.NC)("codeAction.widget.id.more","More Actions...")}),_=Object.freeze([{kind:p.yN.QuickFix,title:(0,y.NC)("codeAction.widget.id.quickfix","Quick Fix")},{kind:p.yN.RefactorExtract,title:(0,y.NC)("codeAction.widget.id.extract","Extract"),icon:b.l.wrench},{kind:p.yN.RefactorInline,title:(0,y.NC)("codeAction.widget.id.inline","Inline"),icon:b.l.wrench},{kind:p.yN.RefactorRewrite,title:(0,y.NC)("codeAction.widget.id.convert","Rewrite"),icon:b.l.wrench},{kind:p.yN.RefactorMove,title:(0,y.NC)("codeAction.widget.id.move","Move"),icon:b.l.wrench},{kind:p.yN.SurroundWith,title:(0,y.NC)("codeAction.widget.id.surround","Surround With"),icon:b.l.surroundWith},{kind:p.yN.Source,title:(0,y.NC)("codeAction.widget.id.source","Source Action"),icon:b.l.symbolFile},C]);var w,x=i(86490),N=i(27753),k=i(61051),S=i(94565),I=i(33108),F=i(93983),P=i(72065),M=i(98674),L=i(90535),R=i(82992),O=i(92321),E=i(97781),D=i(17016),T=i(10829),H=function(e,t,i,o){var n,r=arguments.length,s=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,o);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,i,s):n(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},Q=function(e,t){return function(i,o){t(i,o,e)}};let W=w=class extends c.JT{static get(e){return e.getContribution(w.ID)}constructor(e,t,i,o,n,r,s,d,l,u,h){super(),this._commandService=s,this._configurationService=d,this._actionWidgetService=l,this._instantiationService=u,this._telemetryService=h,this._activeCodeActions=this._register(new c.XK),this._showDisabled=!1,this._disposed=!1,this._editor=e,this._model=this._register(new D.Jt(this._editor,n.codeActionProvider,t,i,r,d)),this._register(this._model.onDidChangeState((e=>this.update(e)))),this._lightBulbWidget=new a.o((()=>{const e=this._editor.getContribution(x.f.ID);return e&&this._register(e.onClick((e=>this.showCodeActionsFromLightbulb(e.actions,e)))),e})),this._resolver=o.createInstance(A),this._register(this._editor.onDidLayoutChange((()=>this._actionWidgetService.hide())))}dispose(){this._disposed=!0,super.dispose()}async showCodeActionsFromLightbulb(e,t){if(this._telemetryService.publicLog2("codeAction.showCodeActionsFromLightbulb",{codeActionListLength:e.validActions.length,codeActions:e.validActions.map((e=>e.action.title)),codeActionProviders:e.validActions.map((e=>{var t,i;return null!==(i=null===(t=e.provider)||void 0===t?void 0:t.displayName)&&void 0!==i?i:""}))}),e.allAIFixes&&1===e.validActions.length){const t=e.validActions[0],i=t.action.command;return i&&"inlineChat.start"===i.id&&i.arguments&&i.arguments.length>=1&&(i.arguments[0]={...i.arguments[0],autoSend:!1}),void await this._applyCodeAction(t,!1,!1,h.UX.FromAILightbulb)}await this.showCodeActionList(e,t,{includeDisabledActions:!1,fromLightbulb:!0})}showCodeActions(e,t,i){return this.showCodeActionList(t,i,{includeDisabledActions:!1,fromLightbulb:!1})}manualTriggerAtCurrentPosition(e,t,i,o){var n;if(!this._editor.hasModel())return;null===(n=N.O.get(this._editor))||void 0===n||n.closeMessage();const r=this._editor.getPosition();this._trigger({type:1,triggerAction:t,filter:i,autoApply:o,context:{notAvailableMessage:e,position:r}})}_trigger(e){return this._model.trigger(e)}async _applyCodeAction(e,t,i,o){try{await this._instantiationService.invokeFunction(h.LR,e,o,{preview:i,editor:this._editor})}finally{t&&this._trigger({type:2,triggerAction:p.aQ.QuickFix,filter:{}})}}async update(e){var t,i,o,n,r,a,c;if(1!==e.type)return void(null===(t=this._lightBulbWidget.rawValue)||void 0===t||t.hide());let d;try{d=await e.actions}catch(e){return void(0,s.dL)(e)}if(!this._disposed)if(null===(i=this._lightBulbWidget.value)||void 0===i||i.update(d,e.trigger,e.position),1===e.trigger.type){if(null===(o=e.trigger.filter)||void 0===o?void 0:o.include){const t=this.tryGetValidActionToApply(e.trigger,d);if(t){try{null===(n=this._lightBulbWidget.value)||void 0===n||n.hide(),await this._applyCodeAction(t,!1,!1,h.UX.FromCodeActions)}finally{d.dispose()}return}if(e.trigger.context){const t=this.getInvalidActionThatWouldHaveBeenApplied(e.trigger,d);if(t&&t.action.disabled)return null===(r=N.O.get(this._editor))||void 0===r||r.showMessage(t.action.disabled,e.trigger.context.position),void d.dispose()}}const t=!!(null===(a=e.trigger.filter)||void 0===a?void 0:a.include);if(e.trigger.context&&(!d.allActions.length||!t&&!d.validActions.length))return null===(c=N.O.get(this._editor))||void 0===c||c.showMessage(e.trigger.context.notAvailableMessage,e.trigger.context.position),this._activeCodeActions.value=d,void d.dispose();this._activeCodeActions.value=d,this.showCodeActionList(d,this.toCoords(e.position),{includeDisabledActions:t,fromLightbulb:!1})}else this._actionWidgetService.isVisible?d.dispose():this._activeCodeActions.value=d}getInvalidActionThatWouldHaveBeenApplied(e,t){if(t.allActions.length)return"first"===e.autoApply&&0===t.validActions.length||"ifSingle"===e.autoApply&&1===t.allActions.length?t.allActions.find((({action:e})=>e.disabled)):void 0}tryGetValidActionToApply(e,t){if(t.validActions.length)return"first"===e.autoApply&&t.validActions.length>0||"ifSingle"===e.autoApply&&1===t.validActions.length?t.validActions[0]:void 0}async showCodeActionList(e,t,i){const o=this._editor.createDecorationsCollection(),n=this._editor.getDomNode();if(!n)return;const s=i.includeDisabledActions&&(this._showDisabled||0===e.validActions.length)?e.allActions:e.validActions;if(!s.length)return;const a=d.L.isIPosition(t)?this.toCoords(t):t,c={onSelect:async(e,t)=>{this._applyCodeAction(e,!0,!!t,i.fromLightbulb?h.UX.FromAILightbulb:h.UX.FromCodeActions),this._actionWidgetService.hide(!1),o.clear()},onHide:t=>{var n;null===(n=this._editor)||void 0===n||n.focus(),o.clear(),i.fromLightbulb&&void 0!==t&&this._telemetryService.publicLog2("codeAction.showCodeActionList.onHide",{codeActionListLength:e.validActions.length,didCancel:t,codeActions:e.validActions.map((e=>e.action.title))})},onHover:async(e,t)=>{var i;if(t.isCancellationRequested)return;let o=!1;const n=e.action.kind;if(n){const e=new g.o(n);o=[p.yN.RefactorExtract,p.yN.RefactorInline,p.yN.RefactorRewrite,p.yN.RefactorMove,p.yN.Source].some((t=>t.contains(e)))}return{canPreview:o||!!(null===(i=e.action.edit)||void 0===i?void 0:i.edits.length)}},onFocus:e=>{var t,i;if(e&&e.action){const n=e.action.ranges,s=e.action.diagnostics;if(o.clear(),n&&n.length>0){const e=s&&(null==s?void 0:s.length)>1?s.map((e=>({range:e,options:w.DECORATION}))):n.map((e=>({range:e,options:w.DECORATION})));o.set(e)}else if(s&&s.length>0){const e=s.map((e=>({range:e,options:w.DECORATION})));o.set(e);const n=s[0];if(n.startLineNumber&&n.startColumn){const e=null===(i=null===(t=this._editor.getModel())||void 0===t?void 0:t.getWordAtPosition({lineNumber:n.startLineNumber,column:n.startColumn}))||void 0===i?void 0:i.word;r.i7((0,y.NC)("editingNewSelection","Context: {0} at line {1} and column {2}.",e,n.startLineNumber,n.startColumn))}}}else o.clear()}};this._actionWidgetService.show("codeActionWidget",!0,function(e,t,i){if(!t)return e.map((e=>{var t;return{kind:"action",item:e,group:C,disabled:!!e.action.disabled,label:e.action.disabled||e.action.title,canPreview:!!(null===(t=e.action.edit)||void 0===t?void 0:t.edits.length)}}));const o=_.map((e=>({group:e,actions:[]})));for(const t of e){const e=t.action.kind?new g.o(t.action.kind):g.o.None;for(const i of o)if(i.group.kind.contains(e)){i.actions.push(t);break}}const n=[];for(const e of o)if(e.actions.length){n.push({kind:"header",group:e.group});for(const t of e.actions){const o=e.group;n.push({kind:"action",item:t,group:t.action.isAI?{title:o.title,kind:o.kind,icon:b.l.sparkle}:o,label:t.action.title,disabled:!!t.action.disabled,keybinding:i(t.action)})}}return n}(s,this._shouldShowHeaders(),this._resolver.getResolver()),c,a,n,this._getActionBarActions(e,t,i))}toCoords(e){if(!this._editor.hasModel())return{x:0,y:0};this._editor.revealPosition(e,1),this._editor.render();const t=this._editor.getScrolledVisiblePosition(e),i=(0,n.i)(this._editor.getDomNode());return{x:i.left+t.left,y:i.top+t.top+t.height}}_shouldShowHeaders(){var e;const t=null===(e=this._editor)||void 0===e?void 0:e.getModel();return this._configurationService.getValue("editor.codeActionWidget.showHeaders",{resource:null==t?void 0:t.uri})}_getActionBarActions(e,t,i){if(i.fromLightbulb)return[];const o=e.documentation.map((e=>{var t;return{id:e.id,label:e.title,tooltip:null!==(t=e.tooltip)&&void 0!==t?t:"",class:void 0,enabled:!0,run:()=>{var t;return this._commandService.executeCommand(e.id,...null!==(t=e.arguments)&&void 0!==t?t:[])}}}));return i.includeDisabledActions&&e.validActions.length>0&&e.allActions.length!==e.validActions.length&&o.push(this._showDisabled?{id:"hideMoreActions",label:(0,y.NC)("hideMoreActions","Hide Disabled"),enabled:!0,tooltip:"",class:void 0,run:()=>(this._showDisabled=!1,this.showCodeActionList(e,t,i))}:{id:"showMoreActions",label:(0,y.NC)("showMoreActions","Show Disabled"),enabled:!0,tooltip:"",class:void 0,run:()=>(this._showDisabled=!0,this.showCodeActionList(e,t,i))}),o}};W.ID="editor.contrib.codeActionController",W.DECORATION=l.qx.register({description:"quickfix-highlight",className:"quickfix-edit-highlight"}),W=w=H([Q(1,M.lT),Q(2,F.i6),Q(3,P.TG),Q(4,u.p),Q(5,L.ek),Q(6,S.H),Q(7,I.Ui),Q(8,k.v),Q(9,P.TG),Q(10,T.b)],W),(0,E.Ic)(((e,t)=>{var i,o;i=".quickfix-edit-highlight",(o=e.getColor(R.MUv))&&t.addRule(`.monaco-editor ${i} { background-color: ${o}; }`);const n=e.getColor(R.EiJ);n&&t.addRule(`.monaco-editor .quickfix-edit-highlight { border: 1px ${(0,O.c3)(e.type)?"dotted":"solid"} ${n}; box-sizing: border-box; }`)}))},17016:(e,t,i)=>{i.d(t,{Jt:()=>C,fj:()=>m});var o=i(15393),n=i(17301),r=i(4669),s=i(5976),a=i(95935),c=i(64141),d=i(50187),l=i(3860),u=i(93983),h=i(90535),g=i(87997),p=i(75396),f=i(85373);const m=new u.uy("supportedCodeAction",""),v="_typescript.applyFixAllCodeAction";class A extends s.JT{constructor(e,t,i,n=250){super(),this._editor=e,this._markerService=t,this._signalChange=i,this._delay=n,this._autoTriggerTimer=this._register(new o._F),this._register(this._markerService.onMarkerChanged((e=>this._onMarkerChanges(e)))),this._register(this._editor.onDidChangeCursorPosition((()=>this._tryAutoTrigger())))}trigger(e){const t=this._getRangeOfSelectionUnlessWhitespaceEnclosed(e);this._signalChange(t?{trigger:e,selection:t}:void 0)}_onMarkerChanges(e){const t=this._editor.getModel();t&&e.some((e=>(0,a.Xy)(e,t.uri)))&&this._tryAutoTrigger()}_tryAutoTrigger(){this._autoTriggerTimer.cancelAndSet((()=>{this.trigger({type:2,triggerAction:g.aQ.Default})}),this._delay)}_getRangeOfSelectionUnlessWhitespaceEnclosed(e){if(!this._editor.hasModel())return;const t=this._editor.getSelection();if(1===e.type)return t;const i=this._editor.getOption(65).enabled;if(i!==c.$r.Off){if(i===c.$r.On)return t;if(i===c.$r.OnCode){if(!t.isEmpty())return t;const e=this._editor.getModel(),{lineNumber:i,column:o}=t.getPosition(),n=e.getLineContent(i);if(0===n.length)return;if(1===o){if(/\s/.test(n[0]))return}else if(o===e.getLineMaxColumn(i)){if(/\s/.test(n[n.length-1]))return}else if(/\s/.test(n[o-2])&&/\s/.test(n[o-1]))return}return t}}}var b;!function(e){e.Empty={type:0};e.Triggered=class{constructor(e,t,i){this.trigger=e,this.position=t,this._cancellablePromise=i,this.type=1,this.actions=i.catch((e=>{if((0,n.n2)(e))return y;throw e}))}cancel(){this._cancellablePromise.cancel()}}}(b||(b={}));const y=Object.freeze({allActions:[],validActions:[],dispose:()=>{},documentation:[],hasAutoFix:!1,hasAIFix:!1,allAIFixes:!1});class C extends s.JT{constructor(e,t,i,o,n,a){super(),this._editor=e,this._registry=t,this._markerService=i,this._progressService=n,this._configurationService=a,this._codeActionOracle=this._register(new s.XK),this._state=b.Empty,this._onDidChangeState=this._register(new r.Q5),this.onDidChangeState=this._onDidChangeState.event,this._disposed=!1,this._supportedCodeActions=m.bindTo(o),this._register(this._editor.onDidChangeModel((()=>this._update()))),this._register(this._editor.onDidChangeModelLanguage((()=>this._update()))),this._register(this._registry.onDidChange((()=>this._update()))),this._register(this._editor.onDidChangeConfiguration((e=>{e.hasChanged(65)&&this._update()}))),this._update()}dispose(){this._disposed||(this._disposed=!0,super.dispose(),this.setState(b.Empty,!0))}_settingEnabledNearbyQuickfixes(){var e;const t=null===(e=this._editor)||void 0===e?void 0:e.getModel();return!!this._configurationService&&this._configurationService.getValue("editor.codeActionWidget.includeNearbyQuickFixes",{resource:null==t?void 0:t.uri})}_update(){if(this._disposed)return;this._codeActionOracle.value=void 0,this.setState(b.Empty);const e=this._editor.getModel();if(e&&this._registry.has(e)&&!this._editor.getOption(91)){const t=this._registry.all(e).flatMap((e=>{var t;return null!==(t=e.providedCodeActionKinds)&&void 0!==t?t:[]}));this._supportedCodeActions.set(t.join(" ")),this._codeActionOracle.value=new A(this._editor,this._markerService,(t=>{var i;if(!t)return void this.setState(b.Empty);const n=t.selection.getStartPosition(),r=(0,o.PG)((async i=>{var o,n,r,s,a,c,u,m,A,b;if(this._settingEnabledNearbyQuickfixes()&&1===t.trigger.type&&(t.trigger.triggerAction===g.aQ.QuickFix||(null===(n=null===(o=t.trigger.filter)||void 0===o?void 0:o.include)||void 0===n?void 0:n.contains(g.yN.QuickFix)))){const o=await(0,p.aI)(this._registry,e,t.selection,t.trigger,h.Ex.None,i),n=[...o.allActions];if(i.isCancellationRequested)return y;const C=null===(r=o.validActions)||void 0===r?void 0:r.some((e=>!!e.action.kind&&g.yN.QuickFix.contains(new f.o(e.action.kind)))),_=this._markerService.read({resource:e.uri});if(C){for(const e of o.validActions)(null===(a=null===(s=e.action.command)||void 0===s?void 0:s.arguments)||void 0===a?void 0:a.some((e=>"string"==typeof e&&e.includes(v))))&&(e.action.diagnostics=[..._.filter((e=>e.relatedInformation))]);return{validActions:o.validActions,allActions:n,documentation:o.documentation,hasAutoFix:o.hasAutoFix,hasAIFix:o.hasAIFix,allAIFixes:o.allAIFixes,dispose:()=>{o.dispose()}}}if(!C&&_.length>0){const r=t.selection.getPosition();let s=r,a=Number.MAX_VALUE;const f=[...o.validActions];for(const y of _){const C=y.endColumn,w=y.endLineNumber,x=y.startLineNumber;if(w===r.lineNumber||x===r.lineNumber){s=new d.L(w,C);const y={type:t.trigger.type,triggerAction:t.trigger.triggerAction,filter:{include:(null===(c=t.trigger.filter)||void 0===c?void 0:c.include)?null===(u=t.trigger.filter)||void 0===u?void 0:u.include:g.yN.QuickFix},autoApply:t.trigger.autoApply,context:{notAvailableMessage:(null===(m=t.trigger.context)||void 0===m?void 0:m.notAvailableMessage)||"",position:s}},x=new l.Y(s.lineNumber,s.column,s.lineNumber,s.column),N=await(0,p.aI)(this._registry,e,x,y,h.Ex.None,i);if(0!==N.validActions.length){for(const e of N.validActions)(null===(b=null===(A=e.action.command)||void 0===A?void 0:A.arguments)||void 0===b?void 0:b.some((e=>"string"==typeof e&&e.includes(v))))&&(e.action.diagnostics=[..._.filter((e=>e.relatedInformation))]);0===o.allActions.length&&n.push(...N.allActions),Math.abs(r.column-C)<a?f.unshift(...N.validActions):f.push(...N.validActions)}a=Math.abs(r.column-C)}}const y=f.filter(((e,t,i)=>i.findIndex((t=>t.action.title===e.action.title))===t));return y.sort(((e,t)=>e.action.isPreferred&&!t.action.isPreferred?-1:!e.action.isPreferred&&t.action.isPreferred||e.action.isAI&&!t.action.isAI?1:!e.action.isAI&&t.action.isAI?-1:0)),{validActions:y,allActions:n,documentation:o.documentation,hasAutoFix:o.hasAutoFix,hasAIFix:o.hasAIFix,allAIFixes:o.allAIFixes,dispose:()=>{o.dispose()}}}}return(0,p.aI)(this._registry,e,t.selection,t.trigger,h.Ex.None,i)}));1===t.trigger.type&&(null===(i=this._progressService)||void 0===i||i.showWhile(r,250));const s=new b.Triggered(t.trigger,n,r);let a=!1;1===this._state.type&&(a=1===this._state.trigger.type&&1===s.type&&2===s.trigger.type&&this._state.position!==s.position),a?setTimeout((()=>{this.setState(s)}),500):this.setState(s)}),void 0),this._codeActionOracle.value.trigger({type:2,triggerAction:g.aQ.Default})}else this._supportedCodeActions.reset()}trigger(e){var t;null===(t=this._codeActionOracle.value)||void 0===t||t.trigger(e)}setState(e,t){e!==this._state&&(1===this._state.type&&this._state.cancel(),this._state=e,t||this._disposed||this._onDidChangeState.fire(e))}}},86490:(e,t,i)=>{i.d(t,{f:()=>A});var o,n,r=i(65321),s=i(10553),a=i(32429),c=i(4669),d=i(5976),l=i(25670),u=i(59616),h=i(75396),g=i(63580),p=i(94565),f=i(91847),m=function(e,t,i,o){var n,r=arguments.length,s=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,o);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,i,s):n(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},v=function(e,t){return function(i,o){t(i,o,e)}};!function(e){e.Hidden={type:0};e.Showing=class{constructor(e,t,i,o){this.actions=e,this.trigger=t,this.editorPosition=i,this.widgetPosition=o,this.type=1}}}(n||(n={}));let A=o=class extends d.JT{constructor(e,t,i){super(),this._editor=e,this._keybindingService=t,this._onClick=this._register(new c.Q5),this.onClick=this._onClick.event,this._state=n.Hidden,this._iconClasses=[],this._domNode=r.$("div.lightBulbWidget"),this._domNode.role="listbox",this._register(s.o.ignoreTarget(this._domNode)),this._editor.addContentWidget(this),this._register(this._editor.onDidChangeModelContent((e=>{const t=this._editor.getModel();(1!==this.state.type||!t||this.state.editorPosition.lineNumber>=t.getLineCount())&&this.hide()}))),this._register(r.GQ(this._domNode,(e=>{if(1!==this.state.type)return;this._editor.focus(),e.preventDefault();const{top:t,height:i}=r.i(this._domNode),o=this._editor.getOption(67);let n=Math.floor(o/3);null!==this.state.widgetPosition.position&&this.state.widgetPosition.position.lineNumber<this.state.editorPosition.lineNumber&&(n+=o),this._onClick.fire({x:e.posx,y:t+i+n,actions:this.state.actions,trigger:this.state.trigger})}))),this._register(r.nm(this._domNode,"mouseenter",(e=>{1&~e.buttons||this.hide()}))),this._register(c.ju.runAndSubscribe(this._keybindingService.onDidUpdateKeybindings,(()=>{var e,t,i,o;this._preferredKbLabel=null!==(t=null===(e=this._keybindingService.lookupKeybinding(h.pZ))||void 0===e?void 0:e.getLabel())&&void 0!==t?t:void 0,this._quickFixKbLabel=null!==(o=null===(i=this._keybindingService.lookupKeybinding(h.cz))||void 0===i?void 0:i.getLabel())&&void 0!==o?o:void 0,this._updateLightBulbTitleAndIcon()})))}dispose(){super.dispose(),this._editor.removeContentWidget(this)}getId(){return"LightBulbWidget"}getDomNode(){return this._domNode}getPosition(){return 1===this._state.type?this._state.widgetPosition:null}update(e,t,i){if(e.validActions.length<=0)return this.hide();if(!this._editor.getOptions().get(65).enabled)return this.hide();const r=this._editor.getModel();if(!r)return this.hide();const{lineNumber:s,column:a}=r.validatePosition(i),c=r.getOptions().tabSize,d=this._editor.getOptions().get(50),l=r.getLineContent(s),h=(0,u.q)(l,c),g=e=>e>2&&this._editor.getTopForLineNumber(e)===this._editor.getTopForLineNumber(e-1);let p=s,f=1;if(!(d.spaceWidth*h>22)){if(s>1&&!g(s-1))p-=1;else if(s<r.getLineCount()&&!g(s+1))p+=1;else if(a*d.spaceWidth<22)return this.hide();f=/^\S\s*$/.test(r.getLineContent(p))?2:1}this.state=new n.Showing(e,t,i,{position:{lineNumber:p,column:f},preference:o._posPref});const m=e.validActions,v=e.validActions[0].action.kind;m.length,this._editor.layoutContentWidget(this)}hide(){this.state!==n.Hidden&&(this.state=n.Hidden,this._editor.layoutContentWidget(this))}get state(){return this._state}set state(e){this._state=e,this._updateLightBulbTitleAndIcon()}_updateLightBulbTitleAndIcon(){if(this._domNode.classList.remove(...this._iconClasses),this._iconClasses=[],1!==this.state.type)return;let e,t=!1;this.state.actions.allAIFixes?(e=a.l.sparkleFilled,1===this.state.actions.validActions.length&&(t=!0)):e=this.state.actions.hasAutoFix?this.state.actions.hasAIFix?a.l.lightbulbSparkleAutofix:a.l.lightbulbAutofix:this.state.actions.hasAIFix?a.l.lightbulbSparkle:a.l.lightBulb,this._updateLightbulbTitle(this.state.actions.hasAutoFix,t),this._iconClasses=l.k.asClassNameArray(e),this._domNode.classList.add(...this._iconClasses)}_updateLightbulbTitle(e,t){1===this.state.type&&(t?this.title=g.NC("codeActionAutoRun","Run: {0}",this.state.actions.validActions[0].action.title):e&&this._preferredKbLabel?this.title=g.NC("preferredcodeActionWithKb","Show Code Actions. Preferred Quick Fix Available ({0})",this._preferredKbLabel):!e&&this._quickFixKbLabel?this.title=g.NC("codeActionWithKb","Show Code Actions ({0})",this._quickFixKbLabel):e||(this.title=g.NC("codeAction","Show Code Actions")))}set title(e){this._domNode.title=e}};A.ID="editor.contrib.lightbulbWidget",A._posPref=[0],A=o=m([v(1,f.d),v(2,p.H)],A)},87997:(e,t,i)=>{i.d(t,{EU:()=>a,Yl:()=>c,aQ:()=>s,bA:()=>u,wZ:()=>l,yN:()=>r});var o=i(17301),n=i(85373);const r=new class{constructor(){this.QuickFix=new n.o("quickfix"),this.Refactor=new n.o("refactor"),this.RefactorExtract=this.Refactor.append("extract"),this.RefactorInline=this.Refactor.append("inline"),this.RefactorMove=this.Refactor.append("move"),this.RefactorRewrite=this.Refactor.append("rewrite"),this.Notebook=new n.o("notebook"),this.Source=new n.o("source"),this.SourceOrganizeImports=this.Source.append("organizeImports"),this.SourceFixAll=this.Source.append("fixAll"),this.SurroundWith=this.Refactor.append("surround")}};var s;function a(e,t){return!(e.include&&!e.include.intersects(t))&&((!e.excludes||!e.excludes.some((i=>d(t,i,e.include))))&&!(!e.includeSourceActions&&r.Source.contains(t)))}function c(e,t){const i=t.kind?new n.o(t.kind):void 0;return!!(!e.include||i&&e.include.contains(i))&&(!(e.excludes&&i&&e.excludes.some((t=>d(i,t,e.include))))&&(!(!e.includeSourceActions&&i&&r.Source.contains(i))&&!(e.onlyIncludePreferredActions&&!t.isPreferred)))}function d(e,t,i){return!!t.contains(e)&&(!i||!t.contains(i))}!function(e){e.Refactor="refactor",e.RefactorPreview="refactor preview",e.Lightbulb="lightbulb",e.Default="other (default)",e.SourceAction="source action",e.QuickFix="quick fix action",e.FixAll="fix all",e.OrganizeImports="organize imports",e.AutoFix="auto fix",e.QuickFixHover="quick fix hover window",e.OnSave="save participants",e.ProblemsView="problems view"}(s||(s={}));class l{static fromUser(e,t){return e&&"object"==typeof e?new l(l.getKindFromUser(e,t.kind),l.getApplyFromUser(e,t.apply),l.getPreferredUser(e)):new l(t.kind,t.apply,!1)}static getApplyFromUser(e,t){switch("string"==typeof e.apply?e.apply.toLowerCase():""){case"first":return"first";case"never":return"never";case"ifsingle":return"ifSingle";default:return t}}static getKindFromUser(e,t){return"string"==typeof e.kind?new n.o(e.kind):t}static getPreferredUser(e){return"boolean"==typeof e.preferred&&e.preferred}constructor(e,t,i){this.kind=e,this.apply=t,this.preferred=i}}class u{constructor(e,t,i){this.action=e,this.provider=t,this.highlightRange=i}async resolve(e){var t;if((null===(t=this.provider)||void 0===t?void 0:t.resolveCodeAction)&&!this.action.edit){let t;try{t=await this.provider.resolveCodeAction(this.action,e)}catch(e){(0,o.Cp)(e)}t&&(this.action.edit=t.edit)}return this}}}}]);