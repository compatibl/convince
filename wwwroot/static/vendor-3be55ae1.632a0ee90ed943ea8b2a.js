"use strict";(self.webpackChunkui_react=self.webpackChunkui_react||[]).push([[3612],{45496:(e,t,i)=>{i.d(t,{y:()=>Ye});var s=i(71050),n=i(4669),o=i(93983),r=i(72065),a=i(34277),l=i(50988),h=i(15393),c=i(5976),u=i(90725),d=i(41157),p=i(89872),g=function(e,t,i,s){var n,o=arguments.length,r=o<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,s);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(r=(o<3?n(r):o>3?n(t,i,r):n(t,i))||r);return o>3&&r&&Object.defineProperty(t,i,r),r},m=function(e,t){return function(i,s){t(i,s,e)}};let v=class extends c.JT{constructor(e,t){super(),this.quickInputService=e,this.instantiationService=t,this.registry=p.B.as(u.IP.Quickaccess),this.mapProviderToDescriptor=new Map,this.lastAcceptedPickerValues=new Map,this.visibleQuickAccess=void 0}show(e="",t){this.doShowOrPick(e,!1,t)}doShowOrPick(e,t,i){var o,r,a,l;const[p,g]=this.getOrInstantiateProvider(e,null==i?void 0:i.enabledProviderPrefixes),m=this.visibleQuickAccess,v=null==m?void 0:m.descriptor;if(m&&g&&v===g)return e===g.prefix||(null==i?void 0:i.preserveValue)||(m.picker.value=e),void this.adjustValueSelection(m.picker,g,i);if(g&&!(null==i?void 0:i.preserveValue)){let t;if(m&&v&&v!==g){const e=m.value.substr(v.prefix.length);e&&(t=`${g.prefix}${e}`)}if(!t){const e=null==p?void 0:p.defaultFilterValue;e===u.Ry.LAST?t=this.lastAcceptedPickerValues.get(g):"string"==typeof e&&(t=`${g.prefix}${e}`)}"string"==typeof t&&(e=t)}const b=null===(o=null==m?void 0:m.picker)||void 0===o?void 0:o.valueSelection,_=null===(r=null==m?void 0:m.picker)||void 0===r?void 0:r.value,k=new c.SL,y=k.add(this.quickInputService.createQuickPick());let f;y.value=e,this.adjustValueSelection(y,g,i),y.placeholder=null!==(a=null==i?void 0:i.placeholder)&&void 0!==a?a:null==g?void 0:g.placeholder,y.quickNavigate=null==i?void 0:i.quickNavigateConfiguration,y.hideInput=!!y.quickNavigate&&!m,("number"==typeof(null==i?void 0:i.itemActivation)||(null==i?void 0:i.quickNavigateConfiguration))&&(y.itemActivation=null!==(l=null==i?void 0:i.itemActivation)&&void 0!==l?l:d.jG.SECOND),y.contextKey=null==g?void 0:g.contextKey,y.filterValue=e=>e.substring(g?g.prefix.length:0),t&&(f=new h.CR,k.add(n.ju.once(y.onWillAccept)((e=>{e.veto(),y.hide()})))),k.add(this.registerPickerListeners(y,p,g,e,i));const C=k.add(new s.AU);return p&&k.add(p.provide(y,C.token,null==i?void 0:i.providerOptions)),n.ju.once(y.onDidHide)((()=>{0===y.selectedItems.length&&C.cancel(),k.dispose(),null==f||f.complete(y.selectedItems.slice(0))})),y.show(),b&&_===e&&(y.valueSelection=b),t?null==f?void 0:f.p:void 0}adjustValueSelection(e,t,i){var s;let n;n=(null==i?void 0:i.preserveValue)?[e.value.length,e.value.length]:[null!==(s=null==t?void 0:t.prefix.length)&&void 0!==s?s:0,e.value.length],e.valueSelection=n}registerPickerListeners(e,t,i,s,n){const o=new c.SL,r=this.visibleQuickAccess={picker:e,descriptor:i,value:s};return o.add((0,c.OF)((()=>{r===this.visibleQuickAccess&&(this.visibleQuickAccess=void 0)}))),o.add(e.onDidChangeValue((e=>{const[i]=this.getOrInstantiateProvider(e,null==n?void 0:n.enabledProviderPrefixes);i!==t?this.show(e,{enabledProviderPrefixes:null==n?void 0:n.enabledProviderPrefixes,preserveValue:!0,providerOptions:null==n?void 0:n.providerOptions}):r.value=e}))),i&&o.add(e.onDidAccept((()=>{this.lastAcceptedPickerValues.set(i,e.value)}))),o}getOrInstantiateProvider(e,t){const i=this.registry.getQuickAccessProvider(e);if(!i||t&&!(null==t?void 0:t.includes(i.prefix)))return[void 0,void 0];let s=this.mapProviderToDescriptor.get(i);return s||(s=this.instantiationService.createInstance(i.ctor),this.mapProviderToDescriptor.set(i,s)),[s,i]}};v=g([m(0,d.eJ),m(1,r.TG)],v);var b=i(86253),_=i(82992),k=i(97781),y=i(65321),f=i(36513),C=i(82900),S=i(9488),w=i(32429),I=i(1432),D=i(14603),x=i(25670),E=i(63580),B=i(4850),L=i(10553),O=i(56811),T=i(44742),A=i(17676);const q={},F=new T.R("quick-input-button-icon-");function P(e,t,i){let s=e.iconClass||function(e){if(!e)return;let t;const i=e.dark.toString();return q[i]?t=q[i]:(t=F.nextId(),y.fk(`.${t}, .hc-light .${t}`,`background-image: ${y.wY(e.light||e.dark)}`),y.fk(`.vs-dark .${t}, .hc-black .${t}`,`background-image: ${y.wY(e.dark)}`),q[i]=t),t}(e.iconPath);return e.alwaysVisible&&(s=s?`${s} always-visible`:"always-visible"),{id:t,label:"",tooltip:e.tooltip||"",class:s,enabled:!0,run:i}}var M=i(33108),H=i(31543),N=function(e,t,i,s){var n,o=arguments.length,r=o<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,s);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(r=(o<3?n(r):o>3?n(t,i,r):n(t,i))||r);return o>3&&r&&Object.defineProperty(t,i,r),r},V=function(e,t){return function(i,s){t(i,s,e)}};const R="inQuickInput",U=new o.uy(R,!1,(0,E.NC)("inQuickInput","Whether keyboard focus is inside the quick input control")),Q=o.Ao.has(R),K="quickInputType",j=new o.uy(K,void 0,(0,E.NC)("quickInputType","The type of the currently visible quick input")),W="cursorAtEndOfQuickInputBox",$=new o.uy(W,!1,(0,E.NC)("cursorAtEndOfQuickInputBox","Whether the cursor in the quick input is at the end of the input box")),G=o.Ao.has(W),J={iconClass:x.k.asClassName(w.l.quickInputBack),tooltip:(0,E.NC)("quickInput.back","Back"),handle:-1};class z extends c.JT{constructor(e){super(),this.ui=e,this._widgetUpdated=!1,this.visible=!1,this._enabled=!0,this._busy=!1,this._ignoreFocusOut=!1,this._buttons=[],this.buttonsUpdated=!1,this._toggles=[],this.togglesUpdated=!1,this.noValidationMessage=z.noPromptMessage,this._severity=D.Z.Ignore,this.onDidTriggerButtonEmitter=this._register(new n.Q5),this.onDidHideEmitter=this._register(new n.Q5),this.onWillHideEmitter=this._register(new n.Q5),this.onDisposeEmitter=this._register(new n.Q5),this.visibleDisposables=this._register(new c.SL),this.onDidHide=this.onDidHideEmitter.event}get title(){return this._title}set title(e){this._title=e,this.update()}get description(){return this._description}set description(e){this._description=e,this.update()}get step(){return this._steps}set step(e){this._steps=e,this.update()}get totalSteps(){return this._totalSteps}set totalSteps(e){this._totalSteps=e,this.update()}get enabled(){return this._enabled}set enabled(e){this._enabled=e,this.update()}get contextKey(){return this._contextKey}set contextKey(e){this._contextKey=e,this.update()}get busy(){return this._busy}set busy(e){this._busy=e,this.update()}get ignoreFocusOut(){return this._ignoreFocusOut}set ignoreFocusOut(e){const t=this._ignoreFocusOut!==e&&!I.gn;this._ignoreFocusOut=e&&!I.gn,t&&this.update()}get buttons(){return this._buttons}set buttons(e){this._buttons=e,this.buttonsUpdated=!0,this.update()}get toggles(){return this._toggles}set toggles(e){this._toggles=null!=e?e:[],this.togglesUpdated=!0,this.update()}get validationMessage(){return this._validationMessage}set validationMessage(e){this._validationMessage=e,this.update()}get severity(){return this._severity}set severity(e){this._severity=e,this.update()}show(){this.visible||(this.visibleDisposables.add(this.ui.onDidTriggerButton((e=>{-1!==this.buttons.indexOf(e)&&this.onDidTriggerButtonEmitter.fire(e)}))),this.ui.show(this),this.visible=!0,this._lastValidationMessage=void 0,this._lastSeverity=void 0,this.buttons.length&&(this.buttonsUpdated=!0),this.toggles.length&&(this.togglesUpdated=!0),this.update())}hide(){this.visible&&this.ui.hide()}didHide(e=d.Jq.Other){this.visible=!1,this.visibleDisposables.clear(),this.onDidHideEmitter.fire({reason:e})}willHide(e=d.Jq.Other){this.onWillHideEmitter.fire({reason:e})}update(){var e,t;if(!this.visible)return;const i=this.getTitle();i&&this.ui.title.textContent!==i?this.ui.title.textContent=i:i||"&nbsp;"===this.ui.title.innerHTML||(this.ui.title.innerText="Â ");const s=this.getDescription();if(this.ui.description1.textContent!==s&&(this.ui.description1.textContent=s),this.ui.description2.textContent!==s&&(this.ui.description2.textContent=s),this._widgetUpdated&&(this._widgetUpdated=!1,this._widget?y.mc(this.ui.widget,this._widget):y.mc(this.ui.widget)),this.busy&&!this.busyDelay&&(this.busyDelay=new h._F,this.busyDelay.setIfNotSet((()=>{this.visible&&this.ui.progressBar.infinite()}),800)),!this.busy&&this.busyDelay&&(this.ui.progressBar.stop(),this.busyDelay.cancel(),this.busyDelay=void 0),this.buttonsUpdated){this.buttonsUpdated=!1,this.ui.leftActionBar.clear();const e=this.buttons.filter((e=>e===J)).map(((e,t)=>P(e,`id-${t}`,(async()=>this.onDidTriggerButtonEmitter.fire(e)))));this.ui.leftActionBar.push(e,{icon:!0,label:!1}),this.ui.rightActionBar.clear();const t=this.buttons.filter((e=>e!==J)).map(((e,t)=>P(e,`id-${t}`,(async()=>this.onDidTriggerButtonEmitter.fire(e)))));this.ui.rightActionBar.push(t,{icon:!0,label:!1})}if(this.togglesUpdated){this.togglesUpdated=!1;const i=null!==(t=null===(e=this.toggles)||void 0===e?void 0:e.filter((e=>e instanceof C.Z)))&&void 0!==t?t:[];this.ui.inputBox.toggles=i}this.ui.ignoreFocusOut=this.ignoreFocusOut,this.ui.setEnabled(this.enabled),this.ui.setContextKey(this.contextKey);const o=this.validationMessage||this.noValidationMessage;this._lastValidationMessage!==o&&(this._lastValidationMessage=o,y.mc(this.ui.message),function(e,t,i){y.mc(t);const s=(0,A.J)(e);let o=0;for(const e of s.nodes)if("string"==typeof e)t.append(...(0,O.T)(e));else{let s=e.title;!s&&e.href.startsWith("command:")?s=(0,E.NC)("executeCommand","Click to execute command '{0}'",e.href.substring(8)):s||(s=e.href);const r=y.$("a",{href:e.href,title:s,tabIndex:o++},e.label);r.style.textDecoration="underline";const a=t=>{y.cl(t)&&y.zB.stop(t,!0),i.callback(e.href)},l=i.disposables.add(new B.Y(r,y.tw.CLICK)).event,h=i.disposables.add(new B.Y(r,y.tw.KEY_DOWN)).event,c=n.ju.chain(h,(e=>e.filter((e=>{const t=new f.y(e);return t.equals(10)||t.equals(3)}))));i.disposables.add(L.o.addTarget(r));const u=i.disposables.add(new B.Y(r,L.t.Tap)).event;n.ju.any(l,u,c)(a,null,i.disposables),t.appendChild(r)}}(o,this.ui.message,{callback:e=>{this.ui.linkOpenerDelegate(e)},disposables:this.visibleDisposables})),this._lastSeverity!==this.severity&&(this._lastSeverity=this.severity,this.showMessageDecoration(this.severity))}getTitle(){return this.title&&this.step?`${this.title} (${this.getSteps()})`:this.title?this.title:this.step?this.getSteps():""}getDescription(){return this.description||""}getSteps(){return this.step&&this.totalSteps?(0,E.NC)("quickInput.steps","{0}/{1}",this.step,this.totalSteps):this.step?String(this.step):""}showMessageDecoration(e){if(this.ui.inputBox.showDecoration(e),e!==D.Z.Ignore){const t=this.ui.inputBox.stylesForType(e);this.ui.message.style.color=t.foreground?`${t.foreground}`:"",this.ui.message.style.backgroundColor=t.background?`${t.background}`:"",this.ui.message.style.border=t.border?`1px solid ${t.border}`:"",this.ui.message.style.marginBottom="-2px"}else this.ui.message.style.color="",this.ui.message.style.backgroundColor="",this.ui.message.style.border="",this.ui.message.style.marginBottom=""}dispose(){this.hide(),this.onDisposeEmitter.fire(),super.dispose()}}z.noPromptMessage=(0,E.NC)("inputModeEntry","Press 'Enter' to confirm your input or 'Escape' to cancel");class Z extends z{constructor(){super(...arguments),this._value="",this.onDidChangeValueEmitter=this._register(new n.Q5),this.onWillAcceptEmitter=this._register(new n.Q5),this.onDidAcceptEmitter=this._register(new n.Q5),this.onDidCustomEmitter=this._register(new n.Q5),this._items=[],this.itemsUpdated=!1,this._canSelectMany=!1,this._canAcceptInBackground=!1,this._matchOnDescription=!1,this._matchOnDetail=!1,this._matchOnLabel=!0,this._matchOnLabelMode="fuzzy",this._sortByLabel=!0,this._keepScrollPosition=!1,this._itemActivation=d.jG.FIRST,this._activeItems=[],this.activeItemsUpdated=!1,this.activeItemsToConfirm=[],this.onDidChangeActiveEmitter=this._register(new n.Q5),this._selectedItems=[],this.selectedItemsUpdated=!1,this.selectedItemsToConfirm=[],this.onDidChangeSelectionEmitter=this._register(new n.Q5),this.onDidTriggerItemButtonEmitter=this._register(new n.Q5),this.onDidTriggerSeparatorButtonEmitter=this._register(new n.Q5),this.valueSelectionUpdated=!0,this._ok="default",this._customButton=!1,this._focusEventBufferer=new n.E7,this.type="quickPick",this.filterValue=e=>e,this.onDidChangeValue=this.onDidChangeValueEmitter.event,this.onWillAccept=this.onWillAcceptEmitter.event,this.onDidAccept=this.onDidAcceptEmitter.event,this.onDidChangeActive=this.onDidChangeActiveEmitter.event,this.onDidChangeSelection=this.onDidChangeSelectionEmitter.event,this.onDidTriggerItemButton=this.onDidTriggerItemButtonEmitter.event,this.onDidTriggerSeparatorButton=this.onDidTriggerSeparatorButtonEmitter.event}get quickNavigate(){return this._quickNavigate}set quickNavigate(e){this._quickNavigate=e,this.update()}get value(){return this._value}set value(e){this.doSetValue(e)}doSetValue(e,t){if(this._value!==e){if(this._value=e,t||this.update(),this.visible){this.ui.list.filter(this.filterValue(this._value))&&this.trySelectFirst()}this.onDidChangeValueEmitter.fire(this._value)}}set ariaLabel(e){this._ariaLabel=e,this.update()}get ariaLabel(){return this._ariaLabel}get placeholder(){return this._placeholder}set placeholder(e){this._placeholder=e,this.update()}get items(){return this._items}get scrollTop(){return this.ui.list.scrollTop}set scrollTop(e){this.ui.list.scrollTop=e}set items(e){this._items=e,this.itemsUpdated=!0,this.update()}get canSelectMany(){return this._canSelectMany}set canSelectMany(e){this._canSelectMany=e,this.update()}get canAcceptInBackground(){return this._canAcceptInBackground}set canAcceptInBackground(e){this._canAcceptInBackground=e}get matchOnDescription(){return this._matchOnDescription}set matchOnDescription(e){this._matchOnDescription=e,this.update()}get matchOnDetail(){return this._matchOnDetail}set matchOnDetail(e){this._matchOnDetail=e,this.update()}get matchOnLabel(){return this._matchOnLabel}set matchOnLabel(e){this._matchOnLabel=e,this.update()}get matchOnLabelMode(){return this._matchOnLabelMode}set matchOnLabelMode(e){this._matchOnLabelMode=e,this.update()}get sortByLabel(){return this._sortByLabel}set sortByLabel(e){this._sortByLabel=e,this.update()}get keepScrollPosition(){return this._keepScrollPosition}set keepScrollPosition(e){this._keepScrollPosition=e}get itemActivation(){return this._itemActivation}set itemActivation(e){this._itemActivation=e}get activeItems(){return this._activeItems}set activeItems(e){this._activeItems=e,this.activeItemsUpdated=!0,this.update()}get selectedItems(){return this._selectedItems}set selectedItems(e){this._selectedItems=e,this.selectedItemsUpdated=!0,this.update()}get keyMods(){return this._quickNavigate?d.X5:this.ui.keyMods}get valueSelection(){const e=this.ui.inputBox.getSelection();if(e)return[e.start,e.end]}set valueSelection(e){this._valueSelection=e,this.valueSelectionUpdated=!0,this.update()}get customButton(){return this._customButton}set customButton(e){this._customButton=e,this.update()}get customLabel(){return this._customButtonLabel}set customLabel(e){this._customButtonLabel=e,this.update()}get customHover(){return this._customButtonHover}set customHover(e){this._customButtonHover=e,this.update()}get ok(){return this._ok}set ok(e){this._ok=e,this.update()}get hideInput(){return!!this._hideInput}set hideInput(e){this._hideInput=e,this.update()}trySelectFirst(){this.canSelectMany||this.ui.list.focus(d.vn.First)}show(){this.visible||(this.visibleDisposables.add(this.ui.inputBox.onDidChange((e=>{this.doSetValue(e,!0)}))),this.visibleDisposables.add(this.ui.onDidAccept((()=>{this.canSelectMany?this.ui.list.getCheckedElements().length||(this._selectedItems=[],this.onDidChangeSelectionEmitter.fire(this.selectedItems)):this.activeItems[0]&&(this._selectedItems=[this.activeItems[0]],this.onDidChangeSelectionEmitter.fire(this.selectedItems)),this.handleAccept(!1)}))),this.visibleDisposables.add(this.ui.onDidCustom((()=>{this.onDidCustomEmitter.fire()}))),this.visibleDisposables.add(this._focusEventBufferer.wrapEvent(this.ui.list.onDidChangeFocus,((e,t)=>t))((e=>{this.activeItemsUpdated||this.activeItemsToConfirm!==this._activeItems&&(0,S.fS)(e,this._activeItems,((e,t)=>e===t))||(this._activeItems=e,this.onDidChangeActiveEmitter.fire(e))}))),this.visibleDisposables.add(this.ui.list.onDidChangeSelection((({items:e,event:t})=>{this.canSelectMany?e.length&&this.ui.list.setSelectedElements([]):this.selectedItemsToConfirm!==this._selectedItems&&(0,S.fS)(e,this._selectedItems,((e,t)=>e===t))||(this._selectedItems=e,this.onDidChangeSelectionEmitter.fire(e),e.length&&this.handleAccept(y.N5(t)&&1===t.button))}))),this.visibleDisposables.add(this.ui.list.onChangedCheckedElements((e=>{this.canSelectMany&&(this.selectedItemsToConfirm!==this._selectedItems&&(0,S.fS)(e,this._selectedItems,((e,t)=>e===t))||(this._selectedItems=e,this.onDidChangeSelectionEmitter.fire(e)))}))),this.visibleDisposables.add(this.ui.list.onButtonTriggered((e=>this.onDidTriggerItemButtonEmitter.fire(e)))),this.visibleDisposables.add(this.ui.list.onSeparatorButtonTriggered((e=>this.onDidTriggerSeparatorButtonEmitter.fire(e)))),this.visibleDisposables.add(this.registerQuickNavigation()),this.valueSelectionUpdated=!0),super.show()}handleAccept(e){let t=!1;this.onWillAcceptEmitter.fire({veto:()=>t=!0}),t||this.onDidAcceptEmitter.fire({inBackground:e})}registerQuickNavigation(){return y.nm(this.ui.container,y.tw.KEY_UP,(e=>{if(this.canSelectMany||!this._quickNavigate)return;const t=new f.y(e),i=t.keyCode;this._quickNavigate.keybindings.some((e=>{const s=e.getChords();return!(s.length>1)&&(s[0].shiftKey&&4===i?!(t.ctrlKey||t.altKey||t.metaKey):!(!s[0].altKey||6!==i)||(!(!s[0].ctrlKey||5!==i)||!(!s[0].metaKey||57!==i)))}))&&(this.activeItems[0]&&(this._selectedItems=[this.activeItems[0]],this.onDidChangeSelectionEmitter.fire(this.selectedItems),this.handleAccept(!1)),this._quickNavigate=void 0)}))}update(){if(!this.visible)return;const e=this.keepScrollPosition?this.scrollTop:0,t=!!this.description,i={title:!!this.title||!!this.step||!!this.buttons.length,description:t,checkAll:this.canSelectMany&&!this._hideCheckAll,checkBox:this.canSelectMany,inputBox:!this._hideInput,progressBar:!this._hideInput||t,visibleCount:!0,count:this.canSelectMany&&!this._hideCountBadge,ok:"default"===this.ok?this.canSelectMany:this.ok,list:!0,message:!!this.validationMessage,customButton:this.customButton};this.ui.setVisibilities(i),super.update(),this.ui.inputBox.value!==this.value&&(this.ui.inputBox.value=this.value),this.valueSelectionUpdated&&(this.valueSelectionUpdated=!1,this.ui.inputBox.select(this._valueSelection&&{start:this._valueSelection[0],end:this._valueSelection[1]})),this.ui.inputBox.placeholder!==(this.placeholder||"")&&(this.ui.inputBox.placeholder=this.placeholder||"");let s=this.ariaLabel;!s&&i.inputBox&&(s=this.placeholder||Z.DEFAULT_ARIA_LABEL,this.title&&(s+=` - ${this.title}`)),this.ui.list.ariaLabel!==s&&(this.ui.list.ariaLabel=null!=s?s:null),this.ui.list.matchOnDescription=this.matchOnDescription,this.ui.list.matchOnDetail=this.matchOnDetail,this.ui.list.matchOnLabel=this.matchOnLabel,this.ui.list.matchOnLabelMode=this.matchOnLabelMode,this.ui.list.sortByLabel=this.sortByLabel,this.itemsUpdated&&(this.itemsUpdated=!1,this._focusEventBufferer.bufferEvents((()=>{switch(this.ui.list.setElements(this.items),this.ui.list.shouldLoop=!this.canSelectMany,this.ui.list.filter(this.filterValue(this.ui.inputBox.value)),this.ui.checkAll.checked=this.ui.list.getAllVisibleChecked(),this.ui.visibleCount.setCount(this.ui.list.getVisibleCount()),this.ui.count.setCount(this.ui.list.getCheckedCount()),this._itemActivation){case d.jG.NONE:this._itemActivation=d.jG.FIRST;break;case d.jG.SECOND:this.ui.list.focus(d.vn.Second),this._itemActivation=d.jG.FIRST;break;case d.jG.LAST:this.ui.list.focus(d.vn.Last),this._itemActivation=d.jG.FIRST;break;default:this.trySelectFirst()}}))),this.ui.container.classList.contains("show-checkboxes")!==!!this.canSelectMany&&(this.canSelectMany?this.ui.list.clearFocus():this.trySelectFirst()),this.activeItemsUpdated&&(this.activeItemsUpdated=!1,this.activeItemsToConfirm=this._activeItems,this.ui.list.setFocusedElements(this.activeItems),this.activeItemsToConfirm===this._activeItems&&(this.activeItemsToConfirm=null)),this.selectedItemsUpdated&&(this.selectedItemsUpdated=!1,this.selectedItemsToConfirm=this._selectedItems,this.canSelectMany?this.ui.list.setCheckedElements(this.selectedItems):this.ui.list.setSelectedElements(this.selectedItems),this.selectedItemsToConfirm===this._selectedItems&&(this.selectedItemsToConfirm=null)),this.ui.customButton.label=this.customLabel||"",this.ui.customButton.element.title=this.customHover||"",i.inputBox||(this.ui.list.domFocus(),this.canSelectMany&&this.ui.list.focus(d.vn.First)),this.keepScrollPosition&&(this.scrollTop=e)}focus(e){this.ui.list.focus(e),this.canSelectMany&&this.ui.list.domFocus()}accept(e){e&&!this._canAcceptInBackground||this.activeItems[0]&&(this._selectedItems=[this.activeItems[0]],this.onDidChangeSelectionEmitter.fire(this.selectedItems),this.handleAccept(null!=e&&e))}}Z.DEFAULT_ARIA_LABEL=(0,E.NC)("quickInputBox.ariaLabel","Type to narrow down results.");class Y extends z{constructor(){super(...arguments),this._value="",this.valueSelectionUpdated=!0,this._password=!1,this.onDidValueChangeEmitter=this._register(new n.Q5),this.onDidAcceptEmitter=this._register(new n.Q5),this.type="inputBox",this.onDidChangeValue=this.onDidValueChangeEmitter.event,this.onDidAccept=this.onDidAcceptEmitter.event}get value(){return this._value}set value(e){this._value=e||"",this.update()}get placeholder(){return this._placeholder}set placeholder(e){this._placeholder=e,this.update()}get password(){return this._password}set password(e){this._password=e,this.update()}show(){this.visible||(this.visibleDisposables.add(this.ui.inputBox.onDidChange((e=>{e!==this.value&&(this._value=e,this.onDidValueChangeEmitter.fire(e))}))),this.visibleDisposables.add(this.ui.onDidAccept((()=>this.onDidAcceptEmitter.fire()))),this.valueSelectionUpdated=!0),super.show()}update(){if(!this.visible)return;this.ui.container.classList.remove("hidden-input");const e={title:!!this.title||!!this.step||!!this.buttons.length,description:!!this.description||!!this.step,inputBox:!0,message:!0,progressBar:!0};this.ui.setVisibilities(e),super.update(),this.ui.inputBox.value!==this.value&&(this.ui.inputBox.value=this.value),this.valueSelectionUpdated&&(this.valueSelectionUpdated=!1,this.ui.inputBox.select(this._valueSelection&&{start:this._valueSelection[0],end:this._valueSelection[1]})),this.ui.inputBox.placeholder!==(this.placeholder||"")&&(this.ui.inputBox.placeholder=this.placeholder||""),this.ui.inputBox.password!==this.password&&(this.ui.inputBox.password=this.password)}}let X=class extends H.mQ{constructor(e,t){super("element",!1,(e=>this.getOverrideOptions(e)),e,t)}getOverrideOptions(e){var t;return{persistence:{hideOnKeyDown:!1},appearance:{showHoverHint:(y.Re(e.content)?null!==(t=e.content.textContent)&&void 0!==t?t:"":"string"==typeof e.content?e.content:e.content.value).includes("\n"),skipFadeInAnimation:!0}}}};X=N([V(0,M.Ui),V(1,H.Bs)],X);var ee=i(90317),te=i(43416),ie=i(67488),se=i(12726),ne=i(3070);const oe=y.$;class re extends c.JT{constructor(e,t,i){super(),this.parent=e,this.onKeyDown=e=>y.mu(this.findInput.inputBox.inputElement,y.tw.KEY_DOWN,e),this.onDidChange=e=>this.findInput.onDidChange(e),this.container=y.R3(this.parent,oe(".quick-input-box")),this.findInput=this._register(new ne.V(this.container,void 0,{label:"",inputBoxStyles:t,toggleStyles:i}));const s=this.findInput.inputBox.inputElement;s.role="combobox",s.ariaHasPopup="menu",s.ariaAutoComplete="list",s.ariaExpanded="true"}get value(){return this.findInput.getValue()}set value(e){this.findInput.setValue(e)}select(e=null){this.findInput.inputBox.select(e)}getSelection(){return this.findInput.inputBox.getSelection()}isSelectionAtEnd(){return this.findInput.inputBox.isSelectionAtEnd()}get placeholder(){return this.findInput.inputBox.inputElement.getAttribute("placeholder")||""}set placeholder(e){this.findInput.inputBox.setPlaceHolder(e)}get password(){return"password"===this.findInput.inputBox.inputElement.type}set password(e){this.findInput.inputBox.inputElement.type=e?"password":"text"}set enabled(e){this.findInput.inputBox.inputElement.toggleAttribute("readonly",!e)}set toggles(e){this.findInput.setAdditionalToggles(e)}setAttribute(e,t){this.findInput.inputBox.inputElement.setAttribute(e,t)}showDecoration(e){e===D.Z.Ignore?this.findInput.clearMessage():this.findInput.showMessage({type:e===D.Z.Info?1:e===D.Z.Warning?2:3,content:""})}stylesForType(e){return this.findInput.inputBox.stylesForType(e===D.Z.Info?1:e===D.Z.Warning?2:3)}setFocus(){this.findInput.focus()}layout(){this.findInput.inputBox.layout()}}var ae,le=i(48906),he=i(32414),ce=i(49898),ue=i(59834),de=i(55496),pe=i(92321),ge=i(70666),me=i(79579),ve=i(21212),be=i(82696),_e=i(97295),ke=i(5637),ye=i(17301),fe=i(31106),Ce=function(e,t,i,s){var n,o=arguments.length,r=o<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,s);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(r=(o<3?n(r):o>3?n(t,i,r):n(t,i))||r);return o>3&&r&&Object.defineProperty(t,i,r),r},Se=function(e,t){return function(i,s){t(i,s,e)}};const we=y.$;class Ie{constructor(e,t,i){this.index=e,this.hasCheckbox=t,this._hidden=!1,this._init=new me.o((()=>{var e;const t=null!==(e=i.label)&&void 0!==e?e:"",s=(0,ve.Ho)(t).text.trim(),n=i.ariaLabel||[t,this.saneDescription,this.saneDetail].map((e=>(0,ve.JL)(e))).filter((e=>!!e)).join(", ");return{saneLabel:t,saneSortLabel:s,saneAriaLabel:n}})),this._saneDescription=i.description,this._saneTooltip=i.tooltip}get saneLabel(){return this._init.value.saneLabel}get saneSortLabel(){return this._init.value.saneSortLabel}get saneAriaLabel(){return this._init.value.saneAriaLabel}get element(){return this._element}set element(e){this._element=e}get hidden(){return this._hidden}set hidden(e){this._hidden=e}get saneDescription(){return this._saneDescription}set saneDescription(e){this._saneDescription=e}get saneDetail(){return this._saneDetail}set saneDetail(e){this._saneDetail=e}get saneTooltip(){return this._saneTooltip}set saneTooltip(e){this._saneTooltip=e}get labelHighlights(){return this._labelHighlights}set labelHighlights(e){this._labelHighlights=e}get descriptionHighlights(){return this._descriptionHighlights}set descriptionHighlights(e){this._descriptionHighlights=e}get detailHighlights(){return this._detailHighlights}set detailHighlights(e){this._detailHighlights=e}}class De extends Ie{constructor(e,t,i,s,o,r){var a,l,h;super(e,t,o),this.fireButtonTriggered=i,this._onChecked=s,this.item=o,this._separator=r,this._checked=!1,this.onChecked=t?n.ju.map(n.ju.filter(this._onChecked.event,(e=>e.element===this)),(e=>e.checked)):n.ju.None,this._saneDetail=o.detail,this._labelHighlights=null===(a=o.highlights)||void 0===a?void 0:a.label,this._descriptionHighlights=null===(l=o.highlights)||void 0===l?void 0:l.description,this._detailHighlights=null===(h=o.highlights)||void 0===h?void 0:h.detail}get separator(){return this._separator}set separator(e){this._separator=e}get checked(){return this._checked}set checked(e){e!==this._checked&&(this._checked=e,this._onChecked.fire({element:this,checked:e}))}get checkboxDisabled(){return!!this.item.disabled}}var xe;!function(e){e[e.NONE=0]="NONE",e[e.MOUSE_HOVER=1]="MOUSE_HOVER",e[e.ACTIVE_ITEM=2]="ACTIVE_ITEM"}(xe||(xe={}));class Ee extends Ie{constructor(e,t,i){super(e,!1,i),this.fireSeparatorButtonTriggered=t,this.separator=i,this.children=new Array,this.focusInsideSeparator=xe.NONE}}class Be{getHeight(e){return e instanceof Ee?30:e.saneDetail?44:22}getTemplateId(e){return e instanceof De?Te.ID:Ae.ID}}class Le{getWidgetAriaLabel(){return(0,E.NC)("quickInput","Quick Input")}getAriaLabel(e){var t;return(null===(t=e.separator)||void 0===t?void 0:t.label)?`${e.saneAriaLabel}, ${e.separator.label}`:e.saneAriaLabel}getWidgetRole(){return"listbox"}getRole(e){return e.hasCheckbox?"checkbox":"option"}isChecked(e){if(e.hasCheckbox&&e instanceof De)return{get value(){return e.checked},onDidChange:t=>e.onChecked((()=>t()))}}}class Oe{constructor(e){this.hoverDelegate=e}renderTemplate(e){const t=Object.create(null);t.toDisposeElement=new c.SL,t.toDisposeTemplate=new c.SL,t.entry=y.R3(e,we(".quick-input-list-entry"));const i=y.R3(t.entry,we("label.quick-input-list-label"));t.toDisposeTemplate.add(y.mu(i,y.tw.CLICK,(e=>{t.checkbox.offsetParent||e.preventDefault()}))),t.checkbox=y.R3(i,we("input.quick-input-list-checkbox")),t.checkbox.type="checkbox";const s=y.R3(i,we(".quick-input-list-rows")),n=y.R3(s,we(".quick-input-list-row")),o=y.R3(s,we(".quick-input-list-row"));t.label=new ue.g(n,{supportHighlights:!0,supportDescriptionHighlights:!0,supportIcons:!0,hoverDelegate:this.hoverDelegate}),t.toDisposeTemplate.add(t.label),t.icon=y.Ce(t.label.element,we(".quick-input-list-icon"));const r=y.R3(n,we(".quick-input-list-entry-keybinding"));t.keybinding=new de.e(r,I.OS),t.toDisposeTemplate.add(t.keybinding);const a=y.R3(o,we(".quick-input-list-label-meta"));return t.detail=new ue.g(a,{supportHighlights:!0,supportIcons:!0,hoverDelegate:this.hoverDelegate}),t.toDisposeTemplate.add(t.detail),t.separator=y.R3(t.entry,we(".quick-input-list-separator")),t.actionBar=new ee.o(t.entry,this.hoverDelegate?{hoverDelegate:this.hoverDelegate}:void 0),t.actionBar.domNode.classList.add("quick-input-list-entry-action-bar"),t.toDisposeTemplate.add(t.actionBar),t}disposeTemplate(e){e.toDisposeElement.dispose(),e.toDisposeTemplate.dispose()}disposeElement(e,t,i){i.toDisposeElement.clear(),i.actionBar.clear()}}let Te=ae=class extends Oe{constructor(e,t){super(e),this.themeService=t,this._itemsWithSeparatorsFrequency=new Map}get templateId(){return ae.ID}renderTemplate(e){const t=super.renderTemplate(e);return t.toDisposeTemplate.add(y.mu(t.checkbox,y.tw.CHANGE,(e=>{t.element.checked=t.checkbox.checked}))),t}renderElement(e,t,i){var s,n,o;const r=e.element;i.element=r,r.element=null!==(s=i.entry)&&void 0!==s?s:void 0;const a=r.item;i.checkbox.checked=r.checked,i.toDisposeElement.add(r.onChecked((e=>i.checkbox.checked=e))),i.checkbox.disabled=r.checkboxDisabled;const{labelHighlights:l,descriptionHighlights:h,detailHighlights:c}=r;if(a.iconPath){const e=(0,pe._T)(this.themeService.getColorTheme().type)?a.iconPath.dark:null!==(n=a.iconPath.light)&&void 0!==n?n:a.iconPath.dark,t=ge.o.revive(e);i.icon.className="quick-input-list-icon",i.icon.style.backgroundImage=y.wY(t)}else i.icon.style.backgroundImage="",i.icon.className=a.iconClass?`quick-input-list-icon ${a.iconClass}`:"";let u;!r.saneTooltip&&r.saneDescription&&(u={markdown:{value:r.saneDescription,supportThemeIcons:!0},markdownNotSupportedFallback:r.saneDescription});const d={matches:l||[],descriptionTitle:u,descriptionMatches:h||[],labelEscapeNewLines:!0};if(d.extraClasses=a.iconClasses,d.italic=a.italic,d.strikethrough=a.strikethrough,i.entry.classList.remove("quick-input-list-separator-as-item"),i.label.setLabel(r.saneLabel,r.saneDescription,d),i.keybinding.set(a.keybinding),r.saneDetail){let e;r.saneTooltip||(e={markdown:{value:r.saneDetail,supportThemeIcons:!0},markdownNotSupportedFallback:r.saneDetail}),i.detail.element.style.display="",i.detail.setLabel(r.saneDetail,void 0,{matches:c,title:e,labelEscapeNewLines:!0})}else i.detail.element.style.display="none";(null===(o=r.separator)||void 0===o?void 0:o.label)?(i.separator.textContent=r.separator.label,i.separator.style.display="",this.addItemWithSeparator(r)):i.separator.style.display="none",i.entry.classList.toggle("quick-input-list-separator-border",!!r.separator);const p=a.buttons;p&&p.length?(i.actionBar.push(p.map(((e,t)=>P(e,`id-${t}`,(()=>r.fireButtonTriggered({button:e,item:r.item}))))),{icon:!0,label:!1}),i.entry.classList.add("has-actions")):i.entry.classList.remove("has-actions")}disposeElement(e,t,i){this.removeItemWithSeparator(e.element),super.disposeElement(e,t,i)}isItemWithSeparatorVisible(e){return this._itemsWithSeparatorsFrequency.has(e)}addItemWithSeparator(e){this._itemsWithSeparatorsFrequency.set(e,(this._itemsWithSeparatorsFrequency.get(e)||0)+1)}removeItemWithSeparator(e){const t=this._itemsWithSeparatorsFrequency.get(e)||0;t>1?this._itemsWithSeparatorsFrequency.set(e,t-1):this._itemsWithSeparatorsFrequency.delete(e)}};Te.ID="quickpickitem",Te=ae=Ce([Se(1,k.XE)],Te);class Ae extends Oe{constructor(){super(...arguments),this._visibleSeparatorsFrequency=new Map}get templateId(){return Ae.ID}get visibleSeparators(){return[...this._visibleSeparatorsFrequency.keys()]}isSeparatorVisible(e){return this._visibleSeparatorsFrequency.has(e)}renderElement(e,t,i){var s;const n=e.element;i.element=n,n.element=null!==(s=i.entry)&&void 0!==s?s:void 0,n.element.classList.toggle("focus-inside",!!n.focusInsideSeparator);const o=n.separator,{labelHighlights:r,descriptionHighlights:a,detailHighlights:l}=n;let h;i.icon.style.backgroundImage="",i.icon.className="",!n.saneTooltip&&n.saneDescription&&(h={markdown:{value:n.saneDescription,supportThemeIcons:!0},markdownNotSupportedFallback:n.saneDescription});const c={matches:r||[],descriptionTitle:h,descriptionMatches:a||[],labelEscapeNewLines:!0};if(i.entry.classList.add("quick-input-list-separator-as-item"),i.label.setLabel(n.saneLabel,n.saneDescription,c),n.saneDetail){let e;n.saneTooltip||(e={markdown:{value:n.saneDetail,supportThemeIcons:!0},markdownNotSupportedFallback:n.saneDetail}),i.detail.element.style.display="",i.detail.setLabel(n.saneDetail,void 0,{matches:l,title:e,labelEscapeNewLines:!0})}else i.detail.element.style.display="none";i.separator.style.display="none",i.entry.classList.add("quick-input-list-separator-border");const u=o.buttons;u&&u.length?(i.actionBar.push(u.map(((e,t)=>P(e,`id-${t}`,(()=>n.fireSeparatorButtonTriggered({button:e,separator:n.separator}))))),{icon:!0,label:!1}),i.entry.classList.add("has-actions")):i.entry.classList.remove("has-actions"),this.addSeparator(n)}disposeElement(e,t,i){var s;this.removeSeparator(e.element),this.isSeparatorVisible(e.element)||null===(s=e.element.element)||void 0===s||s.classList.remove("focus-inside"),super.disposeElement(e,t,i)}addSeparator(e){this._visibleSeparatorsFrequency.set(e,(this._visibleSeparatorsFrequency.get(e)||0)+1)}removeSeparator(e){const t=this._visibleSeparatorsFrequency.get(e)||0;t>1?this._visibleSeparatorsFrequency.set(e,t-1):this._visibleSeparatorsFrequency.delete(e)}}Ae.ID="quickpickseparator";let qe=class extends c.JT{constructor(e,t,i,s,o,r){super(),this.parent=e,this.hoverDelegate=t,this.linkOpenerDelegate=i,this.accessibilityService=r,this._onKeyDown=new n.Q5,this._onLeave=new n.Q5,this.onLeave=this._onLeave.event,this._onChangedAllVisibleChecked=new n.Q5,this.onChangedAllVisibleChecked=this._onChangedAllVisibleChecked.event,this._onChangedCheckedCount=new n.Q5,this.onChangedCheckedCount=this._onChangedCheckedCount.event,this._onChangedVisibleCount=new n.Q5,this.onChangedVisibleCount=this._onChangedVisibleCount.event,this._onChangedCheckedElements=new n.Q5,this.onChangedCheckedElements=this._onChangedCheckedElements.event,this._onButtonTriggered=new n.Q5,this.onButtonTriggered=this._onButtonTriggered.event,this._onSeparatorButtonTriggered=new n.Q5,this.onSeparatorButtonTriggered=this._onSeparatorButtonTriggered.event,this._elementChecked=new n.Q5,this._inputElements=new Array,this._elementTree=new Array,this._itemElements=new Array,this._elementDisposable=this._register(new c.SL),this._shouldFireCheckedEvents=!0,this._matchOnDescription=!1,this._matchOnDetail=!1,this._matchOnLabel=!0,this._matchOnLabelMode="fuzzy",this._sortByLabel=!0,this._shouldLoop=!0,this._container=y.R3(this.parent,we(".quick-input-list")),this._separatorRenderer=new Ae(t),this._itemRenderer=o.createInstance(Te,t),this._tree=this._register(o.createInstance(he.PF,"QuickInput",this._container,new Be,[this._itemRenderer,this._separatorRenderer],{accessibilityProvider:new Le,setRowLineHeight:!1,multipleSelectionSupport:!1,hideTwistiesOfChildlessElements:!0,renderIndentGuides:ke.E4.None,findWidgetEnabled:!1,indent:0,horizontalScrolling:!1,allowNonCollapsibleParents:!0,alwaysConsumeMouseWheel:!0})),this._tree.getHTMLElement().id=s,this._registerListeners()}get onDidChangeFocus(){return n.ju.map(this._tree.onDidChangeFocus,(e=>e.elements.filter((e=>e instanceof De)).map((e=>e.item))))}get onDidChangeSelection(){return n.ju.map(this._tree.onDidChangeSelection,(e=>({items:e.elements.filter((e=>e instanceof De)).map((e=>e.item)),event:e.browserEvent})))}get scrollTop(){return this._tree.scrollTop}set scrollTop(e){this._tree.scrollTop=e}get ariaLabel(){return this._tree.ariaLabel}set ariaLabel(e){this._tree.ariaLabel=null!=e?e:""}set enabled(e){this._tree.getHTMLElement().style.pointerEvents=e?"":"none"}get matchOnDescription(){return this._matchOnDescription}set matchOnDescription(e){this._matchOnDescription=e}get matchOnDetail(){return this._matchOnDetail}set matchOnDetail(e){this._matchOnDetail=e}get matchOnLabel(){return this._matchOnLabel}set matchOnLabel(e){this._matchOnLabel=e}get matchOnLabelMode(){return this._matchOnLabelMode}set matchOnLabelMode(e){this._matchOnLabelMode=e}get sortByLabel(){return this._sortByLabel}set sortByLabel(e){this._sortByLabel=e}get shouldLoop(){return this._shouldLoop}set shouldLoop(e){this._shouldLoop=e}_registerListeners(){this._registerOnKeyDown(),this._registerOnContainerClick(),this._registerOnMouseMiddleClick(),this._registerOnElementChecked(),this._registerOnContextMenu(),this._registerHoverListeners(),this._registerSelectionChangeListener(),this._registerSeparatorActionShowingListeners()}_registerOnKeyDown(){this._register(this._tree.onKeyDown((e=>{const t=new f.y(e);if(10===t.keyCode)this.toggleCheckbox();this._onKeyDown.fire(t)})))}_registerOnContainerClick(){this._register(y.nm(this._container,y.tw.CLICK,(e=>{(e.x||e.y)&&this._onLeave.fire()})))}_registerOnMouseMiddleClick(){this._register(y.nm(this._container,y.tw.AUXCLICK,(e=>{1===e.button&&this._onLeave.fire()})))}_registerOnElementChecked(){this._register(this._elementChecked.event((e=>this._fireCheckedEvents())))}_registerOnContextMenu(){this._register(this._tree.onContextMenu((e=>{e.element&&(e.browserEvent.preventDefault(),this._tree.setSelection([e.element]))})))}_registerHoverListeners(){const e=this._register(new h.rH(this.hoverDelegate.delay));this._register(this._tree.onMouseOver((async t=>{var i;if(y.bg(t.browserEvent.target))e.cancel();else if(y.bg(t.browserEvent.relatedTarget)||!y.jg(t.browserEvent.relatedTarget,null===(i=t.element)||void 0===i?void 0:i.element))try{await e.trigger((async()=>{t.element instanceof De&&this.showHover(t.element)}))}catch(t){if(!(0,ye.n2)(t))throw t}}))),this._register(this._tree.onMouseOut((t=>{var i;y.jg(t.browserEvent.relatedTarget,null===(i=t.element)||void 0===i?void 0:i.element)||e.cancel()})))}_registerSeparatorActionShowingListeners(){this._register(this._tree.onDidChangeFocus((e=>{const t=e.elements[0]?this._tree.getParentElement(e.elements[0]):null;for(const e of this._separatorRenderer.visibleSeparators){const i=e===t;!!(e.focusInsideSeparator&xe.ACTIVE_ITEM)!==i&&(i?e.focusInsideSeparator|=xe.ACTIVE_ITEM:e.focusInsideSeparator&=~xe.ACTIVE_ITEM,this._tree.rerender(e))}}))),this._register(this._tree.onMouseOver((e=>{const t=e.element?this._tree.getParentElement(e.element):null;for(const e of this._separatorRenderer.visibleSeparators){if(e!==t)continue;!!(e.focusInsideSeparator&xe.MOUSE_HOVER)||(e.focusInsideSeparator|=xe.MOUSE_HOVER,this._tree.rerender(e))}}))),this._register(this._tree.onMouseOut((e=>{const t=e.element?this._tree.getParentElement(e.element):null;for(const e of this._separatorRenderer.visibleSeparators){if(e!==t)continue;!!(e.focusInsideSeparator&xe.MOUSE_HOVER)&&(e.focusInsideSeparator&=~xe.MOUSE_HOVER,this._tree.rerender(e))}})))}_registerSelectionChangeListener(){this._register(this._tree.onDidChangeSelection((e=>{const t=e.elements.filter((e=>e instanceof De));t.length!==e.elements.length&&(1===e.elements.length&&e.elements[0]instanceof Ee&&(this._tree.setFocus([e.elements[0].children[0]]),this._tree.reveal(e.elements[0],0)),this._tree.setSelection(t))})))}getAllVisibleChecked(){return this._allVisibleChecked(this._itemElements,!1)}getCheckedCount(){return this._itemElements.filter((e=>e.checked)).length}getVisibleCount(){return this._itemElements.filter((e=>!e.hidden)).length}setAllVisibleChecked(e){try{this._shouldFireCheckedEvents=!1,this._itemElements.forEach((t=>{t.hidden||t.checkboxDisabled||(t.checked=e)}))}finally{this._shouldFireCheckedEvents=!0,this._fireCheckedEvents()}}setElements(e){this._elementDisposable.clear(),this._inputElements=e;const t=this.parent.classList.contains("show-checkboxes");let i;this._itemElements=new Array,this._elementTree=e.reduce(((s,n,o)=>{let r;if("separator"===n.type){if(!n.buttons)return s;i=new Ee(o,(e=>this.fireSeparatorButtonTriggered(e)),n),r=i}else{const a=o>0?e[o-1]:void 0;let l;a&&"separator"===a.type&&!a.buttons&&(i=void 0,l=a);const h=new De(o,t,(e=>this.fireButtonTriggered(e)),this._elementChecked,n,l);if(this._itemElements.push(h),i)return i.children.push(h),s;r=h}return s.push(r),s}),new Array);const s=new Array;let n=0;for(const e of this._elementTree)e instanceof Ee?(s.push({element:e,collapsible:!1,collapsed:!1,children:e.children.map((e=>({element:e,collapsible:!1,collapsed:!1})))}),n+=e.children.length+1):(s.push({element:e,collapsible:!1,collapsed:!1}),n++);this._tree.setChildren(null,s),this._onChangedVisibleCount.fire(n),this.accessibilityService.isScreenReaderOptimized()&&setTimeout((()=>{const e=this._tree.getHTMLElement().querySelector(".monaco-list-row.focused"),t=null==e?void 0:e.parentNode;if(e&&t){const i=e.nextSibling;t.removeChild(e),t.insertBefore(e,i)}}),0)}setFocusedElements(e){const t=e.map((e=>this._itemElements.find((t=>t.item===e)))).filter((e=>!!e));if(this._tree.setFocus(t),e.length>0){const e=this._tree.getFocus()[0];e&&this._tree.reveal(e)}}getActiveDescendant(){return this._tree.getHTMLElement().getAttribute("aria-activedescendant")}setSelectedElements(e){const t=e.map((e=>this._itemElements.find((t=>t.item===e)))).filter((e=>!!e));this._tree.setSelection(t)}getCheckedElements(){return this._itemElements.filter((e=>e.checked)).map((e=>e.item))}setCheckedElements(e){try{this._shouldFireCheckedEvents=!1;const t=new Set;for(const i of e)t.add(i);for(const e of this._itemElements)e.checked=t.has(e.item)}finally{this._shouldFireCheckedEvents=!0,this._fireCheckedEvents()}}focus(e){var t;if(this._itemElements.length)switch(e===d.vn.Second&&this._itemElements.length<2&&(e=d.vn.First),e){case d.vn.First:this._tree.scrollTop=0,this._tree.focusFirst(void 0,(e=>e.element instanceof De));break;case d.vn.Second:this._tree.scrollTop=0,this._tree.setFocus([this._itemElements[1]]);break;case d.vn.Last:this._tree.scrollTop=this._tree.scrollHeight,this._tree.setFocus([this._itemElements[this._itemElements.length-1]]);break;case d.vn.Next:{const e=this._tree.getFocus();this._tree.focusNext(void 0,this._shouldLoop,void 0,(e=>e.element instanceof De&&(this._tree.reveal(e.element),!0)));const t=this._tree.getFocus();e.length&&e[0]===t[0]&&e[0]===this._itemElements[this._itemElements.length-1]&&this._onLeave.fire();break}case d.vn.Previous:{const e=this._tree.getFocus();this._tree.focusPrevious(void 0,this._shouldLoop,void 0,(e=>{if(!(e.element instanceof De))return!1;const t=this._tree.getParentElement(e.element);return null===t||t.children[0]!==e.element?this._tree.reveal(e.element):this._tree.reveal(t),!0}));const t=this._tree.getFocus();e.length&&e[0]===t[0]&&e[0]===this._itemElements[0]&&this._onLeave.fire();break}case d.vn.NextPage:this._tree.focusNextPage(void 0,(e=>e.element instanceof De&&(this._tree.reveal(e.element),!0)));break;case d.vn.PreviousPage:this._tree.focusPreviousPage(void 0,(e=>{if(!(e.element instanceof De))return!1;const t=this._tree.getParentElement(e.element);return null===t||t.children[0]!==e.element?this._tree.reveal(e.element):this._tree.reveal(t),!0}));break;case d.vn.NextSeparator:{let e=!1;const t=this._tree.getFocus()[0];this._tree.focusNext(void 0,!0,void 0,(t=>{if(e)return!0;if(t.element instanceof Ee)e=!0,this._separatorRenderer.isSeparatorVisible(t.element)?this._tree.reveal(t.element.children[0]):this._tree.reveal(t.element,0);else if(t.element instanceof De){if(t.element.separator)return this._itemRenderer.isItemWithSeparatorVisible(t.element)?this._tree.reveal(t.element):this._tree.reveal(t.element,0),!0;if(t.element===this._elementTree[0])return this._tree.reveal(t.element,0),!0}return!1}));t===this._tree.getFocus()[0]&&(this._tree.scrollTop=this._tree.scrollHeight,this._tree.setFocus([this._itemElements[this._itemElements.length-1]]));break}case d.vn.PreviousSeparator:{let e,i=!!(null===(t=this._tree.getFocus()[0])||void 0===t?void 0:t.separator);this._tree.focusPrevious(void 0,!0,void 0,(t=>{if(t.element instanceof Ee)i?e||(this._separatorRenderer.isSeparatorVisible(t.element)?this._tree.reveal(t.element):this._tree.reveal(t.element,0),e=t.element.children[0]):i=!0;else if(t.element instanceof De&&!e)if(t.element.separator)this._itemRenderer.isItemWithSeparatorVisible(t.element)?this._tree.reveal(t.element):this._tree.reveal(t.element,0),e=t.element;else if(t.element===this._elementTree[0])return this._tree.reveal(t.element,0),!0;return!1})),e&&this._tree.setFocus([e]);break}}}clearFocus(){this._tree.setFocus([])}domFocus(){this._tree.domFocus()}layout(e){this._tree.getHTMLElement().style.maxHeight=e?44*Math.floor(e/44)+6+"px":"",this._tree.layout()}filter(e){if(!(this._sortByLabel||this._matchOnLabel||this._matchOnDescription||this._matchOnDetail))return this._tree.layout(),!1;const t=e;if((e=e.trim())&&(this.matchOnLabel||this.matchOnDescription||this.matchOnDetail)){let i;this._elementTree.forEach((s=>{var n,o,r,a;let l;l="fuzzy"===this.matchOnLabelMode?this.matchOnLabel&&null!==(n=(0,ve.Gt)(e,(0,ve.Ho)(s.saneLabel)))&&void 0!==n?n:void 0:this.matchOnLabel&&null!==(o=function(e,t){const{text:i,iconOffsets:s}=t;if(!s||0===s.length)return Fe(e,i);const n=(0,_e.j3)(i," "),o=i.length-n.length,r=Fe(e,n);if(r)for(const e of r){const t=s[e.start+o]+o;e.start+=t,e.end+=t}return r}(t,(0,ve.Ho)(s.saneLabel)))&&void 0!==o?o:void 0;const h=this.matchOnDescription&&null!==(r=(0,ve.Gt)(e,(0,ve.Ho)(s.saneDescription||"")))&&void 0!==r?r:void 0,c=this.matchOnDetail&&null!==(a=(0,ve.Gt)(e,(0,ve.Ho)(s.saneDetail||"")))&&void 0!==a?a:void 0;if(l||h||c?(s.labelHighlights=l,s.descriptionHighlights=h,s.detailHighlights=c,s.hidden=!1):(s.labelHighlights=void 0,s.descriptionHighlights=void 0,s.detailHighlights=void 0,s.hidden=!s.item||!s.item.alwaysShow),s.item?s.separator=void 0:s.separator&&(s.hidden=!0),!this.sortByLabel){const e=s.index&&this._inputElements[s.index-1];i=e&&"separator"===e.type?e:i,i&&!s.hidden&&(s.separator=i,i=void 0)}}))}else this._itemElements.forEach((e=>{e.labelHighlights=void 0,e.descriptionHighlights=void 0,e.detailHighlights=void 0,e.hidden=!1;const t=e.index&&this._inputElements[e.index-1];e.item&&(e.separator=t&&"separator"===t.type&&!t.buttons?t:void 0)}));const i=this._elementTree.filter((e=>!e.hidden));if(this.sortByLabel&&e){const t=e.toLowerCase();i.sort(((e,i)=>function(e,t,i){const s=e.labelHighlights||[],n=t.labelHighlights||[];if(s.length&&!n.length)return-1;if(!s.length&&n.length)return 1;if(0===s.length&&0===n.length)return 0;return(0,be.LE)(e.saneSortLabel,t.saneSortLabel,i)}(e,i,t)))}let s;const n=i.reduce(((e,t,i)=>(t instanceof De?s?s.children.push(t):e.push(t):t instanceof Ee&&(t.children=[],s=t,e.push(t)),e)),new Array),o=new Array;for(const e of n)e instanceof Ee?o.push({element:e,collapsible:!1,collapsed:!1,children:e.children.map((e=>({element:e,collapsible:!1,collapsed:!1})))}):o.push({element:e,collapsible:!1,collapsed:!1});return this._tree.setChildren(null,o),this._tree.layout(),this._onChangedAllVisibleChecked.fire(this.getAllVisibleChecked()),this._onChangedVisibleCount.fire(i.length),!0}toggleCheckbox(){try{this._shouldFireCheckedEvents=!1;const e=this._tree.getFocus().filter((e=>e instanceof De)),t=this._allVisibleChecked(e);for(const i of e)i.checkboxDisabled||(i.checked=!t)}finally{this._shouldFireCheckedEvents=!0,this._fireCheckedEvents()}}display(e){this._container.style.display=e?"":"none"}isDisplayed(){return"none"!==this._container.style.display}style(e){this._tree.style(e)}toggleHover(){const e=this._tree.getFocus()[0];if(!((null==e?void 0:e.saneTooltip)&&e instanceof De))return;if(this._lastHover&&!this._lastHover.isDisposed)return void this._lastHover.dispose();this.showHover(e);const t=new c.SL;t.add(this._tree.onDidChangeFocus((e=>{e.elements[0]instanceof De&&this.showHover(e.elements[0])}))),this._lastHover&&t.add(this._lastHover),this._elementDisposable.add(t)}_allVisibleChecked(e,t=!0){for(let i=0,s=e.length;i<s;i++){const s=e[i];if(!s.hidden){if(!s.checked)return!1;t=!0}}return t}_fireCheckedEvents(){this._shouldFireCheckedEvents&&(this._onChangedAllVisibleChecked.fire(this.getAllVisibleChecked()),this._onChangedCheckedCount.fire(this.getCheckedCount()),this._onChangedCheckedElements.fire(this.getCheckedElements()))}fireButtonTriggered(e){this._onButtonTriggered.fire(e)}fireSeparatorButtonTriggered(e){this._onSeparatorButtonTriggered.fire(e)}showHover(e){var t,i,s;this._lastHover&&!this._lastHover.isDisposed&&(null===(i=(t=this.hoverDelegate).onDidHideHover)||void 0===i||i.call(t),null===(s=this._lastHover)||void 0===s||s.dispose()),e.element&&e.saneTooltip&&(this._lastHover=this.hoverDelegate.showHover({content:e.saneTooltip,target:e.element,linkHandler:e=>{this.linkOpenerDelegate(e)},appearance:{showPointer:!0},container:this._container,position:{hoverPosition:1}},!1))}};function Fe(e,t){const i=t.toLowerCase().indexOf(e.toLowerCase());return-1!==i?[{start:i,end:i+e.length}]:null}Ce([ce.H],qe.prototype,"onDidChangeFocus",null),Ce([ce.H],qe.prototype,"onDidChangeSelection",null),qe=Ce([Se(4,r.TG),Se(5,fe.F)],qe);var Pe=i(39282),Me=i(49989);const He={weight:200,when:o.Ao.and(o.Ao.equals(K,"quickPick"),Q),metadata:{description:(0,E.NC)("quickPick","Used while in the context of the quick pick. If you change one keybinding for this command, you should change all of the other keybindings (modifier variants) of this command as well.")}};function Ne(e,t={}){var i;Me.W.registerCommandAndKeybindingRule({...He,...e,secondary:Re(e.primary,null!==(i=e.secondary)&&void 0!==i?i:[],t)})}const Ve=I.dz?256:2048;function Re(e,t,i={}){return i.withAltMod&&t.push(512+e),i.withCtrlMod&&(t.push(Ve+e),i.withAltMod&&t.push(512+Ve+e)),i.withCmdMod&&I.dz&&(t.push(2048+e),i.withCtrlMod&&t.push(2304+e),i.withAltMod&&(t.push(2560+e),i.withCtrlMod&&t.push(2816+e))),t}function Ue(e,t){return i=>{const s=i.get(d.eJ).currentQuickInput;if(s)return t&&s.quickNavigate?s.focus(t):s.focus(e)}}Ne({id:"quickInput.pageNext",primary:12,handler:Ue(d.vn.NextPage)},{withAltMod:!0,withCtrlMod:!0,withCmdMod:!0}),Ne({id:"quickInput.pagePrevious",primary:11,handler:Ue(d.vn.PreviousPage)},{withAltMod:!0,withCtrlMod:!0,withCmdMod:!0}),Ne({id:"quickInput.first",primary:Ve+14,handler:Ue(d.vn.First)},{withAltMod:!0,withCmdMod:!0}),Ne({id:"quickInput.last",primary:Ve+13,handler:Ue(d.vn.Last)},{withAltMod:!0,withCmdMod:!0}),Ne({id:"quickInput.next",primary:18,handler:Ue(d.vn.Next)},{withCtrlMod:!0}),Ne({id:"quickInput.previous",primary:16,handler:Ue(d.vn.Previous)},{withCtrlMod:!0});const Qe=(0,E.NC)("quickInput.nextSeparatorWithQuickAccessFallback","If we're in quick access mode, this will navigate to the next item. If we are not in quick access mode, this will navigate to the next separator."),Ke=(0,E.NC)("quickInput.previousSeparatorWithQuickAccessFallback","If we're in quick access mode, this will navigate to the previous item. If we are not in quick access mode, this will navigate to the previous separator.");I.dz?(Ne({id:"quickInput.nextSeparatorWithQuickAccessFallback",primary:2066,handler:Ue(d.vn.NextSeparator,d.vn.Next),metadata:{description:Qe}}),Ne({id:"quickInput.nextSeparator",primary:2578,secondary:[2322],handler:Ue(d.vn.NextSeparator)},{withCtrlMod:!0}),Ne({id:"quickInput.previousSeparatorWithQuickAccessFallback",primary:2064,handler:Ue(d.vn.PreviousSeparator,d.vn.Previous),metadata:{description:Ke}}),Ne({id:"quickInput.previousSeparator",primary:2576,secondary:[2320],handler:Ue(d.vn.PreviousSeparator)},{withCtrlMod:!0})):(Ne({id:"quickInput.nextSeparatorWithQuickAccessFallback",primary:530,handler:Ue(d.vn.NextSeparator,d.vn.Next),metadata:{description:Qe}}),Ne({id:"quickInput.nextSeparator",primary:2578,handler:Ue(d.vn.NextSeparator)}),Ne({id:"quickInput.previousSeparatorWithQuickAccessFallback",primary:528,handler:Ue(d.vn.PreviousSeparator,d.vn.Previous),metadata:{description:Ke}}),Ne({id:"quickInput.previousSeparator",primary:2576,handler:Ue(d.vn.PreviousSeparator)})),Ne({id:"quickInput.acceptInBackground",when:o.Ao.and(He.when,o.Ao.or(Pe.Ul.negate(),G)),primary:17,weight:250,handler:e=>{const t=e.get(d.eJ).currentQuickInput;null==t||t.accept(!0)}},{withAltMod:!0,withCtrlMod:!0,withCmdMod:!0});var je,We=function(e,t,i,s){var n,o=arguments.length,r=o<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,s);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(r=(o<3?n(r):o>3?n(t,i,r):n(t,i))||r);return o>3&&r&&Object.defineProperty(t,i,r),r},$e=function(e,t){return function(i,s){t(i,s,e)}};const Ge=y.$;let Je=je=class extends c.JT{get currentQuickInput(){var e;return null!==(e=this.controller)&&void 0!==e?e:void 0}get container(){return this._container}constructor(e,t,i,s){super(),this.options=e,this.layoutService=t,this.instantiationService=i,this.contextKeyService=s,this.enabled=!0,this.onDidAcceptEmitter=this._register(new n.Q5),this.onDidCustomEmitter=this._register(new n.Q5),this.onDidTriggerButtonEmitter=this._register(new n.Q5),this.keyMods={ctrlCmd:!1,alt:!1},this.controller=null,this.onShowEmitter=this._register(new n.Q5),this.onShow=this.onShowEmitter.event,this.onHideEmitter=this._register(new n.Q5),this.onHide=this.onHideEmitter.event,this.inQuickInputContext=U.bindTo(this.contextKeyService),this.quickInputTypeContext=j.bindTo(this.contextKeyService),this.endOfQuickInputBoxContext=$.bindTo(this.contextKeyService),this.idPrefix=e.idPrefix,this._container=e.container,this.styles=e.styles,this._register(n.ju.runAndSubscribe(y.Xo,(({window:e,disposables:t})=>this.registerKeyModsListeners(e,t)),{window:le.E,disposables:this._store})),this._register(y.Jc((e=>{this.ui&&y.Jj(this.ui.container)===e&&(this.reparentUI(this.layoutService.mainContainer),this.layout(this.layoutService.mainContainerDimension,this.layoutService.mainContainerOffset.quickPickTop))})))}registerKeyModsListeners(e,t){const i=e=>{this.keyMods.ctrlCmd=e.ctrlKey||e.metaKey,this.keyMods.alt=e.altKey};for(const s of[y.tw.KEY_DOWN,y.tw.KEY_UP,y.tw.MOUSE_DOWN])t.add(y.nm(e,s,i,!0))}getUI(e){if(this.ui)return e&&y.Jj(this._container)!==y.Jj(this.layoutService.activeContainer)&&(this.reparentUI(this.layoutService.activeContainer),this.layout(this.layoutService.activeContainerDimension,this.layoutService.activeContainerOffset.quickPickTop)),this.ui;const t=y.R3(this._container,Ge(".quick-input-widget.show-file-icons"));t.tabIndex=-1,t.style.display="none";const i=y.dS(t),s=y.R3(t,Ge(".quick-input-titlebar")),n=this._register(new ee.o(s,{hoverDelegate:this.options.hoverDelegate}));n.domNode.classList.add("quick-input-left-action-bar");const o=y.R3(s,Ge(".quick-input-title")),r=this._register(new ee.o(s,{hoverDelegate:this.options.hoverDelegate}));r.domNode.classList.add("quick-input-right-action-bar");const a=y.R3(t,Ge(".quick-input-header")),l=y.R3(a,Ge("input.quick-input-check-all"));l.type="checkbox",l.setAttribute("aria-label",(0,E.NC)("quickInput.checkAll","Toggle all checkboxes")),this._register(y.mu(l,y.tw.CHANGE,(e=>{const t=l.checked;B.setAllVisibleChecked(t)}))),this._register(y.nm(l,y.tw.CLICK,(e=>{(e.x||e.y)&&p.setFocus()})));const h=y.R3(a,Ge(".quick-input-description")),c=y.R3(a,Ge(".quick-input-and-message")),u=y.R3(c,Ge(".quick-input-filter")),p=this._register(new re(u,this.styles.inputBox,this.styles.toggle));p.setAttribute("aria-describedby",`${this.idPrefix}message`);const g=y.R3(u,Ge(".quick-input-visible-count"));g.setAttribute("aria-live","polite"),g.setAttribute("aria-atomic","true");const m=new ie.Z(g,{countFormat:(0,E.NC)({key:"quickInput.visibleCount",comment:["This tells the user how many items are shown in a list of items to select from. The items can be anything. Currently not visible, but read by screen readers."]},"{0} Results")},this.styles.countBadge),v=y.R3(u,Ge(".quick-input-count"));v.setAttribute("aria-live","polite");const b=new ie.Z(v,{countFormat:(0,E.NC)({key:"quickInput.countSelected",comment:["This tells the user how many items are selected in a list of items to select from. The items can be anything."]},"{0} Selected")},this.styles.countBadge),_=y.R3(a,Ge(".quick-input-action")),k=this._register(new te.z(_,this.styles.button));k.label=(0,E.NC)("ok","OK"),this._register(k.onDidClick((e=>{this.onDidAcceptEmitter.fire()})));const f=y.R3(a,Ge(".quick-input-action")),C=this._register(new te.z(f,{...this.styles.button,supportIcons:!0}));C.label=(0,E.NC)("custom","Custom"),this._register(C.onDidClick((e=>{this.onDidCustomEmitter.fire()})));const S=y.R3(c,Ge(`#${this.idPrefix}message.quick-input-message`)),w=this._register(new se.k(t,this.styles.progressBar));w.getContainer().classList.add("quick-input-progress");const I=y.R3(t,Ge(".quick-input-html-widget"));I.tabIndex=-1;const D=y.R3(t,Ge(".quick-input-description")),x=this.idPrefix+"list",B=this._register(this.instantiationService.createInstance(qe,t,this.options.hoverDelegate,this.options.linkOpenerDelegate,x));p.setAttribute("aria-controls",x),this._register(B.onDidChangeFocus((()=>{var e;p.setAttribute("aria-activedescendant",null!==(e=B.getActiveDescendant())&&void 0!==e?e:"")}))),this._register(B.onChangedAllVisibleChecked((e=>{l.checked=e}))),this._register(B.onChangedVisibleCount((e=>{m.setCount(e)}))),this._register(B.onChangedCheckedCount((e=>{b.setCount(e)}))),this._register(B.onLeave((()=>{setTimeout((()=>{this.controller&&(p.setFocus(),this.controller instanceof Z&&this.controller.canSelectMany&&B.clearFocus())}),0)})));const L=y.go(t);return this._register(L),this._register(y.nm(t,y.tw.FOCUS,(e=>{const t=this.getUI();if(y.jg(e.relatedTarget,t.inputContainer)){const e=t.inputBox.isSelectionAtEnd();this.endOfQuickInputBoxContext.get()!==e&&this.endOfQuickInputBoxContext.set(e)}y.jg(e.relatedTarget,t.container)||(this.inQuickInputContext.set(!0),this.previousFocusElement=y.Re(e.relatedTarget)?e.relatedTarget:void 0)}),!0)),this._register(L.onDidBlur((()=>{this.getUI().ignoreFocusOut||this.options.ignoreFocusOut()||this.hide(d.Jq.Blur),this.inQuickInputContext.set(!1),this.endOfQuickInputBoxContext.set(!1),this.previousFocusElement=void 0}))),this._register(p.onKeyDown((e=>{const t=this.getUI().inputBox.isSelectionAtEnd();this.endOfQuickInputBoxContext.get()!==t&&this.endOfQuickInputBoxContext.set(t)}))),this._register(y.nm(t,y.tw.FOCUS,(e=>{p.setFocus()}))),this._register(y.mu(t,y.tw.KEY_DOWN,(e=>{if(!y.jg(e.target,I))switch(e.keyCode){case 3:y.zB.stop(e,!0),this.enabled&&this.onDidAcceptEmitter.fire();break;case 9:y.zB.stop(e,!0),this.hide(d.Jq.Gesture);break;case 2:if(!e.altKey&&!e.ctrlKey&&!e.metaKey){const i=[".quick-input-list .monaco-action-bar .always-visible",".quick-input-list-entry:hover .monaco-action-bar",".monaco-list-row.focused .monaco-action-bar"];if(t.classList.contains("show-checkboxes")?i.push("input"):i.push("input[type=text]"),this.getUI().list.isDisplayed()&&i.push(".monaco-list"),this.getUI().message&&i.push(".quick-input-message a"),this.getUI().widget){if(y.jg(e.target,this.getUI().widget))break;i.push(".quick-input-html-widget")}const s=t.querySelectorAll(i.join(", "));e.shiftKey&&e.target===s[0]?(y.zB.stop(e,!0),B.clearFocus()):!e.shiftKey&&y.jg(e.target,s[s.length-1])&&(y.zB.stop(e,!0),s[0].focus())}break;case 10:e.ctrlKey&&(y.zB.stop(e,!0),this.getUI().list.toggleHover())}}))),this.ui={container:t,styleSheet:i,leftActionBar:n,titleBar:s,title:o,description1:D,description2:h,widget:I,rightActionBar:r,checkAll:l,inputContainer:c,filterContainer:u,inputBox:p,visibleCountContainer:g,visibleCount:m,countContainer:v,count:b,okContainer:_,ok:k,message:S,customButtonContainer:f,customButton:C,list:B,progressBar:w,onDidAccept:this.onDidAcceptEmitter.event,onDidCustom:this.onDidCustomEmitter.event,onDidTriggerButton:this.onDidTriggerButtonEmitter.event,ignoreFocusOut:!1,keyMods:this.keyMods,show:e=>this.show(e),hide:()=>this.hide(),setVisibilities:e=>this.setVisibilities(e),setEnabled:e=>this.setEnabled(e),setContextKey:e=>this.options.setContextKey(e),linkOpenerDelegate:e=>this.options.linkOpenerDelegate(e)},this.updateStyles(),this.ui}reparentUI(e){this.ui&&(this._container=e,y.R3(this._container,this.ui.container))}pick(e,t={},i=s.Ts.None){return new Promise(((s,n)=>{let o=e=>{var i;o=s,null===(i=t.onKeyMods)||void 0===i||i.call(t,r.keyMods),s(e)};if(i.isCancellationRequested)return void o(void 0);const r=this.createQuickPick();let a;const l=[r,r.onDidAccept((()=>{if(r.canSelectMany)o(r.selectedItems.slice()),r.hide();else{const e=r.activeItems[0];e&&(o(e),r.hide())}})),r.onDidChangeActive((e=>{const i=e[0];i&&t.onDidFocus&&t.onDidFocus(i)})),r.onDidChangeSelection((e=>{if(!r.canSelectMany){const t=e[0];t&&(o(t),r.hide())}})),r.onDidTriggerItemButton((e=>t.onDidTriggerItemButton&&t.onDidTriggerItemButton({...e,removeItem:()=>{const t=r.items.indexOf(e.item);if(-1!==t){const e=r.items.slice(),i=e.splice(t,1),s=r.activeItems.filter((e=>e!==i[0])),n=r.keepScrollPosition;r.keepScrollPosition=!0,r.items=e,s&&(r.activeItems=s),r.keepScrollPosition=n}}}))),r.onDidTriggerSeparatorButton((e=>{var i;return null===(i=t.onDidTriggerSeparatorButton)||void 0===i?void 0:i.call(t,e)})),r.onDidChangeValue((e=>{!a||e||1===r.activeItems.length&&r.activeItems[0]===a||(r.activeItems=[a])})),i.onCancellationRequested((()=>{r.hide()})),r.onDidHide((()=>{(0,c.B9)(l),o(void 0)}))];r.title=t.title,r.canSelectMany=!!t.canPickMany,r.placeholder=t.placeHolder,r.ignoreFocusOut=!!t.ignoreFocusLost,r.matchOnDescription=!!t.matchOnDescription,r.matchOnDetail=!!t.matchOnDetail,r.matchOnLabel=void 0===t.matchOnLabel||t.matchOnLabel,r.quickNavigate=t.quickNavigate,r.hideInput=!!t.hideInput,r.contextKey=t.contextKey,r.busy=!0,Promise.all([e,t.activeItem]).then((([e,t])=>{a=t,r.busy=!1,r.items=e,r.canSelectMany&&(r.selectedItems=e.filter((e=>"separator"!==e.type&&e.picked))),a&&(r.activeItems=[a])})),r.show(),Promise.resolve(e).then(void 0,(e=>{n(e),r.hide()}))}))}createQuickPick(){const e=this.getUI(!0);return new Z(e)}createInputBox(){const e=this.getUI(!0);return new Y(e)}show(e){const t=this.getUI(!0);this.onShowEmitter.fire();const i=this.controller;this.controller=e,null==i||i.didHide(),this.setEnabled(!0),t.leftActionBar.clear(),t.title.textContent="",t.description1.textContent="",t.description2.textContent="",y.mc(t.widget),t.rightActionBar.clear(),t.checkAll.checked=!1,t.inputBox.placeholder="",t.inputBox.password=!1,t.inputBox.showDecoration(D.Z.Ignore),t.visibleCount.setCount(0),t.count.setCount(0),y.mc(t.message),t.progressBar.stop(),t.list.setElements([]),t.list.matchOnDescription=!1,t.list.matchOnDetail=!1,t.list.matchOnLabel=!0,t.list.sortByLabel=!0,t.ignoreFocusOut=!1,t.inputBox.toggles=void 0;const s=this.options.backKeybindingLabel();J.tooltip=s?(0,E.NC)("quickInput.backWithKeybinding","Back ({0})",s):(0,E.NC)("quickInput.back","Back"),t.container.style.display="",this.updateLayout(),t.inputBox.setFocus(),this.quickInputTypeContext.set(e.type)}isVisible(){return!!this.ui&&"none"!==this.ui.container.style.display}setVisibilities(e){const t=this.getUI();t.title.style.display=e.title?"":"none",t.description1.style.display=e.description&&(e.inputBox||e.checkAll)?"":"none",t.description2.style.display=!e.description||e.inputBox||e.checkAll?"none":"",t.checkAll.style.display=e.checkAll?"":"none",t.inputContainer.style.display=e.inputBox?"":"none",t.filterContainer.style.display=e.inputBox?"":"none",t.visibleCountContainer.style.display=e.visibleCount?"":"none",t.countContainer.style.display=e.count?"":"none",t.okContainer.style.display=e.ok?"":"none",t.customButtonContainer.style.display=e.customButton?"":"none",t.message.style.display=e.message?"":"none",t.progressBar.getContainer().style.display=e.progressBar?"":"none",t.list.display(!!e.list),t.container.classList.toggle("show-checkboxes",!!e.checkBox),t.container.classList.toggle("hidden-input",!e.inputBox&&!e.description),this.updateLayout()}setEnabled(e){if(e!==this.enabled){this.enabled=e;for(const t of this.getUI().leftActionBar.viewItems)t.action.enabled=e;for(const t of this.getUI().rightActionBar.viewItems)t.action.enabled=e;this.getUI().checkAll.disabled=!e,this.getUI().inputBox.enabled=e,this.getUI().ok.enabled=e,this.getUI().list.enabled=e}}hide(e){var t,i;const s=this.controller;if(!s)return;s.willHide(e);const n=null===(t=this.ui)||void 0===t?void 0:t.container,o=n&&!y.b5(n);if(this.controller=null,this.onHideEmitter.fire(),n&&(n.style.display="none"),!o){let e=this.previousFocusElement;for(;e&&!e.offsetParent;)e=null!==(i=e.parentElement)&&void 0!==i?i:void 0;(null==e?void 0:e.offsetParent)?(e.focus(),this.previousFocusElement=void 0):this.options.returnFocus()}s.didHide(e)}layout(e,t){this.dimension=e,this.titleBarOffset=t,this.updateLayout()}updateLayout(){if(this.ui&&this.isVisible()){this.ui.container.style.top=`${this.titleBarOffset}px`;const e=this.ui.container.style,t=Math.min(.62*this.dimension.width,je.MAX_WIDTH);e.width=t+"px",e.marginLeft="-"+t/2+"px",this.ui.inputBox.layout(),this.ui.list.layout(this.dimension&&.4*this.dimension.height)}}applyStyles(e){this.styles=e,this.updateStyles()}updateStyles(){if(this.ui){const{quickInputTitleBackground:e,quickInputBackground:t,quickInputForeground:i,widgetBorder:s,widgetShadow:n}=this.styles.widget;this.ui.titleBar.style.backgroundColor=null!=e?e:"",this.ui.container.style.backgroundColor=null!=t?t:"",this.ui.container.style.color=null!=i?i:"",this.ui.container.style.border=s?`1px solid ${s}`:"",this.ui.container.style.boxShadow=n?`0 0 8px 2px ${n}`:"",this.ui.list.style(this.styles.list);const o=[];this.styles.pickerGroup.pickerGroupBorder&&o.push(`.quick-input-list .quick-input-list-entry { border-top-color:  ${this.styles.pickerGroup.pickerGroupBorder}; }`),this.styles.pickerGroup.pickerGroupForeground&&o.push(`.quick-input-list .quick-input-list-separator { color:  ${this.styles.pickerGroup.pickerGroupForeground}; }`),this.styles.pickerGroup.pickerGroupForeground&&o.push(".quick-input-list .quick-input-list-separator-as-item { color: var(--vscode-descriptionForeground); }"),(this.styles.keybindingLabel.keybindingLabelBackground||this.styles.keybindingLabel.keybindingLabelBorder||this.styles.keybindingLabel.keybindingLabelBottomBorder||this.styles.keybindingLabel.keybindingLabelShadow||this.styles.keybindingLabel.keybindingLabelForeground)&&(o.push(".quick-input-list .monaco-keybinding > .monaco-keybinding-key {"),this.styles.keybindingLabel.keybindingLabelBackground&&o.push(`background-color: ${this.styles.keybindingLabel.keybindingLabelBackground};`),this.styles.keybindingLabel.keybindingLabelBorder&&o.push(`border-color: ${this.styles.keybindingLabel.keybindingLabelBorder};`),this.styles.keybindingLabel.keybindingLabelBottomBorder&&o.push(`border-bottom-color: ${this.styles.keybindingLabel.keybindingLabelBottomBorder};`),this.styles.keybindingLabel.keybindingLabelShadow&&o.push(`box-shadow: inset 0 -1px 0 ${this.styles.keybindingLabel.keybindingLabelShadow};`),this.styles.keybindingLabel.keybindingLabelForeground&&o.push(`color: ${this.styles.keybindingLabel.keybindingLabelForeground};`),o.push("}"));const r=o.join("\n");r!==this.ui.styleSheet.textContent&&(this.ui.styleSheet.textContent=r)}}};Je.MAX_WIDTH=600,Je=je=We([$e(1,a.F),$e(2,r.TG),$e(3,o.i6)],Je);var ze=function(e,t,i,s){var n,o=arguments.length,r=o<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,s);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(r=(o<3?n(r):o>3?n(t,i,r):n(t,i))||r);return o>3&&r&&Object.defineProperty(t,i,r),r},Ze=function(e,t){return function(i,s){t(i,s,e)}};let Ye=class extends k.bB{get controller(){return this._controller||(this._controller=this._register(this.createController())),this._controller}get hasController(){return!!this._controller}get currentQuickInput(){return this.controller.currentQuickInput}get quickAccess(){return this._quickAccess||(this._quickAccess=this._register(this.instantiationService.createInstance(v))),this._quickAccess}constructor(e,t,i,s,o){super(i),this.instantiationService=e,this.contextKeyService=t,this.layoutService=s,this.configurationService=o,this._onShow=this._register(new n.Q5),this._onHide=this._register(new n.Q5),this.contexts=new Map}createController(e=this.layoutService,t){const i={idPrefix:"quickInput_",container:e.activeContainer,ignoreFocusOut:()=>!1,backKeybindingLabel:()=>{},setContextKey:e=>this.setContextKey(e),linkOpenerDelegate:e=>{this.instantiationService.invokeFunction((t=>{t.get(l.v).open(e,{allowCommands:!0,fromUserGesture:!0})}))},returnFocus:()=>e.focus(),styles:this.computeStyles(),hoverDelegate:this._register(this.instantiationService.createInstance(X))},s=this._register(this.instantiationService.createInstance(Je,{...i,...t}));return s.layout(e.activeContainerDimension,e.activeContainerOffset.quickPickTop),this._register(e.onDidLayoutActiveContainer((t=>{(0,y.Jj)(e.activeContainer)===(0,y.Jj)(s.container)&&s.layout(t,e.activeContainerOffset.quickPickTop)}))),this._register(e.onDidChangeActiveContainer((()=>{s.isVisible()||s.layout(e.activeContainerDimension,e.activeContainerOffset.quickPickTop)}))),this._register(s.onShow((()=>{this.resetContextKeys(),this._onShow.fire()}))),this._register(s.onHide((()=>{this.resetContextKeys(),this._onHide.fire()}))),s}setContextKey(e){let t;e&&(t=this.contexts.get(e),t||(t=new o.uy(e,!1).bindTo(this.contextKeyService),this.contexts.set(e,t))),t&&t.get()||(this.resetContextKeys(),null==t||t.set(!0))}resetContextKeys(){this.contexts.forEach((e=>{e.get()&&e.reset()}))}pick(e,t={},i=s.Ts.None){return this.controller.pick(e,t,i)}createQuickPick(){return this.controller.createQuickPick()}createInputBox(){return this.controller.createInputBox()}updateStyles(){this.hasController&&this.controller.applyStyles(this.computeStyles())}computeStyles(){return{widget:{quickInputBackground:(0,_.n_1)(_.zKr),quickInputForeground:(0,_.n_1)(_.tZ6),quickInputTitleBackground:(0,_.n_1)(_.loF),widgetBorder:(0,_.n_1)(_.A42),widgetShadow:(0,_.n_1)(_.rh)},inputBox:b.Hc,toggle:b.pl,countBadge:b.ku,button:b.wG,progressBar:b.b5,keybindingLabel:b.eO,list:(0,b.TU)({listBackground:_.zKr,listFocusBackground:_.Vqd,listFocusForeground:_.NPS,listInactiveFocusForeground:_.NPS,listInactiveSelectionIconForeground:_.cbQ,listInactiveFocusBackground:_.Vqd,listFocusOutline:_.xL1,listInactiveFocusOutline:_.xL1}),pickerGroup:{pickerGroupBorder:(0,_.n_1)(_.opG),pickerGroupForeground:(0,_.n_1)(_.kJk)}}}};Ye=ze([Ze(0,r.TG),Ze(1,o.i6),Ze(2,k.XE),Ze(3,a.F),Ze(4,M.Ui)],Ye)},90725:(e,t,i)=>{i.d(t,{IP:()=>a,Ry:()=>s});var s,n=i(9488),o=i(5976),r=i(89872);!function(e){e[e.PRESERVE=0]="PRESERVE",e[e.LAST=1]="LAST"}(s||(s={}));const a={Quickaccess:"workbench.contributions.quickaccess"};r.B.add(a.Quickaccess,new class{constructor(){this.providers=[],this.defaultProvider=void 0}registerQuickAccessProvider(e){return 0===e.prefix.length?this.defaultProvider=e:this.providers.push(e),this.providers.sort(((e,t)=>t.prefix.length-e.prefix.length)),(0,o.OF)((()=>{this.providers.splice(this.providers.indexOf(e),1),this.defaultProvider===e&&(this.defaultProvider=void 0)}))}getQuickAccessProviders(){return(0,n.kX)([this.defaultProvider,...this.providers])}getQuickAccessProvider(e){return e&&this.providers.find((t=>e.startsWith(t.prefix)))||void 0||this.defaultProvider}})},41157:(e,t,i)=>{i.d(t,{Jq:()=>o,X5:()=>n,eJ:()=>l,jG:()=>r,vn:()=>a});var s=i(72065);const n={ctrlCmd:!1,alt:!1};var o,r,a;!function(e){e[e.Blur=1]="Blur",e[e.Gesture=2]="Gesture",e[e.Other=3]="Other"}(o||(o={})),function(e){e[e.NONE=0]="NONE",e[e.FIRST=1]="FIRST",e[e.SECOND=2]="SECOND",e[e.LAST=3]="LAST"}(r||(r={})),function(e){e[e.First=1]="First",e[e.Second=2]="Second",e[e.Last=3]="Last",e[e.Next=4]="Next",e[e.Previous=5]="Previous",e[e.NextPage=6]="NextPage",e[e.PreviousPage=7]="PreviousPage",e[e.NextSeparator=8]="NextSeparator",e[e.PreviousSeparator=9]="PreviousSeparator"}(a||(a={}));new class{constructor(e){this.options=e}};const l=(0,s.yh)("quickInputService")},89872:(e,t,i)=>{i.d(t,{B:()=>o});var s=i(35146),n=i(98401);const o=new class{constructor(){this.data=new Map}add(e,t){s.ok(n.HD(e)),s.ok(n.Kn(t)),s.ok(!this.data.has(e),"There is already an extension with this id"),this.data.set(e,t)}as(e){return this.data.get(e)||null}}},78544:(e,t,i)=>{i.d(t,{j:()=>s});var s,n=i(32429),o=i(25670),r=i(14603);!function(e){e.className=function(e){switch(e){case r.Z.Ignore:return"severity-ignore "+o.k.asClassName(n.l.info);case r.Z.Info:return o.k.asClassName(n.l.info);case r.Z.Warning:return o.k.asClassName(n.l.warning);case r.Z.Error:return o.k.asClassName(n.l.error);default:return""}}}(s||(s={}))}}]);